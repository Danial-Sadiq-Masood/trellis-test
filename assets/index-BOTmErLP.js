function As(i,r){for(var e=0;e<r.length;e++){const t=r[e];if(typeof t!="string"&&!Array.isArray(t)){for(const n in t)if(n!=="default"&&!(n in i)){const a=Object.getOwnPropertyDescriptor(t,n);a&&Object.defineProperty(i,n,a.get?a:{enumerable:!0,get:()=>t[n]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(n){if(n.ep)return;n.ep=!0;const a=e(n);fetch(n.href,a)}})();var zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function or(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Hi(i){if(i.__esModule)return i;var r=i.default;if(typeof r=="function"){var e=function t(){return this instanceof t?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(i).forEach(function(t){var n=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:function(){return i[t]}})}),e}var Dr={},nu;function Vl(){return nu||(nu=1,function(i){var r=Dr.__generator||function(v,g){var A={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},E,P,T,L;return L={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function m(y){return function(w){return I([y,w])}}function I(y){if(E)throw new TypeError("Generator is already executing.");for(;A;)try{if(E=1,P&&(T=y[0]&2?P.return:y[0]?P.throw||((T=P.return)&&T.call(P),0):P.next)&&!(T=T.call(P,y[1])).done)return T;switch(P=0,T&&(y=[y[0]&2,T.value]),y[0]){case 0:case 1:T=y;break;case 4:return A.label++,{value:y[1],done:!1};case 5:A.label++,P=y[1],y=[0];continue;case 7:y=A.ops.pop(),A.trys.pop();continue;default:if(T=A.trys,!(T=T.length>0&&T[T.length-1])&&(y[0]===6||y[0]===2)){A=0;continue}if(y[0]===3&&(!T||y[1]>T[0]&&y[1]<T[3])){A.label=y[1];break}if(y[0]===6&&A.label<T[1]){A.label=T[1],T=y;break}if(T&&A.label<T[2]){A.label=T[2],A.ops.push(y);break}T[2]&&A.ops.pop(),A.trys.pop();continue}y=g.call(v,A)}catch(w){y=[6,w],P=0}finally{E=T=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},e=Dr.__values||function(v){var g=typeof Symbol=="function"&&Symbol.iterator,A=g&&v[g],E=0;if(A)return A.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&E>=v.length&&(v=void 0),{value:v&&v[E++],done:!v}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},t=Dr.__read||function(v,g){var A=typeof Symbol=="function"&&v[Symbol.iterator];if(!A)return v;var E=A.call(v),P,T=[],L;try{for(;(g===void 0||g-- >0)&&!(P=E.next()).done;)T.push(P.value)}catch(m){L={error:m}}finally{try{P&&!P.done&&(A=E.return)&&A.call(E)}finally{if(L)throw L.error}}return T};Object.defineProperty(i,"__esModule",{value:!0}),i.distance=i.bfs=i.connectedComponents=i.equals=i.clamp=i.boundsToDimensions=i.boundsToViewport=i.viewportToBounds=i.mergeBounds=i.getSelectionBounds=void 0;var n=function(v,g){var A,E,P,T,L,m;g===void 0&&(g=0);var I=0,y=0,w=0,O=0;try{for(var d=e(v),K=d.next();!K.done;K=d.next()){var b=K.value,R=((P=b.x)!==null&&P!==void 0?P:0)-b.radius,B=((T=b.y)!==null&&T!==void 0?T:0)-b.radius,F=((L=b.x)!==null&&L!==void 0?L:0)+b.radius,S=((m=b.y)!==null&&m!==void 0?m:0)+b.radius;R<I&&(I=R),B<y&&(y=B),F>w&&(w=F),S>O&&(O=S)}}catch(_){A={error:_}}finally{try{K&&!K.done&&(E=d.return)&&E.call(d)}finally{if(A)throw A.error}}return{left:I-g,top:y-g,right:w+g,bottom:O+g}};i.getSelectionBounds=n;var a=function(v,g,A){return A===void 0&&(A=0),{left:Math.min(v.left,g.left)-A,top:Math.min(v.top,g.top)-A,right:Math.max(v.right,g.right)+A,bottom:Math.max(v.bottom,g.bottom)+A}};i.mergeBounds=a;var o=function(v,g){var A=v.x,E=v.y,P=v.zoom,T=g.width,L=g.height,m=T/2/P,I=L/2/P;return{left:-(A+m),top:-(E+I),right:-(A-m),bottom:-(E-I)}};i.viewportToBounds=o;var s=function(v,g){var A=v.left,E=v.top,P=v.right,T=v.bottom,L=g.width,m=g.height,I=P-A,y=T-E,w=I/2-P,O=y/2-T;return I/y>L/m?{x:w,y:O,zoom:L/I}:{x:w,y:O,zoom:m/y}};i.boundsToViewport=s;var u=function(v,g){var A=v.left,E=v.top,P=v.right,T=v.bottom;return{width:(P-A)/g,height:(T-E)/g}};i.boundsToDimensions=u;var h=function(v,g,A){return Math.max(v,Math.min(g,A))};i.clamp=h;var l=function(v,g){if(v===g)return!0;if(Array.isArray(v)&&Array.isArray(g)){if(v.length!==g.length)return!1;for(var A=0;A<v.length;A++)if(!i.equals(v[A],g[A]))return!1;return!0}else if(typeof v=="object"&&typeof g=="object"){if(Object.keys(v).length!==Object.keys(g).length)return!1;for(var E in v)if(!i.equals(v[E],g[E]))return!1;return!0}return!1};i.equals=l;var c=function(v){var g,A,E,P,T,L,m,I,y,w,O,d={},K={},b=new Set,R=[];try{for(var B=e(v.edges),F=B.next();!F.done;F=B.next()){var S=F.value;d[S.source]===void 0&&(d[S.source]={}),d[S.source][S.target]===void 0&&(d[S.source][S.target]=[]),d[S.target]===void 0&&(d[S.target]={}),d[S.target][S.source]===void 0&&(d[S.target][S.source]=[]),d[S.source][S.target].push(S),d[S.target][S.source].push(S)}}catch(te){g={error:te}}finally{try{F&&!F.done&&(A=B.return)&&A.call(B)}finally{if(g)throw g.error}}try{for(var _=e(v.nodes),x=_.next();!x.done;x=_.next()){var D=x.value;K[D.id]=D}}catch(te){E={error:te}}finally{try{x&&!x.done&&(P=_.return)&&P.call(_)}finally{if(E)throw E.error}}try{for(var N=e(v.nodes),C=N.next();!C.done;C=N.next()){var M=C.value.id;if(!b.has(M)){b.add(M);for(var U=[M],k={nodes:(m={},m[M]=K[M],m),edges:{}};U.length>0;){var X=d[U.pop()];if(X!==void 0)try{for(var W=(I=void 0,e(Object.entries(X))),z=W.next();!z.done;z=W.next()){var $=t(z.value,2),G=$[0],j=$[1];try{for(var Z=(w=void 0,e(j)),Y=Z.next();!Y.done;Y=Z.next()){var S=Y.value;k.edges[S.id]=S}}catch(te){w={error:te}}finally{try{Y&&!Y.done&&(O=Z.return)&&O.call(Z)}finally{if(w)throw w.error}}k.nodes[G]=K[G],b.has(G)||(U.push(G),b.add(G))}}catch(te){I={error:te}}finally{try{z&&!z.done&&(y=W.return)&&y.call(W)}finally{if(I)throw I.error}}}R.push(k)}}}catch(te){T={error:te}}finally{try{C&&!C.done&&(L=N.return)&&L.call(N)}finally{if(T)throw T.error}}return R.map(function(te){var ie=te.nodes,Q=te.edges;return{nodes:Object.values(ie),edges:Object.values(Q)}})};i.connectedComponents=c;function f(v,g){var A,E,P,T,L,m,I,y,w,O,O,d,K,b,R,B,F,S,_,x;return r(this,function(D){switch(D.label){case 0:A={},E={},P=new Set,T=[g.nodes[0].id];try{for(L=e(g.edges),m=L.next();!m.done;m=L.next())I=m.value,A[I.source]===void 0&&(A[I.source]=[]),A[I.target]===void 0&&(A[I.target]=[]),A[I.source].push(I.target),A[I.target].push(I.source)}catch(N){R={error:N}}finally{try{m&&!m.done&&(B=L.return)&&B.call(L)}finally{if(R)throw R.error}}try{for(y=e(g.nodes),w=y.next();!w.done;w=y.next())O=w.value,E[O.id]=O}catch(N){F={error:N}}finally{try{w&&!w.done&&(S=y.return)&&S.call(y)}finally{if(F)throw F.error}}D.label=1;case 1:return T.length>0?(O=T.shift(),P.has(O)?[3,1]:(P.add(O),v(E[O])?[4,E[O]]:[3,3])):[3,4];case 2:D.sent(),D.label=3;case 3:try{for(d=(_=void 0,e(A[O])),K=d.next();!K.done;K=d.next())b=K.value,P.has(b)||T.push(b)}catch(N){_={error:N}}finally{try{K&&!K.done&&(x=d.return)&&x.call(d)}finally{if(_)throw _.error}}return[3,1];case 4:return[2]}})}i.bfs=f;var p=function(v,g,A,E){return Math.hypot(A-v,E-g)};i.distance=p}(Dr)),Dr}var Tn=Vl();const xd=or(Tn),Rd=As({__proto__:null,default:xd},[Tn]);var Yt={},en={},au;function bd(){return au||(au=1,function(i){(function(r){var e=r.Promise,t=e&&"resolve"in e&&"reject"in e&&"all"in e&&"race"in e&&function(){var O;return new e(function(d){O=d}),typeof O=="function"}();i.Promise=t?e:w,i.Polyfill=w;var n="pending",a="sealed",o="fulfilled",s="rejected",u=function(){};function h(O){return Object.prototype.toString.call(O)==="[object Array]"}var l=typeof setImmediate<"u"?setImmediate:setTimeout,c=[],f;function p(){for(var O=0;O<c.length;O++)c[O][0](c[O][1]);c=[],f=!1}function v(O,d){c.push([O,d]),f||(f=!0,l(p,0))}function g(O,d){function K(R){P(d,R)}function b(R){L(d,R)}try{O(K,b)}catch(R){b(R)}}function A(O){var d=O.owner,K=d.state_,b=d.data_,R=O[K],B=O.then;if(typeof R=="function"){K=o;try{b=R(b)}catch(F){L(B,F)}}E(B,b)||(K===o&&P(B,b),K===s&&L(B,b))}function E(O,d){var K;try{if(O===d)throw new TypeError("A promises callback cannot return that same promise.");if(d&&(typeof d=="function"||typeof d=="object")){var b=d.then;if(typeof b=="function")return b.call(d,function(R){K||(K=!0,d!==R?P(O,R):T(O,R))},function(R){K||(K=!0,L(O,R))}),!0}}catch(R){return K||L(O,R),!0}return!1}function P(O,d){(O===d||!E(O,d))&&T(O,d)}function T(O,d){O.state_===n&&(O.state_=a,O.data_=d,v(I,O))}function L(O,d){O.state_===n&&(O.state_=a,O.data_=d,v(y,O))}function m(O){var d=O.then_;O.then_=void 0;for(var K=0;K<d.length;K++)A(d[K])}function I(O){O.state_=o,m(O)}function y(O){O.state_=s,m(O)}function w(O){if(typeof O!="function")throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof w))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],g(O,this)}w.prototype={constructor:w,state_:n,then_:null,data_:void 0,then:function(O,d){var K={owner:this,then:new this.constructor(u),fulfilled:O,rejected:d};return this.state_===o||this.state_===s?v(A,K):this.then_.push(K),K.then},catch:function(O){return this.then(null,O)}},w.all=function(O){var d=this;if(!h(O))throw new TypeError("You must pass an array to Promise.all().");return new d(function(K,b){var R=[],B=0;function F(x){return B++,function(D){R[x]=D,--B||K(R)}}for(var S=0,_;S<O.length;S++)_=O[S],_&&typeof _.then=="function"?_.then(F(S),b):R[S]=_;B||K(R)})},w.race=function(O){var d=this;if(!h(O))throw new TypeError("You must pass an array to Promise.race().");return new d(function(K,b){for(var R=0,B;R<O.length;R++)B=O[R],B&&typeof B.then=="function"?B.then(K,b):K(B)})},w.resolve=function(O){var d=this;return O&&typeof O=="object"&&O.constructor===d?O:new d(function(K){K(O)})},w.reject=function(O){var d=this;return new d(function(K,b){b(O)})}})(typeof window<"u"?window:typeof zr<"u"?zr:typeof self<"u"?self:en)}(en)),en}var Pd=bd();/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Jn,ou;function Ld(){if(ou)return Jn;ou=1;var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function t(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function n(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var o={},s=0;s<10;s++)o["_"+String.fromCharCode(s)]=s;var u=Object.getOwnPropertyNames(o).map(function(l){return o[l]});if(u.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(l){h[l]=l}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Jn=n()?Object.assign:function(a,o){for(var s,u=t(a),h,l=1;l<arguments.length;l++){s=Object(arguments[l]);for(var c in s)r.call(s,c)&&(u[c]=s[c]);if(i){h=i(s);for(var f=0;f<h.length;f++)e.call(s,h[f])&&(u[h[f]]=s[h[f]])}}return u},Jn}var wd=Ld();const Nd=or(wd);/*!
 * @pixi/polyfill - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */window.Promise||(window.Promise=Pd.Polyfill);Object.assign||(Object.assign=Nd);var Cd=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(window.performance&&window.performance.now)){var Md=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-Md}}var Zn=Date.now(),su=["ms","moz","webkit","o"];for(var Qn=0;Qn<su.length&&!window.requestAnimationFrame;++Qn){var ea=su[Qn];window.requestAnimationFrame=window[ea+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ea+"CancelAnimationFrame"]||window[ea+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(i){if(typeof i!="function")throw new TypeError(i+"is not a function");var r=Date.now(),e=Cd+Zn-r;return e<0&&(e=0),Zn=r,window.setTimeout(function(){Zn=Date.now(),i(performance.now())},e)});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(i){return clearTimeout(i)});Math.sign||(Math.sign=function(r){return r=Number(r),r===0||isNaN(r)?r:r>0?1:-1});Number.isInteger||(Number.isInteger=function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r});window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint8Array||(window.Uint8Array=Array);window.Int32Array||(window.Int32Array=Array);var ta=/iPhone/i,uu=/iPod/i,hu=/iPad/i,lu=/\biOS-universal(?:.+)Mac\b/i,ra=/\bAndroid(?:.+)Mobile\b/i,fu=/Android/i,Kr=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,tn=/Silk/i,Dt=/Windows Phone/i,cu=/\bWindows(?:.+)ARM\b/i,du=/BlackBerry/i,pu=/BB10/i,vu=/Opera Mini/i,gu=/\b(CriOS|Chrome)(?:.+)Mobile/i,Au=/Mobile(?:.+)Firefox\b/i,Su=function(i){return typeof i<"u"&&i.platform==="MacIntel"&&typeof i.maxTouchPoints=="number"&&i.maxTouchPoints>1&&typeof MSStream>"u"};function Dd(i){return function(r){return r.test(i)}}function Kd(i){var r={userAgent:"",platform:"",maxTouchPoints:0};!i&&typeof navigator<"u"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof i=="string"?r.userAgent=i:i&&i.userAgent&&(r={userAgent:i.userAgent,platform:i.platform,maxTouchPoints:i.maxTouchPoints||0});var e=r.userAgent,t=e.split("[FBAN");typeof t[1]<"u"&&(e=t[0]),t=e.split("Twitter"),typeof t[1]<"u"&&(e=t[0]);var n=Dd(e),a={apple:{phone:n(ta)&&!n(Dt),ipod:n(uu),tablet:!n(ta)&&(n(hu)||Su(r))&&!n(Dt),universal:n(lu),device:(n(ta)||n(uu)||n(hu)||n(lu)||Su(r))&&!n(Dt)},amazon:{phone:n(Kr),tablet:!n(Kr)&&n(tn),device:n(Kr)||n(tn)},android:{phone:!n(Dt)&&n(Kr)||!n(Dt)&&n(ra),tablet:!n(Dt)&&!n(Kr)&&!n(ra)&&(n(tn)||n(fu)),device:!n(Dt)&&(n(Kr)||n(tn)||n(ra)||n(fu))||n(/\bokhttp\b/i)},windows:{phone:n(Dt),tablet:n(cu),device:n(Dt)||n(cu)},other:{blackberry:n(du),blackberry10:n(pu),opera:n(vu),firefox:n(Au),chrome:n(gu),device:n(du)||n(pu)||n(vu)||n(Au)||n(gu)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var st=Kd(window.navigator);function Ud(i){var r=!0;if(st.tablet||st.phone){if(st.apple.device){var e=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(e){var t=parseInt(e[1],10);t<11&&(r=!1)}}if(st.android.device){var e=navigator.userAgent.match(/Android\s([0-9.]*)/);if(e){var t=parseInt(e[1],10);t<7&&(r=!1)}}}return r?i:4}function Fd(){return!st.apple.device}var ne={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:Ud(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:st.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:Fd(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},ia={exports:{}},yu;function Bd(){return yu||(yu=1,function(i){var r=Object.prototype.hasOwnProperty,e="~";function t(){}Object.create&&(t.prototype=Object.create(null),new t().__proto__||(e=!1));function n(u,h,l){this.fn=u,this.context=h,this.once=l||!1}function a(u,h,l,c,f){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new n(l,c||u,f),v=e?e+h:h;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],p]:u._events[v].push(p):(u._events[v]=p,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new t:delete u._events[h]}function s(){this._events=new t,this._eventsCount=0}s.prototype.eventNames=function(){var h=[],l,c;if(this._eventsCount===0)return h;for(c in l=this._events)r.call(l,c)&&h.push(e?c.slice(1):c);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(l)):h},s.prototype.listeners=function(h){var l=e?e+h:h,c=this._events[l];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,p=c.length,v=new Array(p);f<p;f++)v[f]=c[f].fn;return v},s.prototype.listenerCount=function(h){var l=e?e+h:h,c=this._events[l];return c?c.fn?1:c.length:0},s.prototype.emit=function(h,l,c,f,p,v){var g=e?e+h:h;if(!this._events[g])return!1;var A=this._events[g],E=arguments.length,P,T;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),E){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,l),!0;case 3:return A.fn.call(A.context,l,c),!0;case 4:return A.fn.call(A.context,l,c,f),!0;case 5:return A.fn.call(A.context,l,c,f,p),!0;case 6:return A.fn.call(A.context,l,c,f,p,v),!0}for(T=1,P=new Array(E-1);T<E;T++)P[T-1]=arguments[T];A.fn.apply(A.context,P)}else{var L=A.length,m;for(T=0;T<L;T++)switch(A[T].once&&this.removeListener(h,A[T].fn,void 0,!0),E){case 1:A[T].fn.call(A[T].context);break;case 2:A[T].fn.call(A[T].context,l);break;case 3:A[T].fn.call(A[T].context,l,c);break;case 4:A[T].fn.call(A[T].context,l,c,f);break;default:if(!P)for(m=1,P=new Array(E-1);m<E;m++)P[m-1]=arguments[m];A[T].fn.apply(A[T].context,P)}}return!0},s.prototype.on=function(h,l,c){return a(this,h,l,c,!1)},s.prototype.once=function(h,l,c){return a(this,h,l,c,!0)},s.prototype.removeListener=function(h,l,c,f){var p=e?e+h:h;if(!this._events[p])return this;if(!l)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===l&&(!f||v.once)&&(!c||v.context===c)&&o(this,p);else{for(var g=0,A=[],E=v.length;g<E;g++)(v[g].fn!==l||f&&!v[g].once||c&&v[g].context!==c)&&A.push(v[g]);A.length?this._events[p]=A.length===1?A[0]:A:o(this,p)}return this},s.prototype.removeAllListeners=function(h){var l;return h?(l=e?e+h:h,this._events[l]&&o(this,l)):(this._events=new t,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=e,s.EventEmitter=s,i.exports=s}(ia)),ia.exports}var Gd=Bd();const ri=or(Gd);var rn={exports:{}},mu;function Hd(){if(mu)return rn.exports;mu=1,rn.exports=i,rn.exports.default=i;function i(S,_,x){x=x||2;var D=_&&_.length,N=D?_[0]*x:S.length,C=r(S,0,N,x,!0),M=[];if(!C||C.next===C.prev)return M;var U,k,X,W,z,$,G;if(D&&(C=u(S,_,C,x)),S.length>80*x){U=X=S[0],k=W=S[1];for(var j=x;j<N;j+=x)z=S[j],$=S[j+1],z<U&&(U=z),$<k&&(k=$),z>X&&(X=z),$>W&&(W=$);G=Math.max(X-U,W-k),G=G!==0?32767/G:0}return t(C,M,x,U,k,G,0),M}function r(S,_,x,D,N){var C,M;if(N===F(S,_,x,D)>0)for(C=_;C<x;C+=D)M=b(C,S[C],S[C+1],M);else for(C=x-D;C>=_;C-=D)M=b(C,S[C],S[C+1],M);return M&&L(M,M.next)&&(R(M),M=M.next),M}function e(S,_){if(!S)return S;_||(_=S);var x=S,D;do if(D=!1,!x.steiner&&(L(x,x.next)||T(x.prev,x,x.next)===0)){if(R(x),x=_=x.prev,x===x.next)break;D=!0}else x=x.next;while(D||x!==_);return _}function t(S,_,x,D,N,C,M){if(S){!M&&C&&p(S,D,N,C);for(var U=S,k,X;S.prev!==S.next;){if(k=S.prev,X=S.next,C?a(S,D,N,C):n(S)){_.push(k.i/x|0),_.push(S.i/x|0),_.push(X.i/x|0),R(S),S=X.next,U=X.next;continue}if(S=X,S===U){M?M===1?(S=o(e(S),_,x),t(S,_,x,D,N,C,2)):M===2&&s(S,_,x,D,N,C):t(e(S),_,x,D,N,C,1);break}}}}function n(S){var _=S.prev,x=S,D=S.next;if(T(_,x,D)>=0)return!1;for(var N=_.x,C=x.x,M=D.x,U=_.y,k=x.y,X=D.y,W=N<C?N<M?N:M:C<M?C:M,z=U<k?U<X?U:X:k<X?k:X,$=N>C?N>M?N:M:C>M?C:M,G=U>k?U>X?U:X:k>X?k:X,j=D.next;j!==_;){if(j.x>=W&&j.x<=$&&j.y>=z&&j.y<=G&&E(N,U,C,k,M,X,j.x,j.y)&&T(j.prev,j,j.next)>=0)return!1;j=j.next}return!0}function a(S,_,x,D){var N=S.prev,C=S,M=S.next;if(T(N,C,M)>=0)return!1;for(var U=N.x,k=C.x,X=M.x,W=N.y,z=C.y,$=M.y,G=U<k?U<X?U:X:k<X?k:X,j=W<z?W<$?W:$:z<$?z:$,Z=U>k?U>X?U:X:k>X?k:X,Y=W>z?W>$?W:$:z>$?z:$,te=g(G,j,_,x,D),ie=g(Z,Y,_,x,D),Q=S.prevZ,ee=S.nextZ;Q&&Q.z>=te&&ee&&ee.z<=ie;){if(Q.x>=G&&Q.x<=Z&&Q.y>=j&&Q.y<=Y&&Q!==N&&Q!==M&&E(U,W,k,z,X,$,Q.x,Q.y)&&T(Q.prev,Q,Q.next)>=0||(Q=Q.prevZ,ee.x>=G&&ee.x<=Z&&ee.y>=j&&ee.y<=Y&&ee!==N&&ee!==M&&E(U,W,k,z,X,$,ee.x,ee.y)&&T(ee.prev,ee,ee.next)>=0))return!1;ee=ee.nextZ}for(;Q&&Q.z>=te;){if(Q.x>=G&&Q.x<=Z&&Q.y>=j&&Q.y<=Y&&Q!==N&&Q!==M&&E(U,W,k,z,X,$,Q.x,Q.y)&&T(Q.prev,Q,Q.next)>=0)return!1;Q=Q.prevZ}for(;ee&&ee.z<=ie;){if(ee.x>=G&&ee.x<=Z&&ee.y>=j&&ee.y<=Y&&ee!==N&&ee!==M&&E(U,W,k,z,X,$,ee.x,ee.y)&&T(ee.prev,ee,ee.next)>=0)return!1;ee=ee.nextZ}return!0}function o(S,_,x){var D=S;do{var N=D.prev,C=D.next.next;!L(N,C)&&m(N,D,D.next,C)&&O(N,C)&&O(C,N)&&(_.push(N.i/x|0),_.push(D.i/x|0),_.push(C.i/x|0),R(D),R(D.next),D=S=C),D=D.next}while(D!==S);return e(D)}function s(S,_,x,D,N,C){var M=S;do{for(var U=M.next.next;U!==M.prev;){if(M.i!==U.i&&P(M,U)){var k=K(M,U);M=e(M,M.next),k=e(k,k.next),t(M,_,x,D,N,C,0),t(k,_,x,D,N,C,0);return}U=U.next}M=M.next}while(M!==S)}function u(S,_,x,D){var N=[],C,M,U,k,X;for(C=0,M=_.length;C<M;C++)U=_[C]*D,k=C<M-1?_[C+1]*D:S.length,X=r(S,U,k,D,!1),X===X.next&&(X.steiner=!0),N.push(A(X));for(N.sort(h),C=0;C<N.length;C++)x=l(N[C],x);return x}function h(S,_){return S.x-_.x}function l(S,_){var x=c(S,_);if(!x)return _;var D=K(x,S);return e(D,D.next),e(x,x.next)}function c(S,_){var x=_,D=S.x,N=S.y,C=-1/0,M;do{if(N<=x.y&&N>=x.next.y&&x.next.y!==x.y){var U=x.x+(N-x.y)*(x.next.x-x.x)/(x.next.y-x.y);if(U<=D&&U>C&&(C=U,M=x.x<x.next.x?x:x.next,U===D))return M}x=x.next}while(x!==_);if(!M)return null;var k=M,X=M.x,W=M.y,z=1/0,$;x=M;do D>=x.x&&x.x>=X&&D!==x.x&&E(N<W?D:C,N,X,W,N<W?C:D,N,x.x,x.y)&&($=Math.abs(N-x.y)/(D-x.x),O(x,S)&&($<z||$===z&&(x.x>M.x||x.x===M.x&&f(M,x)))&&(M=x,z=$)),x=x.next;while(x!==k);return M}function f(S,_){return T(S.prev,S,_.prev)<0&&T(_.next,S,S.next)<0}function p(S,_,x,D){var N=S;do N.z===0&&(N.z=g(N.x,N.y,_,x,D)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==S);N.prevZ.nextZ=null,N.prevZ=null,v(N)}function v(S){var _,x,D,N,C,M,U,k,X=1;do{for(x=S,S=null,C=null,M=0;x;){for(M++,D=x,U=0,_=0;_<X&&(U++,D=D.nextZ,!!D);_++);for(k=X;U>0||k>0&&D;)U!==0&&(k===0||!D||x.z<=D.z)?(N=x,x=x.nextZ,U--):(N=D,D=D.nextZ,k--),C?C.nextZ=N:S=N,N.prevZ=C,C=N;x=D}C.nextZ=null,X*=2}while(M>1);return S}function g(S,_,x,D,N){return S=(S-x)*N|0,_=(_-D)*N|0,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,S|_<<1}function A(S){var _=S,x=S;do(_.x<x.x||_.x===x.x&&_.y<x.y)&&(x=_),_=_.next;while(_!==S);return x}function E(S,_,x,D,N,C,M,U){return(N-M)*(_-U)>=(S-M)*(C-U)&&(S-M)*(D-U)>=(x-M)*(_-U)&&(x-M)*(C-U)>=(N-M)*(D-U)}function P(S,_){return S.next.i!==_.i&&S.prev.i!==_.i&&!w(S,_)&&(O(S,_)&&O(_,S)&&d(S,_)&&(T(S.prev,S,_.prev)||T(S,_.prev,_))||L(S,_)&&T(S.prev,S,S.next)>0&&T(_.prev,_,_.next)>0)}function T(S,_,x){return(_.y-S.y)*(x.x-_.x)-(_.x-S.x)*(x.y-_.y)}function L(S,_){return S.x===_.x&&S.y===_.y}function m(S,_,x,D){var N=y(T(S,_,x)),C=y(T(S,_,D)),M=y(T(x,D,S)),U=y(T(x,D,_));return!!(N!==C&&M!==U||N===0&&I(S,x,_)||C===0&&I(S,D,_)||M===0&&I(x,S,D)||U===0&&I(x,_,D))}function I(S,_,x){return _.x<=Math.max(S.x,x.x)&&_.x>=Math.min(S.x,x.x)&&_.y<=Math.max(S.y,x.y)&&_.y>=Math.min(S.y,x.y)}function y(S){return S>0?1:S<0?-1:0}function w(S,_){var x=S;do{if(x.i!==S.i&&x.next.i!==S.i&&x.i!==_.i&&x.next.i!==_.i&&m(x,x.next,S,_))return!0;x=x.next}while(x!==S);return!1}function O(S,_){return T(S.prev,S,S.next)<0?T(S,_,S.next)>=0&&T(S,S.prev,_)>=0:T(S,_,S.prev)<0||T(S,S.next,_)<0}function d(S,_){var x=S,D=!1,N=(S.x+_.x)/2,C=(S.y+_.y)/2;do x.y>C!=x.next.y>C&&x.next.y!==x.y&&N<(x.next.x-x.x)*(C-x.y)/(x.next.y-x.y)+x.x&&(D=!D),x=x.next;while(x!==S);return D}function K(S,_){var x=new B(S.i,S.x,S.y),D=new B(_.i,_.x,_.y),N=S.next,C=_.prev;return S.next=_,_.prev=S,x.next=N,N.prev=x,D.next=x,x.prev=D,C.next=D,D.prev=C,D}function b(S,_,x,D){var N=new B(S,_,x);return D?(N.next=D.next,N.prev=D,D.next.prev=N,D.next=N):(N.prev=N,N.next=N),N}function R(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function B(S,_,x){this.i=S,this.x=_,this.y=x,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}i.deviation=function(S,_,x,D){var N=_&&_.length,C=N?_[0]*x:S.length,M=Math.abs(F(S,0,C,x));if(N)for(var U=0,k=_.length;U<k;U++){var X=_[U]*x,W=U<k-1?_[U+1]*x:S.length;M-=Math.abs(F(S,X,W,x))}var z=0;for(U=0;U<D.length;U+=3){var $=D[U]*x,G=D[U+1]*x,j=D[U+2]*x;z+=Math.abs((S[$]-S[j])*(S[G+1]-S[$+1])-(S[$]-S[G])*(S[j+1]-S[$+1]))}return M===0&&z===0?0:Math.abs((z-M)/M)};function F(S,_,x,D){for(var N=0,C=_,M=x-D;C<x;C+=D)N+=(S[M]-S[C])*(S[C+1]+S[M+1]),M=C;return N}return i.flatten=function(S){for(var _=S[0][0].length,x={vertices:[],holes:[],dimensions:_},D=0,N=0;N<S.length;N++){for(var C=0;C<S[N].length;C++)for(var M=0;M<_;M++)x.vertices.push(S[N][C][M]);N>0&&(D+=S[N-1].length,x.holes.push(D))}return x},rn.exports}var kd=Hd();const Ss=or(kd);var pr={},bi={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var Vd=bi.exports,Iu;function Xd(){return Iu||(Iu=1,function(i,r){(function(e){var t=r&&!r.nodeType&&r,n=!i.nodeType&&i,a=typeof zr=="object"&&zr;(a.global===a||a.window===a||a.self===a)&&(e=a);var o,s=2147483647,u=36,h=1,l=26,c=38,f=700,p=72,v=128,g="-",A=/^xn--/,E=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=u-h,m=Math.floor,I=String.fromCharCode,y;function w(N){throw new RangeError(T[N])}function O(N,C){for(var M=N.length,U=[];M--;)U[M]=C(N[M]);return U}function d(N,C){var M=N.split("@"),U="";M.length>1&&(U=M[0]+"@",N=M[1]),N=N.replace(P,".");var k=N.split("."),X=O(k,C).join(".");return U+X}function K(N){for(var C=[],M=0,U=N.length,k,X;M<U;)k=N.charCodeAt(M++),k>=55296&&k<=56319&&M<U?(X=N.charCodeAt(M++),(X&64512)==56320?C.push(((k&1023)<<10)+(X&1023)+65536):(C.push(k),M--)):C.push(k);return C}function b(N){return O(N,function(C){var M="";return C>65535&&(C-=65536,M+=I(C>>>10&1023|55296),C=56320|C&1023),M+=I(C),M}).join("")}function R(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:u}function B(N,C){return N+22+75*(N<26)-((C!=0)<<5)}function F(N,C,M){var U=0;for(N=M?m(N/f):N>>1,N+=m(N/C);N>L*l>>1;U+=u)N=m(N/L);return m(U+(L+1)*N/(N+c))}function S(N){var C=[],M=N.length,U,k=0,X=v,W=p,z,$,G,j,Z,Y,te,ie,Q;for(z=N.lastIndexOf(g),z<0&&(z=0),$=0;$<z;++$)N.charCodeAt($)>=128&&w("not-basic"),C.push(N.charCodeAt($));for(G=z>0?z+1:0;G<M;){for(j=k,Z=1,Y=u;G>=M&&w("invalid-input"),te=R(N.charCodeAt(G++)),(te>=u||te>m((s-k)/Z))&&w("overflow"),k+=te*Z,ie=Y<=W?h:Y>=W+l?l:Y-W,!(te<ie);Y+=u)Q=u-ie,Z>m(s/Q)&&w("overflow"),Z*=Q;U=C.length+1,W=F(k-j,U,j==0),m(k/U)>s-X&&w("overflow"),X+=m(k/U),k%=U,C.splice(k++,0,X)}return b(C)}function _(N){var C,M,U,k,X,W,z,$,G,j,Z,Y=[],te,ie,Q,ee;for(N=K(N),te=N.length,C=v,M=0,X=p,W=0;W<te;++W)Z=N[W],Z<128&&Y.push(I(Z));for(U=k=Y.length,k&&Y.push(g);U<te;){for(z=s,W=0;W<te;++W)Z=N[W],Z>=C&&Z<z&&(z=Z);for(ie=U+1,z-C>m((s-M)/ie)&&w("overflow"),M+=(z-C)*ie,C=z,W=0;W<te;++W)if(Z=N[W],Z<C&&++M>s&&w("overflow"),Z==C){for($=M,G=u;j=G<=X?h:G>=X+l?l:G-X,!($<j);G+=u)ee=$-j,Q=u-j,Y.push(I(B(j+ee%Q,0))),$=m(ee/Q);Y.push(I(B($,0))),X=F(M,ie,U==k),M=0,++U}++M,++C}return Y.join("")}function x(N){return d(N,function(C){return A.test(C)?S(C.slice(4).toLowerCase()):C})}function D(N){return d(N,function(C){return E.test(C)?"xn--"+_(C):C})}if(o={version:"1.4.1",ucs2:{decode:K,encode:b},decode:S,encode:_,toASCII:D,toUnicode:x},t&&n)if(i.exports==t)n.exports=o;else for(y in o)o.hasOwnProperty(y)&&(t[y]=o[y]);else e.punycode=o})(Vd)}(bi,bi.exports)),bi.exports}var na,Eu;function ii(){return Eu||(Eu=1,na=TypeError),na}const jd={},zd=Object.freeze(Object.defineProperty({__proto__:null,default:jd},Symbol.toStringTag,{value:"Module"})),Wd=Hi(zd);var aa,Tu;function Dn(){if(Tu)return aa;Tu=1;var i=typeof Map=="function"&&Map.prototype,r=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,e=i&&r&&typeof r.get=="function"?r.get:null,t=i&&Map.prototype.forEach,n=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=n&&a&&typeof a.get=="function"?a.get:null,s=n&&Set.prototype.forEach,u=typeof WeakMap=="function"&&WeakMap.prototype,h=u?WeakMap.prototype.has:null,l=typeof WeakSet=="function"&&WeakSet.prototype,c=l?WeakSet.prototype.has:null,f=typeof WeakRef=="function"&&WeakRef.prototype,p=f?WeakRef.prototype.deref:null,v=Boolean.prototype.valueOf,g=Object.prototype.toString,A=Function.prototype.toString,E=String.prototype.match,P=String.prototype.slice,T=String.prototype.replace,L=String.prototype.toUpperCase,m=String.prototype.toLowerCase,I=RegExp.prototype.test,y=Array.prototype.concat,w=Array.prototype.join,O=Array.prototype.slice,d=Math.floor,K=typeof BigInt=="function"?BigInt.prototype.valueOf:null,b=Object.getOwnPropertySymbols,R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,B=typeof Symbol=="function"&&typeof Symbol.iterator=="object",F=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===B||!0)?Symbol.toStringTag:null,S=Object.prototype.propertyIsEnumerable,_=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(H){return H.__proto__}:null);function x(H,V){if(H===1/0||H===-1/0||H!==H||H&&H>-1e3&&H<1e3||I.call(/e/,V))return V;var fe=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof H=="number"){var ce=H<0?-d(-H):d(H);if(ce!==H){var ve=String(ce),ue=P.call(V,ve.length+1);return T.call(ve,fe,"$&_")+"."+T.call(T.call(ue,/([0-9]{3})/g,"$&_"),/_$/,"")}}return T.call(V,fe,"$&_")}var D=Wd,N=D.custom,C=te(N)?N:null,M={__proto__:null,double:'"',single:"'"},U={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};aa=function H(V,fe,ce,ve){var ue=fe||{};if(ee(ue,"quoteStyle")&&!ee(M,ue.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ee(ue,"maxStringLength")&&(typeof ue.maxStringLength=="number"?ue.maxStringLength<0&&ue.maxStringLength!==1/0:ue.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ue=ee(ue,"customInspect")?ue.customInspect:!0;if(typeof Ue!="boolean"&&Ue!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ee(ue,"indent")&&ue.indent!==null&&ue.indent!=="	"&&!(parseInt(ue.indent,10)===ue.indent&&ue.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ee(ue,"numericSeparator")&&typeof ue.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Be=ue.numericSeparator;if(typeof V>"u")return"undefined";if(V===null)return"null";if(typeof V=="boolean")return V?"true":"false";if(typeof V=="string")return It(V,ue);if(typeof V=="number"){if(V===0)return 1/0/V>0?"0":"-0";var Me=String(V);return Be?x(V,Me):Me}if(typeof V=="bigint"){var Ge=String(V)+"n";return Be?x(V,Ge):Ge}var Tt=typeof ue.depth>"u"?5:ue.depth;if(typeof ce>"u"&&(ce=0),ce>=Tt&&Tt>0&&typeof V=="object")return W(V)?"[Array]":"[Object]";var Xe=Mt(ue,ce);if(typeof ve>"u")ve=[];else if(me(ve,V)>=0)return"[Circular]";function _e(Wt,Cr,Yn){if(Cr&&(ve=O.call(ve),ve.push(Cr)),Yn){var qi={depth:ue.depth};return ee(ue,"quoteStyle")&&(qi.quoteStyle=ue.quoteStyle),H(Wt,qi,ce+1,ve)}return H(Wt,ue,ce+1,ve)}if(typeof V=="function"&&!$(V)){var fr=Ie(V),ae=Je(V,_e);return"[Function"+(fr?": "+fr:" (anonymous)")+"]"+(ae.length>0?" { "+w.call(ae,", ")+" }":"")}if(te(V)){var Te=B?T.call(String(V),/^(Symbol\(.*\))_[^)]*$/,"$1"):R.call(V);return typeof V=="object"&&!B?lt(Te):Te}if(mt(V)){for(var be="<"+m.call(String(V.nodeName)),He=V.attributes||[],je=0;je<He.length;je++)be+=" "+He[je].name+"="+k(X(He[je].value),"double",ue);return be+=">",V.childNodes&&V.childNodes.length&&(be+="..."),be+="</"+m.call(String(V.nodeName))+">",be}if(W(V)){if(V.length===0)return"[]";var Ze=Je(V,_e);return Xe&&!lr(Ze)?"["+it(Ze,Xe)+"]":"[ "+w.call(Ze,", ")+" ]"}if(G(V)){var ft=Je(V,_e);return!("cause"in Error.prototype)&&"cause"in V&&!S.call(V,"cause")?"{ ["+String(V)+"] "+w.call(y.call("[cause]: "+_e(V.cause),ft),", ")+" }":ft.length===0?"["+String(V)+"]":"{ ["+String(V)+"] "+w.call(ft,", ")+" }"}if(typeof V=="object"&&Ue){if(C&&typeof V[C]=="function"&&D)return D(V,{depth:Tt-ce});if(Ue!=="symbol"&&typeof V.inspect=="function")return V.inspect()}if(Ve(V)){var zt=[];return t&&t.call(V,function(Wt,Cr){zt.push(_e(Cr,V,!0)+" => "+_e(Wt,V))}),Et("Map",e.call(V),zt,Xe)}if(rt(V)){var ze=[];return s&&s.call(V,function(Wt){ze.push(_e(Wt,V))}),Et("Set",o.call(V),ze,Xe)}if(Ce(V))return Ct("WeakMap");if(Fe(V))return Ct("WeakSet");if($e(V))return Ct("WeakRef");if(Z(V))return lt(_e(Number(V)));if(ie(V))return lt(_e(K.call(V)));if(Y(V))return lt(v.call(V));if(j(V))return lt(_e(String(V)));if(typeof window<"u"&&V===window)return"{ [object Window] }";if(typeof globalThis<"u"&&V===globalThis||typeof zr<"u"&&V===zr)return"{ [object globalThis] }";if(!z(V)&&!$(V)){var ke=Je(V,_e),nt=_?_(V)===Object.prototype:V instanceof Object||V.constructor===Object,li=V instanceof Object?"":"null prototype",Yi=!nt&&F&&Object(V)===V&&F in V?P.call(he(V),8,-1):li?"Object":"",Wn=nt||typeof V.constructor!="function"?"":V.constructor.name?V.constructor.name+" ":"",fi=Wn+(Yi||li?"["+w.call(y.call([],Yi||[],li||[]),": ")+"] ":"");return ke.length===0?fi+"{}":Xe?fi+"{"+it(ke,Xe)+"}":fi+"{ "+w.call(ke,", ")+" }"}return String(V)};function k(H,V,fe){var ce=fe.quoteStyle||V,ve=M[ce];return ve+H+ve}function X(H){return T.call(String(H),/"/g,"&quot;")}function W(H){return he(H)==="[object Array]"&&(!F||!(typeof H=="object"&&F in H))}function z(H){return he(H)==="[object Date]"&&(!F||!(typeof H=="object"&&F in H))}function $(H){return he(H)==="[object RegExp]"&&(!F||!(typeof H=="object"&&F in H))}function G(H){return he(H)==="[object Error]"&&(!F||!(typeof H=="object"&&F in H))}function j(H){return he(H)==="[object String]"&&(!F||!(typeof H=="object"&&F in H))}function Z(H){return he(H)==="[object Number]"&&(!F||!(typeof H=="object"&&F in H))}function Y(H){return he(H)==="[object Boolean]"&&(!F||!(typeof H=="object"&&F in H))}function te(H){if(B)return H&&typeof H=="object"&&H instanceof Symbol;if(typeof H=="symbol")return!0;if(!H||typeof H!="object"||!R)return!1;try{return R.call(H),!0}catch{}return!1}function ie(H){if(!H||typeof H!="object"||!K)return!1;try{return K.call(H),!0}catch{}return!1}var Q=Object.prototype.hasOwnProperty||function(H){return H in this};function ee(H,V){return Q.call(H,V)}function he(H){return g.call(H)}function Ie(H){if(H.name)return H.name;var V=E.call(A.call(H),/^function\s*([\w$]+)/);return V?V[1]:null}function me(H,V){if(H.indexOf)return H.indexOf(V);for(var fe=0,ce=H.length;fe<ce;fe++)if(H[fe]===V)return fe;return-1}function Ve(H){if(!e||!H||typeof H!="object")return!1;try{e.call(H);try{o.call(H)}catch{return!0}return H instanceof Map}catch{}return!1}function Ce(H){if(!h||!H||typeof H!="object")return!1;try{h.call(H,h);try{c.call(H,c)}catch{return!0}return H instanceof WeakMap}catch{}return!1}function $e(H){if(!p||!H||typeof H!="object")return!1;try{return p.call(H),!0}catch{}return!1}function rt(H){if(!o||!H||typeof H!="object")return!1;try{o.call(H);try{e.call(H)}catch{return!0}return H instanceof Set}catch{}return!1}function Fe(H){if(!c||!H||typeof H!="object")return!1;try{c.call(H,c);try{h.call(H,h)}catch{return!0}return H instanceof WeakSet}catch{}return!1}function mt(H){return!H||typeof H!="object"?!1:typeof HTMLElement<"u"&&H instanceof HTMLElement?!0:typeof H.nodeName=="string"&&typeof H.getAttribute=="function"}function It(H,V){if(H.length>V.maxStringLength){var fe=H.length-V.maxStringLength,ce="... "+fe+" more character"+(fe>1?"s":"");return It(P.call(H,0,V.maxStringLength),V)+ce}var ve=U[V.quoteStyle||"single"];ve.lastIndex=0;var ue=T.call(T.call(H,ve,"\\$1"),/[\x00-\x1f]/g,hr);return k(ue,"single",V)}function hr(H){var V=H.charCodeAt(0),fe={8:"b",9:"t",10:"n",12:"f",13:"r"}[V];return fe?"\\"+fe:"\\x"+(V<16?"0":"")+L.call(V.toString(16))}function lt(H){return"Object("+H+")"}function Ct(H){return H+" { ? }"}function Et(H,V,fe,ce){var ve=ce?it(fe,ce):w.call(fe,", ");return H+" ("+V+") {"+ve+"}"}function lr(H){for(var V=0;V<H.length;V++)if(me(H[V],`
`)>=0)return!1;return!0}function Mt(H,V){var fe;if(H.indent==="	")fe="	";else if(typeof H.indent=="number"&&H.indent>0)fe=w.call(Array(H.indent+1)," ");else return null;return{base:fe,prev:w.call(Array(V+1),fe)}}function it(H,V){if(H.length===0)return"";var fe=`
`+V.prev+V.base;return fe+w.call(H,","+fe)+`
`+V.prev}function Je(H,V){var fe=W(H),ce=[];if(fe){ce.length=H.length;for(var ve=0;ve<H.length;ve++)ce[ve]=ee(H,ve)?V(H[ve],H):""}var ue=typeof b=="function"?b(H):[],Ue;if(B){Ue={};for(var Be=0;Be<ue.length;Be++)Ue["$"+ue[Be]]=ue[Be]}for(var Me in H)ee(H,Me)&&(fe&&String(Number(Me))===Me&&Me<H.length||B&&Ue["$"+Me]instanceof Symbol||(I.call(/[^\w$]/,Me)?ce.push(V(Me,H)+": "+V(H[Me],H)):ce.push(Me+": "+V(H[Me],H))));if(typeof b=="function")for(var Ge=0;Ge<ue.length;Ge++)S.call(H,ue[Ge])&&ce.push("["+V(ue[Ge])+"]: "+V(H[ue[Ge]],H));return ce}return aa}var oa,_u;function Yd(){if(_u)return oa;_u=1;var i=Dn(),r=ii(),e=function(s,u,h){for(var l=s,c;(c=l.next)!=null;l=c)if(c.key===u)return l.next=c.next,h||(c.next=s.next,s.next=c),c},t=function(s,u){if(s){var h=e(s,u);return h&&h.value}},n=function(s,u,h){var l=e(s,u);l?l.value=h:s.next={key:u,next:s.next,value:h}},a=function(s,u){return s?!!e(s,u):!1},o=function(s,u){if(s)return e(s,u,!0)};return oa=function(){var u,h={assert:function(l){if(!h.has(l))throw new r("Side channel does not contain "+i(l))},delete:function(l){var c=u&&u.next,f=o(u,l);return f&&c&&c===f&&(u=void 0),!!f},get:function(l){return t(u,l)},has:function(l){return a(u,l)},set:function(l,c){u||(u={next:void 0}),n(u,l,c)}};return h},oa}var sa,Ou;function Xl(){return Ou||(Ou=1,sa=Object),sa}var ua,xu;function qd(){return xu||(xu=1,ua=Error),ua}var ha,Ru;function $d(){return Ru||(Ru=1,ha=EvalError),ha}var la,bu;function Jd(){return bu||(bu=1,la=RangeError),la}var fa,Pu;function Zd(){return Pu||(Pu=1,fa=ReferenceError),fa}var ca,Lu;function Qd(){return Lu||(Lu=1,ca=SyntaxError),ca}var da,wu;function ep(){return wu||(wu=1,da=URIError),da}var pa,Nu;function tp(){return Nu||(Nu=1,pa=Math.abs),pa}var va,Cu;function rp(){return Cu||(Cu=1,va=Math.floor),va}var ga,Mu;function ip(){return Mu||(Mu=1,ga=Math.max),ga}var Aa,Du;function np(){return Du||(Du=1,Aa=Math.min),Aa}var Sa,Ku;function ap(){return Ku||(Ku=1,Sa=Math.pow),Sa}var ya,Uu;function op(){return Uu||(Uu=1,ya=Math.round),ya}var ma,Fu;function sp(){return Fu||(Fu=1,ma=Number.isNaN||function(r){return r!==r}),ma}var Ia,Bu;function up(){if(Bu)return Ia;Bu=1;var i=sp();return Ia=function(e){return i(e)||e===0?e:e<0?-1:1},Ia}var Ea,Gu;function hp(){return Gu||(Gu=1,Ea=Object.getOwnPropertyDescriptor),Ea}var Ta,Hu;function jl(){if(Hu)return Ta;Hu=1;var i=hp();if(i)try{i([],"length")}catch{i=null}return Ta=i,Ta}var _a,ku;function lp(){if(ku)return _a;ku=1;var i=Object.defineProperty||!1;if(i)try{i({},"a",{value:1})}catch{i=!1}return _a=i,_a}var Oa,Vu;function fp(){return Vu||(Vu=1,Oa=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},e=Symbol("test"),t=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(t)!=="[object Symbol]")return!1;var n=42;r[e]=n;for(var a in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var o=Object.getOwnPropertySymbols(r);if(o.length!==1||o[0]!==e||!Object.prototype.propertyIsEnumerable.call(r,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(r,e);if(s.value!==n||s.enumerable!==!0)return!1}return!0}),Oa}var xa,Xu;function cp(){if(Xu)return xa;Xu=1;var i=typeof Symbol<"u"&&Symbol,r=fp();return xa=function(){return typeof i!="function"||typeof Symbol!="function"||typeof i("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r()},xa}var Ra,ju;function zl(){return ju||(ju=1,Ra=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Ra}var ba,zu;function Wl(){if(zu)return ba;zu=1;var i=Xl();return ba=i.getPrototypeOf||null,ba}var Pa,Wu;function dp(){if(Wu)return Pa;Wu=1;var i="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,e=Math.max,t="[object Function]",n=function(u,h){for(var l=[],c=0;c<u.length;c+=1)l[c]=u[c];for(var f=0;f<h.length;f+=1)l[f+u.length]=h[f];return l},a=function(u,h){for(var l=[],c=h,f=0;c<u.length;c+=1,f+=1)l[f]=u[c];return l},o=function(s,u){for(var h="",l=0;l<s.length;l+=1)h+=s[l],l+1<s.length&&(h+=u);return h};return Pa=function(u){var h=this;if(typeof h!="function"||r.apply(h)!==t)throw new TypeError(i+h);for(var l=a(arguments,1),c,f=function(){if(this instanceof c){var E=h.apply(this,n(l,arguments));return Object(E)===E?E:this}return h.apply(u,n(l,arguments))},p=e(0,h.length-l.length),v=[],g=0;g<p;g++)v[g]="$"+g;if(c=Function("binder","return function ("+o(v,",")+"){ return binder.apply(this,arguments); }")(f),h.prototype){var A=function(){};A.prototype=h.prototype,c.prototype=new A,A.prototype=null}return c},Pa}var La,Yu;function Kn(){if(Yu)return La;Yu=1;var i=dp();return La=Function.prototype.bind||i,La}var wa,qu;function ys(){return qu||(qu=1,wa=Function.prototype.call),wa}var Na,$u;function Yl(){return $u||($u=1,Na=Function.prototype.apply),Na}var Ca,Ju;function pp(){return Ju||(Ju=1,Ca=typeof Reflect<"u"&&Reflect&&Reflect.apply),Ca}var Ma,Zu;function vp(){if(Zu)return Ma;Zu=1;var i=Kn(),r=Yl(),e=ys(),t=pp();return Ma=t||i.call(e,r),Ma}var Da,Qu;function ql(){if(Qu)return Da;Qu=1;var i=Kn(),r=ii(),e=ys(),t=vp();return Da=function(a){if(a.length<1||typeof a[0]!="function")throw new r("a function is required");return t(i,e,a)},Da}var Ka,eh;function gp(){if(eh)return Ka;eh=1;var i=ql(),r=jl(),e;try{e=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var t=!!e&&r&&r(Object.prototype,"__proto__"),n=Object,a=n.getPrototypeOf;return Ka=t&&typeof t.get=="function"?i([t.get]):typeof a=="function"?function(s){return a(s==null?s:n(s))}:!1,Ka}var Ua,th;function Ap(){if(th)return Ua;th=1;var i=zl(),r=Wl(),e=gp();return Ua=i?function(n){return i(n)}:r?function(n){if(!n||typeof n!="object"&&typeof n!="function")throw new TypeError("getProto: not an object");return r(n)}:e?function(n){return e(n)}:null,Ua}var Fa,rh;function Sp(){if(rh)return Fa;rh=1;var i=Function.prototype.call,r=Object.prototype.hasOwnProperty,e=Kn();return Fa=e.call(i,r),Fa}var Ba,ih;function ms(){if(ih)return Ba;ih=1;var i,r=Xl(),e=qd(),t=$d(),n=Jd(),a=Zd(),o=Qd(),s=ii(),u=ep(),h=tp(),l=rp(),c=ip(),f=np(),p=ap(),v=op(),g=up(),A=Function,E=function(G){try{return A('"use strict"; return ('+G+").constructor;")()}catch{}},P=jl(),T=lp(),L=function(){throw new s},m=P?function(){try{return arguments.callee,L}catch{try{return P(arguments,"callee").get}catch{return L}}}():L,I=cp()(),y=Ap(),w=Wl(),O=zl(),d=Yl(),K=ys(),b={},R=typeof Uint8Array>"u"||!y?i:y(Uint8Array),B={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?i:ArrayBuffer,"%ArrayIteratorPrototype%":I&&y?y([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":typeof Atomics>"u"?i:Atomics,"%BigInt%":typeof BigInt>"u"?i:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?i:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":t,"%Float32Array%":typeof Float32Array>"u"?i:Float32Array,"%Float64Array%":typeof Float64Array>"u"?i:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?i:FinalizationRegistry,"%Function%":A,"%GeneratorFunction%":b,"%Int8Array%":typeof Int8Array>"u"?i:Int8Array,"%Int16Array%":typeof Int16Array>"u"?i:Int16Array,"%Int32Array%":typeof Int32Array>"u"?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":I&&y?y(y([][Symbol.iterator]())):i,"%JSON%":typeof JSON=="object"?JSON:i,"%Map%":typeof Map>"u"?i:Map,"%MapIteratorPrototype%":typeof Map>"u"||!I||!y?i:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":r,"%Object.getOwnPropertyDescriptor%":P,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?i:Promise,"%Proxy%":typeof Proxy>"u"?i:Proxy,"%RangeError%":n,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?i:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?i:Set,"%SetIteratorPrototype%":typeof Set>"u"||!I||!y?i:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":I&&y?y(""[Symbol.iterator]()):i,"%Symbol%":I?Symbol:i,"%SyntaxError%":o,"%ThrowTypeError%":m,"%TypedArray%":R,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?i:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?i:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?i:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?i:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?i:WeakMap,"%WeakRef%":typeof WeakRef>"u"?i:WeakRef,"%WeakSet%":typeof WeakSet>"u"?i:WeakSet,"%Function.prototype.call%":K,"%Function.prototype.apply%":d,"%Object.defineProperty%":T,"%Object.getPrototypeOf%":w,"%Math.abs%":h,"%Math.floor%":l,"%Math.max%":c,"%Math.min%":f,"%Math.pow%":p,"%Math.round%":v,"%Math.sign%":g,"%Reflect.getPrototypeOf%":O};if(y)try{null.error}catch(G){var F=y(y(G));B["%Error.prototype%"]=F}var S=function G(j){var Z;if(j==="%AsyncFunction%")Z=E("async function () {}");else if(j==="%GeneratorFunction%")Z=E("function* () {}");else if(j==="%AsyncGeneratorFunction%")Z=E("async function* () {}");else if(j==="%AsyncGenerator%"){var Y=G("%AsyncGeneratorFunction%");Y&&(Z=Y.prototype)}else if(j==="%AsyncIteratorPrototype%"){var te=G("%AsyncGenerator%");te&&y&&(Z=y(te.prototype))}return B[j]=Z,Z},_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=Kn(),D=Sp(),N=x.call(K,Array.prototype.concat),C=x.call(d,Array.prototype.splice),M=x.call(K,String.prototype.replace),U=x.call(K,String.prototype.slice),k=x.call(K,RegExp.prototype.exec),X=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,z=function(j){var Z=U(j,0,1),Y=U(j,-1);if(Z==="%"&&Y!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(Y==="%"&&Z!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var te=[];return M(j,X,function(ie,Q,ee,he){te[te.length]=ee?M(he,W,"$1"):Q||ie}),te},$=function(j,Z){var Y=j,te;if(D(_,Y)&&(te=_[Y],Y="%"+te[0]+"%"),D(B,Y)){var ie=B[Y];if(ie===b&&(ie=S(Y)),typeof ie>"u"&&!Z)throw new s("intrinsic "+j+" exists, but is not available. Please file an issue!");return{alias:te,name:Y,value:ie}}throw new o("intrinsic "+j+" does not exist!")};return Ba=function(j,Z){if(typeof j!="string"||j.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Z!="boolean")throw new s('"allowMissing" argument must be a boolean');if(k(/^%?[^%]*%?$/,j)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Y=z(j),te=Y.length>0?Y[0]:"",ie=$("%"+te+"%",Z),Q=ie.name,ee=ie.value,he=!1,Ie=ie.alias;Ie&&(te=Ie[0],C(Y,N([0,1],Ie)));for(var me=1,Ve=!0;me<Y.length;me+=1){var Ce=Y[me],$e=U(Ce,0,1),rt=U(Ce,-1);if(($e==='"'||$e==="'"||$e==="`"||rt==='"'||rt==="'"||rt==="`")&&$e!==rt)throw new o("property names with quotes must have matching quotes");if((Ce==="constructor"||!Ve)&&(he=!0),te+="."+Ce,Q="%"+te+"%",D(B,Q))ee=B[Q];else if(ee!=null){if(!(Ce in ee)){if(!Z)throw new s("base intrinsic for "+j+" exists, but the property is not available.");return}if(P&&me+1>=Y.length){var Fe=P(ee,Ce);Ve=!!Fe,Ve&&"get"in Fe&&!("originalValue"in Fe.get)?ee=Fe.get:ee=ee[Ce]}else Ve=D(ee,Ce),ee=ee[Ce];Ve&&!he&&(B[Q]=ee)}}return ee},Ba}var Ga,nh;function $l(){if(nh)return Ga;nh=1;var i=ms(),r=ql(),e=r([i("%String.prototype.indexOf%")]);return Ga=function(n,a){var o=i(n,!!a);return typeof o=="function"&&e(n,".prototype.")>-1?r([o]):o},Ga}var Ha,ah;function Jl(){if(ah)return Ha;ah=1;var i=ms(),r=$l(),e=Dn(),t=ii(),n=i("%Map%",!0),a=r("Map.prototype.get",!0),o=r("Map.prototype.set",!0),s=r("Map.prototype.has",!0),u=r("Map.prototype.delete",!0),h=r("Map.prototype.size",!0);return Ha=!!n&&function(){var c,f={assert:function(p){if(!f.has(p))throw new t("Side channel does not contain "+e(p))},delete:function(p){if(c){var v=u(c,p);return h(c)===0&&(c=void 0),v}return!1},get:function(p){if(c)return a(c,p)},has:function(p){return c?s(c,p):!1},set:function(p,v){c||(c=new n),o(c,p,v)}};return f},Ha}var ka,oh;function yp(){if(oh)return ka;oh=1;var i=ms(),r=$l(),e=Dn(),t=Jl(),n=ii(),a=i("%WeakMap%",!0),o=r("WeakMap.prototype.get",!0),s=r("WeakMap.prototype.set",!0),u=r("WeakMap.prototype.has",!0),h=r("WeakMap.prototype.delete",!0);return ka=a?function(){var c,f,p={assert:function(v){if(!p.has(v))throw new n("Side channel does not contain "+e(v))},delete:function(v){if(a&&v&&(typeof v=="object"||typeof v=="function")){if(c)return h(c,v)}else if(t&&f)return f.delete(v);return!1},get:function(v){return a&&v&&(typeof v=="object"||typeof v=="function")&&c?o(c,v):f&&f.get(v)},has:function(v){return a&&v&&(typeof v=="object"||typeof v=="function")&&c?u(c,v):!!f&&f.has(v)},set:function(v,g){a&&v&&(typeof v=="object"||typeof v=="function")?(c||(c=new a),s(c,v,g)):t&&(f||(f=t()),f.set(v,g))}};return p}:t,ka}var Va,sh;function mp(){if(sh)return Va;sh=1;var i=ii(),r=Dn(),e=Yd(),t=Jl(),n=yp(),a=n||t||e;return Va=function(){var s,u={assert:function(h){if(!u.has(h))throw new i("Side channel does not contain "+r(h))},delete:function(h){return!!s&&s.delete(h)},get:function(h){return s&&s.get(h)},has:function(h){return!!s&&s.has(h)},set:function(h,l){s||(s=a()),s.set(h,l)}};return u},Va}var Xa,uh;function Is(){if(uh)return Xa;uh=1;var i=String.prototype.replace,r=/%20/g,e={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Xa={default:e.RFC3986,formatters:{RFC1738:function(t){return i.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:e.RFC1738,RFC3986:e.RFC3986},Xa}var ja,hh;function Zl(){if(hh)return ja;hh=1;var i=Is(),r=Object.prototype.hasOwnProperty,e=Array.isArray,t=function(){for(var A=[],E=0;E<256;++E)A.push("%"+((E<16?"0":"")+E.toString(16)).toUpperCase());return A}(),n=function(E){for(;E.length>1;){var P=E.pop(),T=P.obj[P.prop];if(e(T)){for(var L=[],m=0;m<T.length;++m)typeof T[m]<"u"&&L.push(T[m]);P.obj[P.prop]=L}}},a=function(E,P){for(var T=P&&P.plainObjects?{__proto__:null}:{},L=0;L<E.length;++L)typeof E[L]<"u"&&(T[L]=E[L]);return T},o=function A(E,P,T){if(!P)return E;if(typeof P!="object"&&typeof P!="function"){if(e(E))E.push(P);else if(E&&typeof E=="object")(T&&(T.plainObjects||T.allowPrototypes)||!r.call(Object.prototype,P))&&(E[P]=!0);else return[E,P];return E}if(!E||typeof E!="object")return[E].concat(P);var L=E;return e(E)&&!e(P)&&(L=a(E,T)),e(E)&&e(P)?(P.forEach(function(m,I){if(r.call(E,I)){var y=E[I];y&&typeof y=="object"&&m&&typeof m=="object"?E[I]=A(y,m,T):E.push(m)}else E[I]=m}),E):Object.keys(P).reduce(function(m,I){var y=P[I];return r.call(m,I)?m[I]=A(m[I],y,T):m[I]=y,m},L)},s=function(E,P){return Object.keys(P).reduce(function(T,L){return T[L]=P[L],T},E)},u=function(A,E,P){var T=A.replace(/\+/g," ");if(P==="iso-8859-1")return T.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(T)}catch{return T}},h=1024,l=function(E,P,T,L,m){if(E.length===0)return E;var I=E;if(typeof E=="symbol"?I=Symbol.prototype.toString.call(E):typeof E!="string"&&(I=String(E)),T==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(R){return"%26%23"+parseInt(R.slice(2),16)+"%3B"});for(var y="",w=0;w<I.length;w+=h){for(var O=I.length>=h?I.slice(w,w+h):I,d=[],K=0;K<O.length;++K){var b=O.charCodeAt(K);if(b===45||b===46||b===95||b===126||b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122||m===i.RFC1738&&(b===40||b===41)){d[d.length]=O.charAt(K);continue}if(b<128){d[d.length]=t[b];continue}if(b<2048){d[d.length]=t[192|b>>6]+t[128|b&63];continue}if(b<55296||b>=57344){d[d.length]=t[224|b>>12]+t[128|b>>6&63]+t[128|b&63];continue}K+=1,b=65536+((b&1023)<<10|O.charCodeAt(K)&1023),d[d.length]=t[240|b>>18]+t[128|b>>12&63]+t[128|b>>6&63]+t[128|b&63]}y+=d.join("")}return y},c=function(E){for(var P=[{obj:{o:E},prop:"o"}],T=[],L=0;L<P.length;++L)for(var m=P[L],I=m.obj[m.prop],y=Object.keys(I),w=0;w<y.length;++w){var O=y[w],d=I[O];typeof d=="object"&&d!==null&&T.indexOf(d)===-1&&(P.push({obj:I,prop:O}),T.push(d))}return n(P),E},f=function(E){return Object.prototype.toString.call(E)==="[object RegExp]"},p=function(E){return!E||typeof E!="object"?!1:!!(E.constructor&&E.constructor.isBuffer&&E.constructor.isBuffer(E))},v=function(E,P){return[].concat(E,P)},g=function(E,P){if(e(E)){for(var T=[],L=0;L<E.length;L+=1)T.push(P(E[L]));return T}return P(E)};return ja={arrayToObject:a,assign:s,combine:v,compact:c,decode:u,encode:l,isBuffer:p,isRegExp:f,maybeMap:g,merge:o},ja}var za,lh;function Ip(){if(lh)return za;lh=1;var i=mp(),r=Zl(),e=Is(),t=Object.prototype.hasOwnProperty,n={brackets:function(A){return A+"[]"},comma:"comma",indices:function(A,E){return A+"["+E+"]"},repeat:function(A){return A}},a=Array.isArray,o=Array.prototype.push,s=function(g,A){o.apply(g,a(A)?A:[A])},u=Date.prototype.toISOString,h=e.default,l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:r.encode,encodeValuesOnly:!1,filter:void 0,format:h,formatter:e.formatters[h],indices:!1,serializeDate:function(A){return u.call(A)},skipNulls:!1,strictNullHandling:!1},c=function(A){return typeof A=="string"||typeof A=="number"||typeof A=="boolean"||typeof A=="symbol"||typeof A=="bigint"},f={},p=function g(A,E,P,T,L,m,I,y,w,O,d,K,b,R,B,F,S,_){for(var x=A,D=_,N=0,C=!1;(D=D.get(f))!==void 0&&!C;){var M=D.get(A);if(N+=1,typeof M<"u"){if(M===N)throw new RangeError("Cyclic object value");C=!0}typeof D.get(f)>"u"&&(N=0)}if(typeof O=="function"?x=O(E,x):x instanceof Date?x=b(x):P==="comma"&&a(x)&&(x=r.maybeMap(x,function(Q){return Q instanceof Date?b(Q):Q})),x===null){if(m)return w&&!F?w(E,l.encoder,S,"key",R):E;x=""}if(c(x)||r.isBuffer(x)){if(w){var U=F?E:w(E,l.encoder,S,"key",R);return[B(U)+"="+B(w(x,l.encoder,S,"value",R))]}return[B(E)+"="+B(String(x))]}var k=[];if(typeof x>"u")return k;var X;if(P==="comma"&&a(x))F&&w&&(x=r.maybeMap(x,w)),X=[{value:x.length>0?x.join(",")||null:void 0}];else if(a(O))X=O;else{var W=Object.keys(x);X=d?W.sort(d):W}var z=y?String(E).replace(/\./g,"%2E"):String(E),$=T&&a(x)&&x.length===1?z+"[]":z;if(L&&a(x)&&x.length===0)return $+"[]";for(var G=0;G<X.length;++G){var j=X[G],Z=typeof j=="object"&&j&&typeof j.value<"u"?j.value:x[j];if(!(I&&Z===null)){var Y=K&&y?String(j).replace(/\./g,"%2E"):String(j),te=a(x)?typeof P=="function"?P($,Y):$:$+(K?"."+Y:"["+Y+"]");_.set(A,N);var ie=i();ie.set(f,_),s(k,g(Z,te,P,T,L,m,I,y,P==="comma"&&F&&a(x)?null:w,O,d,K,b,R,B,F,S,ie))}}return k},v=function(A){if(!A)return l;if(typeof A.allowEmptyArrays<"u"&&typeof A.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof A.encodeDotInKeys<"u"&&typeof A.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(A.encoder!==null&&typeof A.encoder<"u"&&typeof A.encoder!="function")throw new TypeError("Encoder has to be a function.");var E=A.charset||l.charset;if(typeof A.charset<"u"&&A.charset!=="utf-8"&&A.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var P=e.default;if(typeof A.format<"u"){if(!t.call(e.formatters,A.format))throw new TypeError("Unknown format option provided.");P=A.format}var T=e.formatters[P],L=l.filter;(typeof A.filter=="function"||a(A.filter))&&(L=A.filter);var m;if(A.arrayFormat in n?m=A.arrayFormat:"indices"in A?m=A.indices?"indices":"repeat":m=l.arrayFormat,"commaRoundTrip"in A&&typeof A.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var I=typeof A.allowDots>"u"?A.encodeDotInKeys===!0?!0:l.allowDots:!!A.allowDots;return{addQueryPrefix:typeof A.addQueryPrefix=="boolean"?A.addQueryPrefix:l.addQueryPrefix,allowDots:I,allowEmptyArrays:typeof A.allowEmptyArrays=="boolean"?!!A.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:m,charset:E,charsetSentinel:typeof A.charsetSentinel=="boolean"?A.charsetSentinel:l.charsetSentinel,commaRoundTrip:!!A.commaRoundTrip,delimiter:typeof A.delimiter>"u"?l.delimiter:A.delimiter,encode:typeof A.encode=="boolean"?A.encode:l.encode,encodeDotInKeys:typeof A.encodeDotInKeys=="boolean"?A.encodeDotInKeys:l.encodeDotInKeys,encoder:typeof A.encoder=="function"?A.encoder:l.encoder,encodeValuesOnly:typeof A.encodeValuesOnly=="boolean"?A.encodeValuesOnly:l.encodeValuesOnly,filter:L,format:P,formatter:T,serializeDate:typeof A.serializeDate=="function"?A.serializeDate:l.serializeDate,skipNulls:typeof A.skipNulls=="boolean"?A.skipNulls:l.skipNulls,sort:typeof A.sort=="function"?A.sort:null,strictNullHandling:typeof A.strictNullHandling=="boolean"?A.strictNullHandling:l.strictNullHandling}};return za=function(g,A){var E=g,P=v(A),T,L;typeof P.filter=="function"?(L=P.filter,E=L("",E)):a(P.filter)&&(L=P.filter,T=L);var m=[];if(typeof E!="object"||E===null)return"";var I=n[P.arrayFormat],y=I==="comma"&&P.commaRoundTrip;T||(T=Object.keys(E)),P.sort&&T.sort(P.sort);for(var w=i(),O=0;O<T.length;++O){var d=T[O],K=E[d];P.skipNulls&&K===null||s(m,p(K,d,I,y,P.allowEmptyArrays,P.strictNullHandling,P.skipNulls,P.encodeDotInKeys,P.encode?P.encoder:null,P.filter,P.sort,P.allowDots,P.serializeDate,P.format,P.formatter,P.encodeValuesOnly,P.charset,w))}var b=m.join(P.delimiter),R=P.addQueryPrefix===!0?"?":"";return P.charsetSentinel&&(P.charset==="iso-8859-1"?R+="utf8=%26%2310003%3B&":R+="utf8=%E2%9C%93&"),b.length>0?R+b:""},za}var Wa,fh;function Ep(){if(fh)return Wa;fh=1;var i=Zl(),r=Object.prototype.hasOwnProperty,e=Array.isArray,t={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},n=function(f){return f.replace(/&#(\d+);/g,function(p,v){return String.fromCharCode(parseInt(v,10))})},a=function(f,p,v){if(f&&typeof f=="string"&&p.comma&&f.indexOf(",")>-1)return f.split(",");if(p.throwOnLimitExceeded&&v>=p.arrayLimit)throw new RangeError("Array limit exceeded. Only "+p.arrayLimit+" element"+(p.arrayLimit===1?"":"s")+" allowed in an array.");return f},o="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",u=function(p,v){var g={__proto__:null},A=v.ignoreQueryPrefix?p.replace(/^\?/,""):p;A=A.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var E=v.parameterLimit===1/0?void 0:v.parameterLimit,P=A.split(v.delimiter,v.throwOnLimitExceeded?E+1:E);if(v.throwOnLimitExceeded&&P.length>E)throw new RangeError("Parameter limit exceeded. Only "+E+" parameter"+(E===1?"":"s")+" allowed.");var T=-1,L,m=v.charset;if(v.charsetSentinel)for(L=0;L<P.length;++L)P[L].indexOf("utf8=")===0&&(P[L]===s?m="utf-8":P[L]===o&&(m="iso-8859-1"),T=L,L=P.length);for(L=0;L<P.length;++L)if(L!==T){var I=P[L],y=I.indexOf("]="),w=y===-1?I.indexOf("="):y+1,O,d;w===-1?(O=v.decoder(I,t.decoder,m,"key"),d=v.strictNullHandling?null:""):(O=v.decoder(I.slice(0,w),t.decoder,m,"key"),d=i.maybeMap(a(I.slice(w+1),v,e(g[O])?g[O].length:0),function(b){return v.decoder(b,t.decoder,m,"value")})),d&&v.interpretNumericEntities&&m==="iso-8859-1"&&(d=n(String(d))),I.indexOf("[]=")>-1&&(d=e(d)?[d]:d);var K=r.call(g,O);K&&v.duplicates==="combine"?g[O]=i.combine(g[O],d):(!K||v.duplicates==="last")&&(g[O]=d)}return g},h=function(f,p,v,g){var A=0;if(f.length>0&&f[f.length-1]==="[]"){var E=f.slice(0,-1).join("");A=Array.isArray(p)&&p[E]?p[E].length:0}for(var P=g?p:a(p,v,A),T=f.length-1;T>=0;--T){var L,m=f[T];if(m==="[]"&&v.parseArrays)L=v.allowEmptyArrays&&(P===""||v.strictNullHandling&&P===null)?[]:i.combine([],P);else{L=v.plainObjects?{__proto__:null}:{};var I=m.charAt(0)==="["&&m.charAt(m.length-1)==="]"?m.slice(1,-1):m,y=v.decodeDotInKeys?I.replace(/%2E/g,"."):I,w=parseInt(y,10);!v.parseArrays&&y===""?L={0:P}:!isNaN(w)&&m!==y&&String(w)===y&&w>=0&&v.parseArrays&&w<=v.arrayLimit?(L=[],L[w]=P):y!=="__proto__"&&(L[y]=P)}P=L}return P},l=function(p,v,g,A){if(p){var E=g.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,P=/(\[[^[\]]*])/,T=/(\[[^[\]]*])/g,L=g.depth>0&&P.exec(E),m=L?E.slice(0,L.index):E,I=[];if(m){if(!g.plainObjects&&r.call(Object.prototype,m)&&!g.allowPrototypes)return;I.push(m)}for(var y=0;g.depth>0&&(L=T.exec(E))!==null&&y<g.depth;){if(y+=1,!g.plainObjects&&r.call(Object.prototype,L[1].slice(1,-1))&&!g.allowPrototypes)return;I.push(L[1])}if(L){if(g.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+g.depth+" and strictDepth is true");I.push("["+E.slice(L.index)+"]")}return h(I,v,g,A)}},c=function(p){if(!p)return t;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.decodeDotInKeys<"u"&&typeof p.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(p.decoder!==null&&typeof p.decoder<"u"&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof p.throwOnLimitExceeded<"u"&&typeof p.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var v=typeof p.charset>"u"?t.charset:p.charset,g=typeof p.duplicates>"u"?t.duplicates:p.duplicates;if(g!=="combine"&&g!=="first"&&g!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var A=typeof p.allowDots>"u"?p.decodeDotInKeys===!0?!0:t.allowDots:!!p.allowDots;return{allowDots:A,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:t.allowEmptyArrays,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:t.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:t.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:t.arrayLimit,charset:v,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:t.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:t.comma,decodeDotInKeys:typeof p.decodeDotInKeys=="boolean"?p.decodeDotInKeys:t.decodeDotInKeys,decoder:typeof p.decoder=="function"?p.decoder:t.decoder,delimiter:typeof p.delimiter=="string"||i.isRegExp(p.delimiter)?p.delimiter:t.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:t.depth,duplicates:g,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:t.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:t.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:t.plainObjects,strictDepth:typeof p.strictDepth=="boolean"?!!p.strictDepth:t.strictDepth,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:t.strictNullHandling,throwOnLimitExceeded:typeof p.throwOnLimitExceeded=="boolean"?p.throwOnLimitExceeded:!1}};return Wa=function(f,p){var v=c(p);if(f===""||f===null||typeof f>"u")return v.plainObjects?{__proto__:null}:{};for(var g=typeof f=="string"?u(f,v):f,A=v.plainObjects?{__proto__:null}:{},E=Object.keys(g),P=0;P<E.length;++P){var T=E[P],L=l(T,g[T],v,typeof f=="string");A=i.merge(A,L,v)}return v.allowSparse===!0?A:i.compact(A)},Wa}var Ya,ch;function Tp(){if(ch)return Ya;ch=1;var i=Ip(),r=Ep(),e=Is();return Ya={formats:e,parse:r,stringify:i},Ya}var dh;function _p(){if(dh)return pr;dh=1;var i=Xd();function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var e=/^([a-z0-9.+-]+:)/i,t=/:[0-9]*$/,n=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],o=["{","}","|","\\","^","`"].concat(a),s=["'"].concat(o),u=["%","/","?",";","#"].concat(s),h=["/","?","#"],l=255,c=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=Tp();function E(m,I,y){if(m&&typeof m=="object"&&m instanceof r)return m;var w=new r;return w.parse(m,I,y),w}r.prototype.parse=function(m,I,y){if(typeof m!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof m);var w=m.indexOf("?"),O=w!==-1&&w<m.indexOf("#")?"?":"#",d=m.split(O),K=/\\/g;d[0]=d[0].replace(K,"/"),m=d.join(O);var b=m;if(b=b.trim(),!y&&m.split("#").length===1){var R=n.exec(b);if(R)return this.path=b,this.href=b,this.pathname=R[1],R[2]?(this.search=R[2],I?this.query=A.parse(this.search.substr(1)):this.query=this.search.substr(1)):I&&(this.search="",this.query={}),this}var B=e.exec(b);if(B){B=B[0];var F=B.toLowerCase();this.protocol=F,b=b.substr(B.length)}if(y||B||b.match(/^\/\/[^@/]+@[^@/]+/)){var S=b.substr(0,2)==="//";S&&!(B&&v[B])&&(b=b.substr(2),this.slashes=!0)}if(!v[B]&&(S||B&&!g[B])){for(var _=-1,x=0;x<h.length;x++){var D=b.indexOf(h[x]);D!==-1&&(_===-1||D<_)&&(_=D)}var N,C;_===-1?C=b.lastIndexOf("@"):C=b.lastIndexOf("@",_),C!==-1&&(N=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(N)),_=-1;for(var x=0;x<u.length;x++){var D=b.indexOf(u[x]);D!==-1&&(_===-1||D<_)&&(_=D)}_===-1&&(_=b.length),this.host=b.slice(0,_),b=b.slice(_),this.parseHost(),this.hostname=this.hostname||"";var M=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!M)for(var U=this.hostname.split(/\./),x=0,k=U.length;x<k;x++){var X=U[x];if(X&&!X.match(c)){for(var W="",z=0,$=X.length;z<$;z++)X.charCodeAt(z)>127?W+="x":W+=X[z];if(!W.match(c)){var G=U.slice(0,x),j=U.slice(x+1),Z=X.match(f);Z&&(G.push(Z[1]),j.unshift(Z[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=G.join(".");break}}}this.hostname.length>l?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=i.toASCII(this.hostname));var Y=this.port?":"+this.port:"",te=this.hostname||"";this.host=te+Y,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),b[0]!=="/"&&(b="/"+b))}if(!p[F])for(var x=0,k=s.length;x<k;x++){var ie=s[x];if(b.indexOf(ie)!==-1){var Q=encodeURIComponent(ie);Q===ie&&(Q=escape(ie)),b=b.split(ie).join(Q)}}var ee=b.indexOf("#");ee!==-1&&(this.hash=b.substr(ee),b=b.slice(0,ee));var he=b.indexOf("?");if(he!==-1?(this.search=b.substr(he),this.query=b.substr(he+1),I&&(this.query=A.parse(this.query)),b=b.slice(0,he)):I&&(this.search="",this.query={}),b&&(this.pathname=b),g[F]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Y=this.pathname||"",Ie=this.search||"";this.path=Y+Ie}return this.href=this.format(),this};function P(m){return typeof m=="string"&&(m=E(m)),m instanceof r?m.format():r.prototype.format.call(m)}r.prototype.format=function(){var m=this.auth||"";m&&(m=encodeURIComponent(m),m=m.replace(/%3A/i,":"),m+="@");var I=this.protocol||"",y=this.pathname||"",w=this.hash||"",O=!1,d="";this.host?O=m+this.host:this.hostname&&(O=m+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(O+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(d=A.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var K=this.search||d&&"?"+d||"";return I&&I.substr(-1)!==":"&&(I+=":"),this.slashes||(!I||g[I])&&O!==!1?(O="//"+(O||""),y&&y.charAt(0)!=="/"&&(y="/"+y)):O||(O=""),w&&w.charAt(0)!=="#"&&(w="#"+w),K&&K.charAt(0)!=="?"&&(K="?"+K),y=y.replace(/[?#]/g,function(b){return encodeURIComponent(b)}),K=K.replace("#","%23"),I+O+y+K+w};function T(m,I){return E(m,!1,!0).resolve(I)}r.prototype.resolve=function(m){return this.resolveObject(E(m,!1,!0)).format()};function L(m,I){return m?E(m,!1,!0).resolveObject(I):I}return r.prototype.resolveObject=function(m){if(typeof m=="string"){var I=new r;I.parse(m,!1,!0),m=I}for(var y=new r,w=Object.keys(this),O=0;O<w.length;O++){var d=w[O];y[d]=this[d]}if(y.hash=m.hash,m.href==="")return y.href=y.format(),y;if(m.slashes&&!m.protocol){for(var K=Object.keys(m),b=0;b<K.length;b++){var R=K[b];R!=="protocol"&&(y[R]=m[R])}return g[y.protocol]&&y.hostname&&!y.pathname&&(y.pathname="/",y.path=y.pathname),y.href=y.format(),y}if(m.protocol&&m.protocol!==y.protocol){if(!g[m.protocol]){for(var B=Object.keys(m),F=0;F<B.length;F++){var S=B[F];y[S]=m[S]}return y.href=y.format(),y}if(y.protocol=m.protocol,!m.host&&!v[m.protocol]){for(var k=(m.pathname||"").split("/");k.length&&!(m.host=k.shift()););m.host||(m.host=""),m.hostname||(m.hostname=""),k[0]!==""&&k.unshift(""),k.length<2&&k.unshift(""),y.pathname=k.join("/")}else y.pathname=m.pathname;if(y.search=m.search,y.query=m.query,y.host=m.host||"",y.auth=m.auth,y.hostname=m.hostname||m.host,y.port=m.port,y.pathname||y.search){var _=y.pathname||"",x=y.search||"";y.path=_+x}return y.slashes=y.slashes||m.slashes,y.href=y.format(),y}var D=y.pathname&&y.pathname.charAt(0)==="/",N=m.host||m.pathname&&m.pathname.charAt(0)==="/",C=N||D||y.host&&m.pathname,M=C,U=y.pathname&&y.pathname.split("/")||[],k=m.pathname&&m.pathname.split("/")||[],X=y.protocol&&!g[y.protocol];if(X&&(y.hostname="",y.port=null,y.host&&(U[0]===""?U[0]=y.host:U.unshift(y.host)),y.host="",m.protocol&&(m.hostname=null,m.port=null,m.host&&(k[0]===""?k[0]=m.host:k.unshift(m.host)),m.host=null),C=C&&(k[0]===""||U[0]==="")),N)y.host=m.host||m.host===""?m.host:y.host,y.hostname=m.hostname||m.hostname===""?m.hostname:y.hostname,y.search=m.search,y.query=m.query,U=k;else if(k.length)U||(U=[]),U.pop(),U=U.concat(k),y.search=m.search,y.query=m.query;else if(m.search!=null){if(X){y.host=U.shift(),y.hostname=y.host;var W=y.host&&y.host.indexOf("@")>0?y.host.split("@"):!1;W&&(y.auth=W.shift(),y.hostname=W.shift(),y.host=y.hostname)}return y.search=m.search,y.query=m.query,(y.pathname!==null||y.search!==null)&&(y.path=(y.pathname?y.pathname:"")+(y.search?y.search:"")),y.href=y.format(),y}if(!U.length)return y.pathname=null,y.search?y.path="/"+y.search:y.path=null,y.href=y.format(),y;for(var z=U.slice(-1)[0],$=(y.host||m.host||U.length>1)&&(z==="."||z==="..")||z==="",G=0,j=U.length;j>=0;j--)z=U[j],z==="."?U.splice(j,1):z===".."?(U.splice(j,1),G++):G&&(U.splice(j,1),G--);if(!C&&!M)for(;G--;G)U.unshift("..");C&&U[0]!==""&&(!U[0]||U[0].charAt(0)!=="/")&&U.unshift(""),$&&U.join("/").substr(-1)!=="/"&&U.push("");var Z=U[0]===""||U[0]&&U[0].charAt(0)==="/";if(X){y.hostname=Z?"":U.length?U.shift():"",y.host=y.hostname;var W=y.host&&y.host.indexOf("@")>0?y.host.split("@"):!1;W&&(y.auth=W.shift(),y.hostname=W.shift(),y.host=y.hostname)}return C=C||y.host&&U.length,C&&!Z&&U.unshift(""),U.length>0?y.pathname=U.join("/"):(y.pathname=null,y.path=null),(y.pathname!==null||y.search!==null)&&(y.path=(y.pathname?y.pathname:"")+(y.search?y.search:"")),y.auth=m.auth||y.auth,y.slashes=y.slashes||m.slashes,y.href=y.format(),y},r.prototype.parseHost=function(){var m=this.host,I=t.exec(m);I&&(I=I[0],I!==":"&&(this.port=I.substr(1)),m=m.substr(0,m.length-I.length)),m&&(this.hostname=m)},pr.parse=E,pr.resolve=T,pr.resolveObject=L,pr.format=P,pr.Url=r,pr}var Ql=_p();const ef=or(Ql);/*!
 * @pixi/constants - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Lt;(function(i){i[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2"})(Lt||(Lt={}));var Rr;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS"})(Rr||(Rr={}));var Ni;(function(i){i[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL"})(Ni||(Ni={}));var q;(function(i){i[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR"})(q||(q={}));var et;(function(i){i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(et||(et={}));var Wr;(function(i){i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Wr||(Wr={}));var ir;(function(i){i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ir||(ir={}));var Re;(function(i){i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.FLOAT=5126]="FLOAT",i[i.HALF_FLOAT=36193]="HALF_FLOAT"})(Re||(Re={}));var ut;(function(i){i[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR"})(ut||(ut={}));var Bt;(function(i){i[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Bt||(Bt={}));var Yr;(function(i){i[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON"})(Yr||(Yr={}));var Ht;(function(i){i[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Ht||(Ht={}));var dt;(function(i){i[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT"})(dt||(dt={}));var _n;(function(i){i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL"})(_n||(_n={}));var pt;(function(i){i.LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp"})(pt||(pt={}));var We;(function(i){i[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE"})(We||(We={}));var br;(function(i){i[i.NONE=0]="NONE",i[i.LOW=2]="LOW",i[i.MEDIUM=4]="MEDIUM",i[i.HIGH=8]="HIGH"})(br||(br={}));/*!
 * @pixi/utils - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ne.RETINA_PREFIX=/@([0-9\.]+)x/;ne.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var Po=!1,ph="5.3.12";function Op(){Po=!0}function Es(i){var r;if(!Po){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=[`
 %c %c %c PixiJS `+ph+" -  "+i+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(r=window.console).log.apply(r,e)}else window.console&&window.console.log("PixiJS "+ph+" - "+i+" - http://www.pixijs.com/");Po=!0}}var qa;function tf(){return typeof qa>"u"&&(qa=function(){var r={stencil:!0,failIfMajorPerformanceCaveat:ne.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),t=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),n=!!(t&&t.getContextAttributes().stencil);if(t){var a=t.getExtension("WEBGL_lose_context");a&&a.loseContext()}return t=null,n}catch{return!1}}()),qa}function kt(i,r){return r===void 0&&(r=[]),r[0]=(i>>16&255)/255,r[1]=(i>>8&255)/255,r[2]=(i&255)/255,r}function Un(i){var r=i.toString(16);return r="000000".substr(0,6-r.length)+r,"#"+r}function Ts(i){return typeof i=="string"&&i[0]==="#"&&(i=i.substr(1)),parseInt(i,16)}function _s(i){return(i[0]*255<<16)+(i[1]*255<<8)+(i[2]*255|0)}function xp(){for(var i=[],r=[],e=0;e<32;e++)i[e]=e,r[e]=e;i[q.NORMAL_NPM]=q.NORMAL,i[q.ADD_NPM]=q.ADD,i[q.SCREEN_NPM]=q.SCREEN,r[q.NORMAL]=q.NORMAL_NPM,r[q.ADD]=q.ADD_NPM,r[q.SCREEN]=q.SCREEN_NPM;var t=[];return t.push(r),t.push(i),t}var Os=xp();function xs(i,r){return Os[r?1:0][i]}function rf(i,r,e,t){return e=e||new Float32Array(4),t||t===void 0?(e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r):(e[0]=i[0],e[1]=i[1],e[2]=i[2]),e[3]=r,e}function Fn(i,r){if(r===1)return(r*255<<24)+i;if(r===0)return 0;var e=i>>16&255,t=i>>8&255,n=i&255;return e=e*r+.5|0,t=t*r+.5|0,n=n*r+.5|0,(r*255<<24)+(e<<16)+(t<<8)+n}function Rs(i,r,e,t){return e=e||new Float32Array(4),e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255,(t||t===void 0)&&(e[0]*=r,e[1]*=r,e[2]*=r),e[3]=r,e}function nf(i,r){r===void 0&&(r=null);var e=i*6;if(r=r||new Uint16Array(e),r.length!==e)throw new Error("Out buffer length is incorrect, got "+r.length+" and expected "+e);for(var t=0,n=0;t<e;t+=6,n+=4)r[t+0]=n+0,r[t+1]=n+1,r[t+2]=n+2,r[t+3]=n+0,r[t+4]=n+2,r[t+5]=n+3;return r}function af(i){if(i.BYTES_PER_ELEMENT===4)return i instanceof Float32Array?"Float32Array":i instanceof Uint32Array?"Uint32Array":"Int32Array";if(i.BYTES_PER_ELEMENT===2){if(i instanceof Uint16Array)return"Uint16Array"}else if(i.BYTES_PER_ELEMENT===1&&i instanceof Uint8Array)return"Uint8Array";return null}var Rp={Float32Array,Uint32Array,Int32Array,Uint8Array};function bp(i,r){for(var e=0,t=0,n={},a=0;a<i.length;a++)t+=r[a],e+=i[a].length;for(var o=new ArrayBuffer(e*4),s=null,u=0,a=0;a<i.length;a++){var h=r[a],l=i[a],c=af(l);n[c]||(n[c]=new Rp[c](o)),s=n[c];for(var f=0;f<l.length;f++){var p=(f/h|0)*t+u,v=f%h;s[p+v]=l[f]}u+=h}return new Float32Array(o)}function Ci(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function Lo(i){return!(i&i-1)&&!!i}function wo(i){var r=(i>65535?1:0)<<4;i>>>=r;var e=(i>255?1:0)<<3;return i>>>=e,r|=e,e=(i>15?1:0)<<2,i>>>=e,r|=e,e=(i>3?1:0)<<1,i>>>=e,r|=e,r|i>>1}function Or(i,r,e){var t=i.length,n;if(!(r>=t||e===0)){e=r+e>t?t-r:e;var a=t-e;for(n=r;n<a;++n)i[n]=i[n+e];i.length=a}}function Tr(i){return i===0?0:i<0?-1:1}var Pp=0;function Pr(){return++Pp}var vh={};function J(i,r,e){if(e===void 0&&(e=3),!vh[r]){var t=new Error().stack;typeof t>"u"?console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+i):(t=t.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+`
Deprecated since v`+i),console.warn(t),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+i),console.warn(t))),vh[r]=!0}}var No={},Ye=Object.create(null),ot=Object.create(null);function Lp(){var i;for(i in Ye)Ye[i].destroy();for(i in ot)ot[i].destroy()}function wp(){var i;for(i in Ye)delete Ye[i];for(i in ot)delete ot[i]}var qr=function(){function i(r,e,t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=t||ne.RESOLUTION,this.resize(r,e)}return i.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},i.prototype.resize=function(r,e){this.canvas.width=r*this.resolution,this.canvas.height=e*this.resolution},i.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(i.prototype,"width",{get:function(){return this.canvas.width},set:function(r){this.canvas.width=r},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.canvas.height},set:function(r){this.canvas.height=r},enumerable:!1,configurable:!0}),i}();function of(i){var r=i.width,e=i.height,t=i.getContext("2d"),n=t.getImageData(0,0,r,e),a=n.data,o=a.length,s={top:null,left:null,right:null,bottom:null},u=null,h,l,c;for(h=0;h<o;h+=4)a[h+3]!==0&&(l=h/4%r,c=~~(h/4/r),s.top===null&&(s.top=c),(s.left===null||l<s.left)&&(s.left=l),(s.right===null||s.right<l)&&(s.right=l+1),(s.bottom===null||s.bottom<c)&&(s.bottom=c));return s.top!==null&&(r=s.right-s.left,e=s.bottom-s.top+1,u=t.getImageData(s.left,s.top,r,e)),{height:e,width:r,data:u}}var sf=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Np(i){var r=sf.exec(i);if(r)return{mediaType:r[1]?r[1].toLowerCase():void 0,subType:r[2]?r[2].toLowerCase():void 0,charset:r[3]?r[3].toLowerCase():void 0,encoding:r[4]?r[4].toLowerCase():void 0,data:r[5]}}var nn;function uf(i,r){if(r===void 0&&(r=window.location),i.indexOf("data:")===0)return"";r=r||window.location,nn||(nn=document.createElement("a")),nn.href=i;var e=Ql.parse(nn.href),t=!e.port&&r.port===""||e.port===r.port;return e.hostname!==r.hostname||!t||e.protocol!==r.protocol?"anonymous":""}function Mi(i,r){var e=ne.RETINA_PREFIX.exec(i);return e?parseFloat(e[1]):r!==void 0?r:1}const Cp=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:ot,CanvasRenderTarget:qr,DATA_URI:sf,EventEmitter:ri,ProgramCache:No,TextureCache:Ye,clearTextureCache:wp,correctBlendMode:xs,createIndicesForQuads:nf,decomposeDataUri:Np,deprecation:J,destroyTextureCache:Lp,determineCrossOrigin:uf,earcut:Ss,getBufferType:af,getResolutionOfUrl:Mi,hex2rgb:kt,hex2string:Un,interleaveTypedArrays:bp,isMobile:st,isPow2:Lo,isWebGLSupported:tf,log2:wo,nextPow2:Ci,premultiplyBlendMode:Os,premultiplyRgba:rf,premultiplyTint:Fn,premultiplyTintToRgba:Rs,removeItems:Or,rgb2hex:_s,sayHello:Es,sign:Tr,skipHello:Op,string2hex:Ts,trimCanvas:of,uid:Pr,url:ef},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $r=Math.PI*2,hf=180/Math.PI,lf=Math.PI/180,de;(function(i){i[i.POLY=0]="POLY",i[i.RECT=1]="RECT",i[i.CIRC=2]="CIRC",i[i.ELIP=3]="ELIP",i[i.RREC=4]="RREC"})(de||(de={}));var pe=function(){function i(r,e,t,n){r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),this.x=Number(r),this.y=Number(e),this.width=Number(t),this.height=Number(n),this.type=de.RECT}return Object.defineProperty(i.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i,"EMPTY",{get:function(){return new i(0,0,0,0)},enumerable:!1,configurable:!0}),i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.copyFrom=function(r){return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this},i.prototype.copyTo=function(r){return r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r},i.prototype.contains=function(r,e){return this.width<=0||this.height<=0?!1:r>=this.x&&r<this.x+this.width&&e>=this.y&&e<this.y+this.height},i.prototype.pad=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),this.x-=r,this.y-=e,this.width+=r*2,this.height+=e*2,this},i.prototype.fit=function(r){var e=Math.max(this.x,r.x),t=Math.min(this.x+this.width,r.x+r.width),n=Math.max(this.y,r.y),a=Math.min(this.y+this.height,r.y+r.height);return this.x=e,this.width=Math.max(t-e,0),this.y=n,this.height=Math.max(a-n,0),this},i.prototype.ceil=function(r,e){r===void 0&&(r=1),e===void 0&&(e=.001);var t=Math.ceil((this.x+this.width-e)*r)/r,n=Math.ceil((this.y+this.height-e)*r)/r;return this.x=Math.floor((this.x+e)*r)/r,this.y=Math.floor((this.y+e)*r)/r,this.width=t-this.x,this.height=n-this.y,this},i.prototype.enlarge=function(r){var e=Math.min(this.x,r.x),t=Math.max(this.x+this.width,r.x+r.width),n=Math.min(this.y,r.y),a=Math.max(this.y+this.height,r.y+r.height);return this.x=e,this.width=t-e,this.y=n,this.height=a-n,this},i}(),ff=function(){function i(r,e,t){r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=0),this.x=r,this.y=e,this.radius=t,this.type=de.CIRC}return i.prototype.clone=function(){return new i(this.x,this.y,this.radius)},i.prototype.contains=function(r,e){if(this.radius<=0)return!1;var t=this.radius*this.radius,n=this.x-r,a=this.y-e;return n*=n,a*=a,n+a<=t},i.prototype.getBounds=function(){return new pe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},i}(),cf=function(){function i(r,e,t,n){r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),this.x=r,this.y=e,this.width=t,this.height=n,this.type=de.ELIP}return i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(r,e){if(this.width<=0||this.height<=0)return!1;var t=(r-this.x)/this.width,n=(e-this.y)/this.height;return t*=t,n*=n,t+n<=1},i.prototype.getBounds=function(){return new pe(this.x-this.width,this.y-this.height,this.width,this.height)},i}(),kr=function(){function i(){for(var r=arguments,e=[],t=0;t<arguments.length;t++)e[t]=r[t];var n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){for(var a=[],o=0,s=n.length;o<s;o++)a.push(n[o].x,n[o].y);n=a}this.points=n,this.type=de.POLY,this.closeStroke=!0}return i.prototype.clone=function(){var r=this.points.slice(),e=new i(r);return e.closeStroke=this.closeStroke,e},i.prototype.contains=function(r,e){for(var t=!1,n=this.points.length/2,a=0,o=n-1;a<n;o=a++){var s=this.points[a*2],u=this.points[a*2+1],h=this.points[o*2],l=this.points[o*2+1],c=u>e!=l>e&&r<(h-s)*((e-u)/(l-u))+s;c&&(t=!t)}return t},i}(),df=function(){function i(r,e,t,n,a){r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=20),this.x=r,this.y=e,this.width=t,this.height=n,this.radius=a,this.type=de.RREC}return i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.radius)},i.prototype.contains=function(r,e){if(this.width<=0||this.height<=0)return!1;if(r>=this.x&&r<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||r>=this.x+this.radius&&r<=this.x+this.width-this.radius)return!0;var t=r-(this.x+this.radius),n=e-(this.y+this.radius),a=this.radius*this.radius;if(t*t+n*n<=a||(t=r-(this.x+this.width-this.radius),t*t+n*n<=a)||(n=e-(this.y+this.height-this.radius),t*t+n*n<=a)||(t=r-(this.x+this.radius),t*t+n*n<=a))return!0}return!1},i}(),Ne=function(){function i(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this.x=r,this.y=e}return i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copyFrom=function(r){return this.set(r.x,r.y),this},i.prototype.copyTo=function(r){return r.set(this.x,this.y),r},i.prototype.equals=function(r){return r.x===this.x&&r.y===this.y},i.prototype.set=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),this.x=r,this.y=e,this},i}(),_r=function(){function i(r,e,t,n){t===void 0&&(t=0),n===void 0&&(n=0),this._x=t,this._y=n,this.cb=r,this.scope=e}return i.prototype.clone=function(r,e){return r===void 0&&(r=this.cb),e===void 0&&(e=this.scope),new i(r,e,this._x,this._y)},i.prototype.set=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),(this._x!==r||this._y!==e)&&(this._x=r,this._y=e,this.cb.call(this.scope)),this},i.prototype.copyFrom=function(r){return(this._x!==r.x||this._y!==r.y)&&(this._x=r.x,this._y=r.y,this.cb.call(this.scope)),this},i.prototype.copyTo=function(r){return r.set(this._x,this._y),r},i.prototype.equals=function(r){return r.x===this._x&&r.y===this._y},Object.defineProperty(i.prototype,"x",{get:function(){return this._x},set:function(r){this._x!==r&&(this._x=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this._y},set:function(r){this._y!==r&&(this._y=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),i}(),ye=function(){function i(r,e,t,n,a,o){r===void 0&&(r=1),e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=r,this.b=e,this.c=t,this.d=n,this.tx=a,this.ty=o}return i.prototype.fromArray=function(r){this.a=r[0],this.b=r[1],this.c=r[3],this.d=r[4],this.tx=r[2],this.ty=r[5]},i.prototype.set=function(r,e,t,n,a,o){return this.a=r,this.b=e,this.c=t,this.d=n,this.tx=a,this.ty=o,this},i.prototype.toArray=function(r,e){this.array||(this.array=new Float32Array(9));var t=e||this.array;return r?(t[0]=this.a,t[1]=this.b,t[2]=0,t[3]=this.c,t[4]=this.d,t[5]=0,t[6]=this.tx,t[7]=this.ty,t[8]=1):(t[0]=this.a,t[1]=this.c,t[2]=this.tx,t[3]=this.b,t[4]=this.d,t[5]=this.ty,t[6]=0,t[7]=0,t[8]=1),t},i.prototype.apply=function(r,e){e=e||new Ne;var t=r.x,n=r.y;return e.x=this.a*t+this.c*n+this.tx,e.y=this.b*t+this.d*n+this.ty,e},i.prototype.applyInverse=function(r,e){e=e||new Ne;var t=1/(this.a*this.d+this.c*-this.b),n=r.x,a=r.y;return e.x=this.d*t*n+-this.c*t*a+(this.ty*this.c-this.tx*this.d)*t,e.y=this.a*t*a+-this.b*t*n+(-this.ty*this.a+this.tx*this.b)*t,e},i.prototype.translate=function(r,e){return this.tx+=r,this.ty+=e,this},i.prototype.scale=function(r,e){return this.a*=r,this.d*=e,this.c*=r,this.b*=e,this.tx*=r,this.ty*=e,this},i.prototype.rotate=function(r){var e=Math.cos(r),t=Math.sin(r),n=this.a,a=this.c,o=this.tx;return this.a=n*e-this.b*t,this.b=n*t+this.b*e,this.c=a*e-this.d*t,this.d=a*t+this.d*e,this.tx=o*e-this.ty*t,this.ty=o*t+this.ty*e,this},i.prototype.append=function(r){var e=this.a,t=this.b,n=this.c,a=this.d;return this.a=r.a*e+r.b*n,this.b=r.a*t+r.b*a,this.c=r.c*e+r.d*n,this.d=r.c*t+r.d*a,this.tx=r.tx*e+r.ty*n+this.tx,this.ty=r.tx*t+r.ty*a+this.ty,this},i.prototype.setTransform=function(r,e,t,n,a,o,s,u,h){return this.a=Math.cos(s+h)*a,this.b=Math.sin(s+h)*a,this.c=-Math.sin(s-u)*o,this.d=Math.cos(s-u)*o,this.tx=r-(t*this.a+n*this.c),this.ty=e-(t*this.b+n*this.d),this},i.prototype.prepend=function(r){var e=this.tx;if(r.a!==1||r.b!==0||r.c!==0||r.d!==1){var t=this.a,n=this.c;this.a=t*r.a+this.b*r.c,this.b=t*r.b+this.b*r.d,this.c=n*r.a+this.d*r.c,this.d=n*r.b+this.d*r.d}return this.tx=e*r.a+this.ty*r.c+r.tx,this.ty=e*r.b+this.ty*r.d+r.ty,this},i.prototype.decompose=function(r){var e=this.a,t=this.b,n=this.c,a=this.d,o=-Math.atan2(-n,a),s=Math.atan2(t,e),u=Math.abs(o+s);return u<1e-5||Math.abs($r-u)<1e-5?(r.rotation=s,r.skew.x=r.skew.y=0):(r.rotation=0,r.skew.x=o,r.skew.y=s),r.scale.x=Math.sqrt(e*e+t*t),r.scale.y=Math.sqrt(n*n+a*a),r.position.x=this.tx,r.position.y=this.ty,r},i.prototype.invert=function(){var r=this.a,e=this.b,t=this.c,n=this.d,a=this.tx,o=r*n-e*t;return this.a=n/o,this.b=-e/o,this.c=-t/o,this.d=r/o,this.tx=(t*this.ty-n*a)/o,this.ty=-(r*this.ty-e*a)/o,this},i.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.prototype.clone=function(){var r=new i;return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},i.prototype.copyTo=function(r){return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},i.prototype.copyFrom=function(r){return this.a=r.a,this.b=r.b,this.c=r.c,this.d=r.d,this.tx=r.tx,this.ty=r.ty,this},Object.defineProperty(i,"IDENTITY",{get:function(){return new i},enumerable:!1,configurable:!0}),Object.defineProperty(i,"TEMP_MATRIX",{get:function(){return new i},enumerable:!1,configurable:!0}),i}(),yr=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],mr=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ir=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Er=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Co=[],pf=[],an=Math.sign;function Mp(){for(var i=0;i<16;i++){var r=[];Co.push(r);for(var e=0;e<16;e++)for(var t=an(yr[i]*yr[e]+Ir[i]*mr[e]),n=an(mr[i]*yr[e]+Er[i]*mr[e]),a=an(yr[i]*Ir[e]+Ir[i]*Er[e]),o=an(mr[i]*Ir[e]+Er[i]*Er[e]),s=0;s<16;s++)if(yr[s]===t&&mr[s]===n&&Ir[s]===a&&Er[s]===o){r.push(s);break}}for(var i=0;i<16;i++){var u=new ye;u.set(yr[i],mr[i],Ir[i],Er[i],0,0),pf.push(u)}}Mp();var Se={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(i){return yr[i]},uY:function(i){return mr[i]},vX:function(i){return Ir[i]},vY:function(i){return Er[i]},inv:function(i){return i&8?i&15:-i&7},add:function(i,r){return Co[i][r]},sub:function(i,r){return Co[i][Se.inv(r)]},rotate180:function(i){return i^4},isVertical:function(i){return(i&3)===2},byDirection:function(i,r){return Math.abs(i)*2<=Math.abs(r)?r>=0?Se.S:Se.N:Math.abs(r)*2<=Math.abs(i)?i>0?Se.E:Se.W:r>0?i>0?Se.SE:Se.SW:i>0?Se.NE:Se.NW},matrixAppendRotationInv:function(i,r,e,t){e===void 0&&(e=0),t===void 0&&(t=0);var n=pf[Se.inv(r)];n.tx=e,n.ty=t,i.append(n)}},bs=function(){function i(){this.worldTransform=new ye,this.localTransform=new ye,this.position=new _r(this.onChange,this,0,0),this.scale=new _r(this.onChange,this,1,1),this.pivot=new _r(this.onChange,this,0,0),this.skew=new _r(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return i.prototype.onChange=function(){this._localID++},i.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},i.prototype.updateLocalTransform=function(){var r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)},i.prototype.updateTransform=function(r){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){var t=r.worldTransform,n=this.worldTransform;n.a=e.a*t.a+e.b*t.c,n.b=e.a*t.b+e.b*t.d,n.c=e.c*t.a+e.d*t.c,n.d=e.c*t.b+e.d*t.d,n.tx=e.tx*t.a+e.ty*t.c+t.tx,n.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=r._worldID,this._worldID++}},i.prototype.setFromMatrix=function(r){r.decompose(this),this._localID++},Object.defineProperty(i.prototype,"rotation",{get:function(){return this._rotation},set:function(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())},enumerable:!1,configurable:!0}),i.IDENTITY=new i,i}();/*!
 * @pixi/display - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ne.SORTABLE_CHILDREN=!1;var Di=function(){function i(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return i.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},i.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},i.prototype.getRectangle=function(r){return this.minX>this.maxX||this.minY>this.maxY?pe.EMPTY:(r=r||new pe(0,0,1,1),r.x=this.minX,r.y=this.minY,r.width=this.maxX-this.minX,r.height=this.maxY-this.minY,r)},i.prototype.addPoint=function(r){this.minX=Math.min(this.minX,r.x),this.maxX=Math.max(this.maxX,r.x),this.minY=Math.min(this.minY,r.y),this.maxY=Math.max(this.maxY,r.y)},i.prototype.addQuad=function(r){var e=this.minX,t=this.minY,n=this.maxX,a=this.maxY,o=r[0],s=r[1];e=o<e?o:e,t=s<t?s:t,n=o>n?o:n,a=s>a?s:a,o=r[2],s=r[3],e=o<e?o:e,t=s<t?s:t,n=o>n?o:n,a=s>a?s:a,o=r[4],s=r[5],e=o<e?o:e,t=s<t?s:t,n=o>n?o:n,a=s>a?s:a,o=r[6],s=r[7],e=o<e?o:e,t=s<t?s:t,n=o>n?o:n,a=s>a?s:a,this.minX=e,this.minY=t,this.maxX=n,this.maxY=a},i.prototype.addFrame=function(r,e,t,n,a){this.addFrameMatrix(r.worldTransform,e,t,n,a)},i.prototype.addFrameMatrix=function(r,e,t,n,a){var o=r.a,s=r.b,u=r.c,h=r.d,l=r.tx,c=r.ty,f=this.minX,p=this.minY,v=this.maxX,g=this.maxY,A=o*e+u*t+l,E=s*e+h*t+c;f=A<f?A:f,p=E<p?E:p,v=A>v?A:v,g=E>g?E:g,A=o*n+u*t+l,E=s*n+h*t+c,f=A<f?A:f,p=E<p?E:p,v=A>v?A:v,g=E>g?E:g,A=o*e+u*a+l,E=s*e+h*a+c,f=A<f?A:f,p=E<p?E:p,v=A>v?A:v,g=E>g?E:g,A=o*n+u*a+l,E=s*n+h*a+c,f=A<f?A:f,p=E<p?E:p,v=A>v?A:v,g=E>g?E:g,this.minX=f,this.minY=p,this.maxX=v,this.maxY=g},i.prototype.addVertexData=function(r,e,t){for(var n=this.minX,a=this.minY,o=this.maxX,s=this.maxY,u=e;u<t;u+=2){var h=r[u],l=r[u+1];n=h<n?h:n,a=l<a?l:a,o=h>o?h:o,s=l>s?l:s}this.minX=n,this.minY=a,this.maxX=o,this.maxY=s},i.prototype.addVertices=function(r,e,t,n){this.addVerticesMatrix(r.worldTransform,e,t,n)},i.prototype.addVerticesMatrix=function(r,e,t,n,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=r.a,u=r.b,h=r.c,l=r.d,c=r.tx,f=r.ty,p=this.minX,v=this.minY,g=this.maxX,A=this.maxY,E=t;E<n;E+=2){var P=e[E],T=e[E+1],L=s*P+h*T+c,m=l*T+u*P+f;p=Math.min(p,L-a),g=Math.max(g,L+a),v=Math.min(v,m-o),A=Math.max(A,m+o)}this.minX=p,this.minY=v,this.maxX=g,this.maxY=A},i.prototype.addBounds=function(r){var e=this.minX,t=this.minY,n=this.maxX,a=this.maxY;this.minX=r.minX<e?r.minX:e,this.minY=r.minY<t?r.minY:t,this.maxX=r.maxX>n?r.maxX:n,this.maxY=r.maxY>a?r.maxY:a},i.prototype.addBoundsMask=function(r,e){var t=r.minX>e.minX?r.minX:e.minX,n=r.minY>e.minY?r.minY:e.minY,a=r.maxX<e.maxX?r.maxX:e.maxX,o=r.maxY<e.maxY?r.maxY:e.maxY;if(t<=a&&n<=o){var s=this.minX,u=this.minY,h=this.maxX,l=this.maxY;this.minX=t<s?t:s,this.minY=n<u?n:u,this.maxX=a>h?a:h,this.maxY=o>l?o:l}},i.prototype.addBoundsMatrix=function(r,e){this.addFrameMatrix(e,r.minX,r.minY,r.maxX,r.maxY)},i.prototype.addBoundsArea=function(r,e){var t=r.minX>e.x?r.minX:e.x,n=r.minY>e.y?r.minY:e.y,a=r.maxX<e.x+e.width?r.maxX:e.x+e.width,o=r.maxY<e.y+e.height?r.maxY:e.y+e.height;if(t<=a&&n<=o){var s=this.minX,u=this.minY,h=this.maxX,l=this.maxY;this.minX=t<s?t:s,this.minY=n<u?n:u,this.maxX=a>h?a:h,this.maxY=o>l?o:l}},i.prototype.pad=function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.isEmpty()||(this.minX-=r,this.maxX+=r,this.minY-=e,this.maxY+=e)},i.prototype.addFramePad=function(r,e,t,n,a,o){r-=a,e-=o,t+=a,n+=o,this.minX=this.minX<r?this.minX:r,this.maxX=this.maxX>t?this.maxX:t,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n},i}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Mo=function(i,r){return Mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Mo(i,r)};function Ps(i,r){Mo(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var xe=function(i){Ps(r,i);function r(){var e=i.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new bs,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Di,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return r.mixin=function(e){for(var t=Object.keys(e),n=0;n<t.length;++n){var a=t[n];Object.defineProperty(r.prototype,a,Object.getOwnPropertyDescriptor(e,a))}},r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},r.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new pe),t=this._boundsRect),this._bounds.getRectangle(t)},r.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new pe),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Di);var t=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},r.prototype.toGlobal=function(e,t,n){return n===void 0&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},r.prototype.toLocal=function(e,t,n,a){return t&&(e=t.toGlobal(e,n,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},r.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},r.prototype.setTransform=function(e,t,n,a,o,s,u,h,l){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),u===void 0&&(u=0),h===void 0&&(h=0),l===void 0&&(l=0),this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=u,this.pivot.x=h,this.pivot.y=l,this},r.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(r.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Ls),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),r.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},r.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(r.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.transform.rotation*hf},set:function(e){this.transform.rotation=e*lf},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask){var t=this._mask.maskObject||this._mask;t.renderable=!0,t.isMask=!1}if(this._mask=e,this._mask){var t=this._mask.maskObject||this._mask;t.renderable=!1,t.isMask=!0}},enumerable:!1,configurable:!0}),r}(ri),Ls=function(i){Ps(r,i);function r(){var e=i!==null&&i.apply(this,arguments)||this;return e.sortDirty=null,e}return r}(xe);xe.prototype.displayObjectUpdateTransform=xe.prototype.updateTransform;function Dp(i,r){return i.zIndex===r.zIndex?i._lastSortedIndex-r._lastSortedIndex:i.zIndex-r.zIndex}var tt=function(i){Ps(r,i);function r(){var e=i.call(this)||this;return e.children=[],e.sortableChildren=ne.SORTABLE_CHILDREN,e.sortDirty=!1,e}return r.prototype.onChildrenChange=function(e){},r.prototype.addChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(t.length>1)for(var a=0;a<t.length;a++)this.addChild(t[a]);else{var o=t[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return t[0]},r.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},r.prototype.swapChildren=function(e,t){if(e!==t){var n=this.getChildIndex(e),a=this.getChildIndex(t);this.children[n]=t,this.children[a]=e,this.onChildrenChange(n<a?n:a)}},r.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t},r.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);Or(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)},r.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},r.prototype.removeChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(t.length>1)for(var a=0;a<t.length;a++)this.removeChild(t[a]);else{var o=t[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,Or(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return t[0]},r.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Or(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},r.prototype.removeChildren=function(e,t){e===void 0&&(e=0),t===void 0&&(t=this.children.length);var n=e,a=t,o=a-n,s;if(o>0&&o<=a){s=this.children.splice(n,o);for(var u=0;u<s.length;++u)s[u].parent=null,s[u].transform&&(s[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var u=0;u<s.length;++u)s[u].emit("removed",this),this.emit("childRemoved",s[u],this,u);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.sortChildren=function(){for(var e=!1,t=0,n=this.children.length;t<n;++t){var a=this.children[t];a._lastSortedIndex=t,!e&&a.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(Dp),this.sortDirty=!1},r.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}},r.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){var n=t._mask.maskObject||t._mask;n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID},r.prototype.getLocalBounds=function(e,t){t===void 0&&(t=!1);var n=i.prototype.getLocalBounds.call(this,e);if(!t)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return n},r.prototype._calculateBounds=function(){},r.prototype.render=function(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}},r.prototype.renderAdvanced=function(e){e.batch.flush();var t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<t.length;a++)t[a].enabled&&this._enabledFilters.push(t[a]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}n&&e.mask.push(this,this._mask),this._render(e);for(var a=0,o=this.children.length;a<o;a++)this.children[a].render(e);e.batch.flush(),n&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},r.prototype._render=function(e){},r.prototype.destroy=function(e){i.prototype.destroy.call(this),this.sortDirty=!1;var t=typeof e=="boolean"?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(t)for(var a=0;a<n.length;++a)n[a].destroy(e)},Object.defineProperty(r.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e},enumerable:!1,configurable:!0}),r}(xe);tt.prototype.containerUpdateTransform=tt.prototype.updateTransform;/*!
 * @pixi/accessibility - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vf={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};xe.mixin(vf);var Kp=9,on=100,Up=0,Fp=0,gh=2,Ah=1,Bp=-1e3,Gp=-1e3,Hp=2,ws=function(){function i(r){this._hookDiv=null,(st.tablet||st.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=on+"px",e.style.height=on+"px",e.style.position="absolute",e.style.top=Up+"px",e.style.left=Fp+"px",e.style.zIndex=gh.toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=r,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(i.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),i.prototype.createTouchHook=function(){var r=this,e=document.createElement("button");e.style.width=Ah+"px",e.style.height=Ah+"px",e.style.position="absolute",e.style.top=Bp+"px",e.style.left=Gp+"px",e.style.zIndex=Hp.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",function(){r._isMobileAccessibility=!0,r.activate(),r.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},i.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},i.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},i.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},i.prototype.updateAccessibleObjects=function(r){if(!(!r.visible||!r.accessibleChildren)){r.accessible&&r.interactive&&(r._accessibleActive||this.addChild(r),r.renderId=this.renderId);for(var e=r.children,t=0;t<e.length;t++)this.updateAccessibleObjects(e[t])}},i.prototype.update=function(){var r=performance.now();if(!(st.android.device&&r<this.androidUpdateCount)&&(this.androidUpdateCount=r+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=this.renderer.resolution,n=e.width/this.renderer.width*t,a=e.height/this.renderer.height*t,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var u=this.children[s];if(u.renderId!==this.renderId)u._accessibleActive=!1,Or(this.children,s,1),this.div.removeChild(u._accessibleDiv),this.pool.push(u._accessibleDiv),u._accessibleDiv=null,s--;else{o=u._accessibleDiv;var h=u.hitArea,l=u.worldTransform;u.hitArea?(o.style.left=(l.tx+h.x*l.a)*n+"px",o.style.top=(l.ty+h.y*l.d)*a+"px",o.style.width=h.width*l.a*n+"px",o.style.height=h.height*l.d*a+"px"):(h=u.getBounds(),this.capHitArea(h),o.style.left=h.x*n+"px",o.style.top=h.y*a+"px",o.style.width=h.width*n+"px",o.style.height=h.height*a+"px",o.title!==u.accessibleTitle&&u.accessibleTitle!==null&&(o.title=u.accessibleTitle),o.getAttribute("aria-label")!==u.accessibleHint&&u.accessibleHint!==null&&o.setAttribute("aria-label",u.accessibleHint)),(u.accessibleTitle!==o.title||u.tabIndex!==o.tabIndex)&&(o.title=u.accessibleTitle,o.tabIndex=u.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},i.prototype.updateDebugHTML=function(r){r.innerHTML="type: "+r.type+"</br> title : "+r.title+"</br> tabIndex: "+r.tabIndex},i.prototype.capHitArea=function(r){r.x<0&&(r.width+=r.x,r.x=0),r.y<0&&(r.height+=r.y,r.y=0),r.x+r.width>this.renderer.width&&(r.width=this.renderer.width-r.x),r.y+r.height>this.renderer.height&&(r.height=this.renderer.height-r.y)},i.prototype.addChild=function(r){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=on+"px",e.style.height=on+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=gh.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=r.accessiblePointerEvents,e.type=r.accessibleType,r.accessibleTitle&&r.accessibleTitle!==null?e.title=r.accessibleTitle:(!r.accessibleHint||r.accessibleHint===null)&&(e.title="displayObject "+r.tabIndex),r.accessibleHint&&r.accessibleHint!==null&&e.setAttribute("aria-label",r.accessibleHint),this.debug&&this.updateDebugHTML(e),r._accessibleActive=!0,r._accessibleDiv=e,e.displayObject=r,this.children.push(r),this.div.appendChild(r._accessibleDiv),r._accessibleDiv.tabIndex=r.tabIndex},i.prototype._onClick=function(r){var e=this.renderer.plugins.interaction;e.dispatchEvent(r.target.displayObject,"click",e.eventData),e.dispatchEvent(r.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(r.target.displayObject,"tap",e.eventData)},i.prototype._onFocus=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(r.target.displayObject,"mouseover",e.eventData)},i.prototype._onFocusOut=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(r.target.displayObject,"mouseout",e.eventData)},i.prototype._onKeyDown=function(r){r.keyCode===Kp&&this.activate()},i.prototype._onMouseMove=function(r){r.movementX===0&&r.movementY===0||this.deactivate()},i.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},i}();/*!
 * @pixi/ticker - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ne.TARGET_FPMS=.06;var wt;(function(i){i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY"})(wt||(wt={}));var $a=function(){function i(r,e,t,n){e===void 0&&(e=null),t===void 0&&(t=0),n===void 0&&(n=!1),this.fn=r,this.context=e,this.priority=t,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}return i.prototype.match=function(r,e){return e===void 0&&(e=null),this.fn===r&&this.context===e},i.prototype.emit=function(r){this.fn&&(this.context?this.fn.call(this.context,r):this.fn(r));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},i.prototype.connect=function(r){this.previous=r,r.next&&(r.next.previous=this),this.next=r.next,r.next=this},i.prototype.destroy=function(r){r===void 0&&(r=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=r?null:e,this.previous=null,e},i}(),Le=function(){function i(){var r=this;this._head=new $a(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/ne.TARGET_FPMS,this.elapsedMS=1/ne.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){r._requestId=null,r.started&&(r.update(e),r.started&&r._requestId===null&&r._head.next&&(r._requestId=requestAnimationFrame(r._tick)))}}return i.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},i.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},i.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},i.prototype.add=function(r,e,t){return t===void 0&&(t=wt.NORMAL),this._addListener(new $a(r,e,t))},i.prototype.addOnce=function(r,e,t){return t===void 0&&(t=wt.NORMAL),this._addListener(new $a(r,e,t,!0))},i.prototype._addListener=function(r){var e=this._head.next,t=this._head;if(!e)r.connect(t);else{for(;e;){if(r.priority>e.priority){r.connect(t);break}t=e,e=e.next}r.previous||r.connect(t)}return this._startIfPossible(),this},i.prototype.remove=function(r,e){for(var t=this._head.next;t;)t.match(r,e)?t=t.destroy():t=t.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(i.prototype,"count",{get:function(){if(!this._head)return 0;for(var r=0,e=this._head;e=e.next;)r++;return r},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},i.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},i.prototype.destroy=function(){if(!this._protected){this.stop();for(var r=this._head.next;r;)r=r.destroy(!0);this._head.destroy(),this._head=null}},i.prototype.update=function(r){r===void 0&&(r=performance.now());var e;if(r>this.lastTime){if(e=this.elapsedMS=r-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var t=r-this._lastFrame|0;if(t<this._minElapsedMS)return;this._lastFrame=r-t%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*ne.TARGET_FPMS;for(var n=this._head,a=n.next;a;)a=a.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r},Object.defineProperty(i.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(r){var e=Math.min(this.maxFPS,r),t=Math.min(Math.max(0,e)/1e3,ne.TARGET_FPMS);this._maxElapsedMS=1/t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(r){if(r===0)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,r);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(i,"shared",{get:function(){if(!i._shared){var r=i._shared=new i;r.autoStart=!0,r._protected=!0}return i._shared},enumerable:!1,configurable:!0}),Object.defineProperty(i,"system",{get:function(){if(!i._system){var r=i._system=new i;r.autoStart=!0,r._protected=!0}return i._system},enumerable:!1,configurable:!0}),i}(),gf=function(){function i(){}return i.init=function(r){var e=this;r=Object.assign({autoStart:!0,sharedTicker:!1},r),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,wt.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=r.sharedTicker?Le.shared:new Le,r.autoStart&&this.start()},i.destroy=function(){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}},i}();/*!
 * @pixi/interaction - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Do=function(){function i(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Ne,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(i.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),i.prototype.getLocalPosition=function(r,e,t){return r.worldTransform.applyInverse(t||this.global,e)},i.prototype.copyEvent=function(r){"isPrimary"in r&&r.isPrimary&&(this.isPrimary=!0),this.button="button"in r&&r.button;var e="buttons"in r&&r.buttons;this.buttons=Number.isInteger(e)?e:"which"in r&&r.which,this.width="width"in r&&r.width,this.height="height"in r&&r.height,this.tiltX="tiltX"in r&&r.tiltX,this.tiltY="tiltY"in r&&r.tiltY,this.pointerType="pointerType"in r&&r.pointerType,this.pressure="pressure"in r&&r.pressure,this.rotationAngle="rotationAngle"in r&&r.rotationAngle,this.twist="twist"in r&&r.twist||0,this.tangentialPressure="tangentialPressure"in r&&r.tangentialPressure||0},i.prototype.reset=function(){this.isPrimary=!1},i}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ko=function(i,r){return Ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ko(i,r)};function kp(i,r){Ko(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Af=function(){function i(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return i.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},i.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},i}(),yn=function(){function i(r){this._pointerId=r,this._flags=i.FLAGS.NONE}return i.prototype._doSet=function(r,e){e?this._flags=this._flags|r:this._flags=this._flags&~r},Object.defineProperty(i.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"flags",{get:function(){return this._flags},set:function(r){this._flags=r},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"none",{get:function(){return this._flags===i.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"over",{get:function(){return(this._flags&i.FLAGS.OVER)!==0},set:function(r){this._doSet(i.FLAGS.OVER,r)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rightDown",{get:function(){return(this._flags&i.FLAGS.RIGHT_DOWN)!==0},set:function(r){this._doSet(i.FLAGS.RIGHT_DOWN,r)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"leftDown",{get:function(){return(this._flags&i.FLAGS.LEFT_DOWN)!==0},set:function(r){this._doSet(i.FLAGS.LEFT_DOWN,r)},enumerable:!1,configurable:!0}),i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),i}(),Vp=function(){function i(){this._tempPoint=new Ne}return i.prototype.recursiveFindHit=function(r,e,t,n,a){if(!e||!e.visible)return!1;var o=r.data.global;a=e.interactive||a;var s=!1,u=a,h=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,h=!1)),u=!1):e._mask&&n&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(n=!1)),h&&e.interactiveChildren&&e.children)for(var l=e.children,c=l.length-1;c>=0;c--){var f=l[c],p=this.recursiveFindHit(r,f,t,n,u);if(p){if(!f.parent)continue;u=!1,p&&(r.target&&(n=!1),s=!0)}}return a&&(n&&!r.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!r.target&&(r.target=e),t&&t(r,e,!!s))),s},i.prototype.findHit=function(r,e,t,n){this.recursiveFindHit(r,e,t,n,!1)},i}(),Sf={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(i){i?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};xe.mixin(Sf);var sn=1,un={target:null,data:{global:null}},Ns=function(i){kp(r,i);function r(e,t){var n=i.call(this)||this;return t=t||{},n.renderer=e,n.autoPreventDefault=t.autoPreventDefault!==void 0?t.autoPreventDefault:!0,n.interactionFrequency=t.interactionFrequency||10,n.mouse=new Do,n.mouse.identifier=sn,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[sn]=n.mouse,n.interactionDataPool=[],n.eventData=new Af,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.tickerAdded=!1,n.mouseOverRenderer=!1,n.supportsTouchEvents="ontouchstart"in window,n.supportsPointerEvents=!!window.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n.resolution=1,n.delayedEvents=[],n.search=new Vp,n._tempDisplayObject=new Ls,n._useSystemTicker=t.useSystemTicker!==void 0?t.useSystemTicker:!0,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}return Object.defineProperty(r.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),r.prototype.hitTest=function(e,t){return un.target=null,un.data.global=e,t||(t=this.lastObjectRendered),this.processInteractive(un,t,null,!0),un.target},r.prototype.setTargetElement=function(e,t){t===void 0&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},r.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Le.system.add(this.tickerUpdate,this,wt.INTERACTION),this.tickerAdded=!0)},r.prototype.removeTickerListener=function(){this.tickerAdded&&(Le.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},r.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},r.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},r.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},r.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&t.pointerType!=="touch"){var n=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},r.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch(typeof t){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t);break}else typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},r.prototype.dispatchEvent=function(e,t,n){(!n.stopPropagationHint||e===n.stopsPropagatingAt)&&(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))},r.prototype.delayDispatchEvent=function(e,t,n){this.delayedEvents.push({displayObject:e,eventString:t,eventData:n})},r.prototype.mapPositionToPoint=function(e,t,n){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:0,height:0};var o=1/this.resolution;e.x=(t-a.left)*(this.interactionDOMElement.width/a.width)*o,e.y=(n-a.top)*(this.interactionDOMElement.height/a.height)*o},r.prototype.processInteractive=function(e,t,n,a){var o=this.search.findHit(e,t,n,a),s=this.delayedEvents;if(!s.length)return o;e.stopPropagationHint=!1;var u=s.length;this.delayedEvents=[];for(var h=0;h<u;h++){var l=s[h],c=l.displayObject,f=l.eventString,p=l.eventData;p.stopsPropagatingAt===c&&(p.stopPropagationHint=!0),this.dispatchEvent(c,f,p)}return o},r.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized){var n=e.cancelable||!("cancelable"in e);n&&e.preventDefault()}for(var a=t.length,o=0;o<a;o++){var s=t[o],u=this.getInteractionDataForPointerId(s),h=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(h.data.originalEvent=e,this.processInteractive(h,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",h),s.pointerType==="touch")this.emit("touchstart",h);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var l=s.button===2;this.emit(l?"rightdown":"mousedown",this.eventData)}}}},r.prototype.processPointerDown=function(e,t,n){var a=e.data,o=e.data.identifier;if(n){if(t.trackedPointers[o]||(t.trackedPointers[o]=new yn(o)),this.dispatchEvent(t,"pointerdown",e),a.pointerType==="touch")this.dispatchEvent(t,"touchstart",e);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?t.trackedPointers[o].rightDown=!0:t.trackedPointers[o].leftDown=!0,this.dispatchEvent(t,s?"rightdown":"mousedown",e)}}},r.prototype.onPointerComplete=function(e,t,n){for(var a=this.normalizeToPointerData(e),o=a.length,s=e.target!==this.interactionDOMElement?"outside":"",u=0;u<o;u++){var h=a[u],l=this.getInteractionDataForPointerId(h),c=this.configureInteractionEventForDOMEvent(this.eventData,h,l);if(c.data.originalEvent=e,this.processInteractive(c,this.lastObjectRendered,n,t||!s),this.emit(t?"pointercancel":"pointerup"+s,c),h.pointerType==="mouse"||h.pointerType==="pen"){var f=h.button===2;this.emit(f?"rightup"+s:"mouseup"+s,c)}else h.pointerType==="touch"&&(this.emit(t?"touchcancel":"touchend"+s,c),this.releaseInteractionDataForPointerId(h.pointerId))}},r.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!0,this.processPointerCancel)},r.prototype.processPointerCancel=function(e,t){var n=e.data,a=e.data.identifier;t.trackedPointers[a]!==void 0&&(delete t.trackedPointers[a],this.dispatchEvent(t,"pointercancel",e),n.pointerType==="touch"&&this.dispatchEvent(t,"touchcancel",e))},r.prototype.onPointerUp=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!1,this.processPointerUp)},r.prototype.processPointerUp=function(e,t,n){var a=e.data,o=e.data.identifier,s=t.trackedPointers[o],u=a.pointerType==="touch",h=a.pointerType==="mouse"||a.pointerType==="pen",l=!1;if(h){var c=a.button===2,f=yn.FLAGS,p=c?f.RIGHT_DOWN:f.LEFT_DOWN,v=s!==void 0&&s.flags&p;n?(this.dispatchEvent(t,c?"rightup":"mouseup",e),v&&(this.dispatchEvent(t,c?"rightclick":"click",e),l=!0)):v&&this.dispatchEvent(t,c?"rightupoutside":"mouseupoutside",e),s&&(c?s.rightDown=!1:s.leftDown=!1)}n?(this.dispatchEvent(t,"pointerup",e),u&&this.dispatchEvent(t,"touchend",e),s&&((!h||l)&&this.dispatchEvent(t,"pointertap",e),u&&(this.dispatchEvent(t,"tap",e),s.over=!1))):s&&(this.dispatchEvent(t,"pointerupoutside",e),u&&this.dispatchEvent(t,"touchendoutside",e)),s&&s.none&&delete t.trackedPointers[o]},r.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var t=this.normalizeToPointerData(e);(t[0].pointerType==="mouse"||t[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var n=t.length,a=0;a<n;a++){var o=t[a],s=this.getInteractionDataForPointerId(o),u=this.configureInteractionEventForDOMEvent(this.eventData,o,s);u.data.originalEvent=e,this.processInteractive(u,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",u),o.pointerType==="touch"&&this.emit("touchmove",u),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",u)}t[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},r.prototype.processPointerMove=function(e,t,n){var a=e.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(e,t,n),(!this.moveWhenInside||n)&&(this.dispatchEvent(t,"pointermove",e),o&&this.dispatchEvent(t,"touchmove",e),s&&this.dispatchEvent(t,"mousemove",e))},r.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var t=this.normalizeToPointerData(e),n=t[0];n.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,a);o.data.originalEvent=n,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),n.pointerType==="mouse"||n.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},r.prototype.processPointerOverOut=function(e,t,n){var a=e.data,o=e.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",u=t.trackedPointers[o];n&&!u&&(u=t.trackedPointers[o]=new yn(o)),u!==void 0&&(n&&this.mouseOverRenderer?(u.over||(u.over=!0,this.delayDispatchEvent(t,"pointerover",e),s&&this.delayDispatchEvent(t,"mouseover",e)),s&&this.cursor===null&&(this.cursor=t.cursor)):u.over&&(u.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),s&&this.dispatchEvent(t,"mouseout",e),u.none&&delete t.trackedPointers[o]))},r.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e),n=t[0],a=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,a);o.data.originalEvent=n,n.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(n.pointerType==="mouse"||n.pointerType==="pen")&&this.emit("mouseover",o)},r.prototype.getInteractionDataForPointerId=function(e){var t=e.pointerId,n;return t===sn||e.pointerType==="mouse"?n=this.mouse:this.activeInteractionData[t]?n=this.activeInteractionData[t]:(n=this.interactionDataPool.pop()||new Do,n.identifier=t,this.activeInteractionData[t]=n),n.copyEvent(e),n},r.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},r.prototype.configureInteractionEventForDOMEvent=function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),t.pointerType==="touch"&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e.reset(),e},r.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,a=e.changedTouches.length;n<a;n++){var o=e.changedTouches[n];typeof o.button>"u"&&(o.button=e.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=e.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,t.push(o)}else if(e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof window.PointerEvent))){var s=e;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=sn),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,t.push(s)}else t.push(e);return t},r.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},r}(ri);/*!
 * @pixi/runner - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var De=function(){function i(r){this.items=[],this._name=r,this._aliasCount=0}return i.prototype.emit=function(r,e,t,n,a,o,s,u){if(arguments.length>8)throw new Error("max arguments reached");var h=this,l=h.name,c=h.items;this._aliasCount++;for(var f=0,p=c.length;f<p;f++)c[f][l](r,e,t,n,a,o,s,u);return c===this.items&&this._aliasCount--,this},i.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},i.prototype.add=function(r){return r[this._name]&&(this.ensureNonAliasedItems(),this.remove(r),this.items.push(r)),this},i.prototype.remove=function(r){var e=this.items.indexOf(r);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},i.prototype.contains=function(r){return this.items.indexOf(r)!==-1},i.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},i.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(i.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),i}();Object.defineProperties(De.prototype,{dispatch:{value:De.prototype.emit},run:{value:De.prototype.emit}});/*!
 * @pixi/core - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ne.PREFER_ENV=st.any?Lt.WEBGL:Lt.WEBGL2;ne.STRICT_TEXTURE_CACHE=!1;var On=[];function Cs(i,r){if(!i)return null;var e="";if(typeof i=="string"){var t=/\.(\w{3,4})(?:$|\?|#)/i.exec(i);t&&(e=t[1].toLowerCase())}for(var n=On.length-1;n>=0;--n){var a=On[n];if(a.test&&a.test(i,e))return new a(i,r)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Uo=function(i,r){return Uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Uo(i,r)};function le(i,r){Uo(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Jr=function(){function i(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this._width=r,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new De("setRealSize"),this.onUpdate=new De("update"),this.onError=new De("onError")}return i.prototype.bind=function(r){this.onResize.add(r),this.onUpdate.add(r),this.onError.add(r),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},i.prototype.unbind=function(r){this.onResize.remove(r),this.onUpdate.remove(r),this.onError.remove(r)},i.prototype.resize=function(r,e){(r!==this._width||e!==this._height)&&(this._width=r,this._height=e,this.onResize.emit(r,e))},Object.defineProperty(i.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),i.prototype.update=function(){this.destroyed||this.onUpdate.emit()},i.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),i.prototype.style=function(r,e,t){return!1},i.prototype.dispose=function(){},i.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},i.test=function(r,e){return!1},i}(),Bn=function(i){le(r,i);function r(e,t){var n=this,a=t||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return n=i.call(this,o,s)||this,n.data=e,n}return r.prototype.upload=function(e,t,n){var a=e.gl;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Ht.UNPACK),n.width===t.width&&n.height===t.height?a.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(n.width=t.width,n.height=t.height,a.texImage2D(t.target,0,n.internalFormat,t.width,t.height,0,t.format,n.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},r}(Jr),Xp={scaleMode:ut.NEAREST,format:Wr.RGBA,alphaMode:Ht.NPM},Ae=function(i){le(r,i);function r(e,t){e===void 0&&(e=null),t===void 0&&(t=null);var n=i.call(this)||this;t=t||{};var a=t.alphaMode,o=t.mipmap,s=t.anisotropicLevel,u=t.scaleMode,h=t.width,l=t.height,c=t.wrapMode,f=t.format,p=t.type,v=t.target,g=t.resolution,A=t.resourceOptions;return e&&!(e instanceof Jr)&&(e=Cs(e,A),e.internal=!0),n.width=h||0,n.height=l||0,n.resolution=g||ne.RESOLUTION,n.mipmap=o!==void 0?o:ne.MIPMAP_TEXTURES,n.anisotropicLevel=s!==void 0?s:ne.ANISOTROPIC_LEVEL,n.wrapMode=c||ne.WRAP_MODE,n.scaleMode=u!==void 0?u:ne.SCALE_MODE,n.format=f||Wr.RGBA,n.type=p||Re.UNSIGNED_BYTE,n.target=v||ir.TEXTURE_2D,n.alphaMode=a!==void 0?a:Ht.UNPACK,t.premultiplyAlpha!==void 0&&(n.premultiplyAlpha=t.premultiplyAlpha),n.uid=Pr(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=h>0&&l>0,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(e),n}return Object.defineProperty(r.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),r.prototype.setStyle=function(e,t){var n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this},r.prototype.setSize=function(e,t,n){return this.resolution=n||this.resolution,this.width=e,this.height=t,this._refreshPOT(),this.update(),this},r.prototype.setRealSize=function(e,t,n){return this.resolution=n||this.resolution,this.width=e/this.resolution,this.height=t/this.resolution,this._refreshPOT(),this.update(),this},r.prototype._refreshPOT=function(){this.isPowerOfTwo=Lo(this.realWidth)&&Lo(this.realHeight)},r.prototype.setResolution=function(e){var t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=this.width*t/e,this.height=this.height*t/e,this.emit("update",this)),this._refreshPOT(),this)},r.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},r.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},r.prototype.onError=function(e){this.emit("error",this,e)},r.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ot[this.cacheId],delete Ye[this.cacheId],this.cacheId=null),this.dispose(),r.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.castToBaseTexture=function(){return this},r.from=function(e,t,n){n===void 0&&(n=ne.STRICT_TEXTURE_CACHE);var a=typeof e=="string",o=null;a?o=e:(e._pixiId||(e._pixiId="pixiid_"+Pr()),o=e._pixiId);var s=ot[o];if(a&&n&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||(s=new r(e,t),s.cacheId=o,r.addToCache(s,o)),s},r.fromBuffer=function(e,t,n,a){e=e||new Float32Array(t*n*4);var o=new Bn(e,{width:t,height:n}),s=e instanceof Float32Array?Re.FLOAT:Re.UNSIGNED_BYTE;return new r(o,Object.assign(Xp,a||{width:t,height:n,type:s}))},r.addToCache=function(e,t){t&&(e.textureCacheIds.indexOf(t)===-1&&e.textureCacheIds.push(t),ot[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),ot[t]=e)},r.removeFromCache=function(e){if(typeof e=="string"){var t=ot[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete ot[e],t}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)delete ot[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},r._globalBatch=0,r}(ri),Ms=function(i){le(r,i);function r(e,t){var n=this,a=t||{},o=a.width,s=a.height;n=i.call(this,o,s)||this,n.items=[],n.itemDirtyIds=[];for(var u=0;u<e;u++){var h=new Ae;n.items.push(h),n.itemDirtyIds.push(-2)}return n.length=e,n._load=null,n.baseTexture=null,n}return r.prototype.initFromArray=function(e,t){for(var n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Jr?this.addResourceAt(e[n],n):this.addResourceAt(Cs(e[n],t),n))},r.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},r.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},r.prototype.bind=function(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");i.prototype.bind.call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)},r.prototype.unbind=function(e){i.prototype.unbind.call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)},r.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map(function(a){return a.resource}).filter(function(a){return a}),n=t.map(function(a){return a.load()});return this._load=Promise.all(n).then(function(){var a=e.items[0],o=a.realWidth,s=a.realHeight;return e.resize(o,s),Promise.resolve(e)}),this._load},r}(Jr),yf=function(i){le(r,i);function r(e,t){var n=this,a=t||{},o=a.width,s=a.height,u,h;return Array.isArray(e)?(u=e,h=e.length):h=e,n=i.call(this,h,{width:o,height:s})||this,u&&n.initFromArray(u,t),n}return r.prototype.addBaseTextureAt=function(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this},r.prototype.bind=function(e){i.prototype.bind.call(this,e),e.target=ir.TEXTURE_2D_ARRAY},r.prototype.upload=function(e,t,n){var a=this,o=a.length,s=a.itemDirtyIds,u=a.items,h=e.gl;n.dirtyId<0&&h.texImage3D(h.TEXTURE_2D_ARRAY,0,t.format,this._width,this._height,o,0,t.format,t.type,null);for(var l=0;l<o;l++){var c=u[l];s[l]<c.dirtyId&&(s[l]=c.dirtyId,c.valid&&h.texSubImage3D(h.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,t.format,t.type,c.resource.source))}return!0},r}(Ms),Vt=function(i){le(r,i);function r(e){var t=this,n=e,a=n.naturalWidth||n.videoWidth||n.width,o=n.naturalHeight||n.videoHeight||n.height;return t=i.call(this,a,o)||this,t.source=e,t.noSubImage=!1,t}return r.crossOrigin=function(e,t,n){n===void 0&&t.indexOf("data:")!==0?e.crossOrigin=uf(t):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")},r.prototype.upload=function(e,t,n,a){var o=e.gl,s=t.realWidth,u=t.realHeight;return a=a||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Ht.UNPACK),!this.noSubImage&&t.target===o.TEXTURE_2D&&n.width===s&&n.height===u?o.texSubImage2D(o.TEXTURE_2D,0,0,0,t.format,t.type,a):(n.width=s,n.height=u,o.texImage2D(t.target,0,t.format,t.format,t.type,a)),!0},r.prototype.update=function(){if(!this.destroyed){var e=this.source,t=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(t,n),i.prototype.update.call(this)}},r.prototype.dispose=function(){this.source=null},r}(Jr),Ds=function(i){le(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.test=function(e){var t=window.OffscreenCanvas;return t&&e instanceof t?!0:e instanceof HTMLCanvasElement},r}(Vt),mf=function(i){le(r,i);function r(e,t){var n=this,a=t||{},o=a.width,s=a.height,u=a.autoLoad,h=a.linkBaseTexture;if(e&&e.length!==r.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");n=i.call(this,6,{width:o,height:s})||this;for(var l=0;l<r.SIDES;l++)n.items[l].target=ir.TEXTURE_CUBE_MAP_POSITIVE_X+l;return n.linkBaseTexture=h!==!1,e&&n.initFromArray(e,t),u!==!1&&n.load(),n}return r.prototype.bind=function(e){i.prototype.bind.call(this,e),e.target=ir.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(e,t,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[t])throw new Error("Index "+t+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=ir.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},r.prototype.upload=function(e,t,n){for(var a=this.itemDirtyIds,o=0;o<r.SIDES;o++){var s=this.items[o];a[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(e,s,n),a[o]=s.dirtyId):a[o]<-1&&(e.gl.texImage2D(s.target,0,n.internalFormat,t.realWidth,t.realHeight,0,t.format,n.type,null),a[o]=-1))}return!0},r.test=function(e){return Array.isArray(e)&&e.length===r.SIDES},r.SIDES=6,r}(Ms),Ks=function(i){le(r,i);function r(e,t){var n=this;if(t=t||{},!(e instanceof HTMLImageElement)){var a=new Image;Vt.crossOrigin(a,e,t.crossorigin),a.src=e,e=a}return n=i.call(this,e)||this,!e.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=e.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(t.createBitmap!==void 0?t.createBitmap:ne.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,n.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,t.premultiplyAlpha!==void 0&&(n.premultiplyAlpha=t.premultiplyAlpha),n.bitmap=null,n._load=null,t.autoLoad!==!1&&n.load(),n}return r.prototype.load=function(e){var t=this;return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise(function(n,a){var o=t.source;t.url=o.src;var s=function(){t.destroyed||(o.onload=null,o.onerror=null,t.resize(o.width,o.height),t._load=null,t.createBitmap?n(t.process()):n(t))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(u){a(u),t.onError.emit(u)})}),this._load)},r.prototype.process=function(){var e=this,t=this.source;return this._process!==null?this._process:this.bitmap!==null||!window.createImageBitmap?Promise.resolve(this):(this._process=window.createImageBitmap(t,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===Ht.UNPACK?"premultiply":"none"}).then(function(n){return e.destroyed?Promise.reject():(e.bitmap=n,e.update(),e._process=null,Promise.resolve(e))}),this._process)},r.prototype.upload=function(e,t,n){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return i.prototype.upload.call(this,e,t,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(i.prototype.upload.call(this,e,t,n,this.bitmap),!this.preserveBitmap){var a=!0,o=t._glTextures;for(var s in o){var u=o[s];if(u!==n&&u.dirtyId!==t.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,i.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(e){return typeof e=="string"||e instanceof HTMLImageElement},r}(Vt),If=function(i){le(r,i);function r(e,t){var n=this;return t=t||{},n=i.call(this,document.createElement("canvas"))||this,n._width=0,n._height=0,n.svg=e,n.scale=t.scale||1,n._overrideWidth=t.width,n._overrideHeight=t.height,n._resolve=null,n._crossorigin=t.crossorigin,n._load=null,t.autoLoad!==!1&&n.load(),n}return r.prototype.load=function(){var e=this;return this._load?this._load:(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},r.prototype._loadSvg=function(){var e=this,t=new Image;Vt.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(n){e._resolve&&(t.onerror=null,e.onError.emit(n))},t.onload=function(){if(e._resolve){var n=t.width,a=t.height;if(!n||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=n*e.scale,s=a*e.scale;(e._overrideWidth||e._overrideHeight)&&(o=e._overrideWidth||e._overrideHeight/a*n,s=e._overrideHeight||e._overrideWidth/n*a),o=Math.round(o),s=Math.round(s);var u=e.source;u.width=o,u.height=s,u._pixiId="canvas_"+Pr(),u.getContext("2d").drawImage(t,0,0,n,a,0,0,o,s),e._resolve(),e._resolve=null}}},r.getSize=function(e){var t=r.SVG_SIZE.exec(e),n={};return t&&(n[t[1]]=Math.round(parseFloat(t[3])),n[t[5]]=Math.round(parseFloat(t[7]))),n},r.prototype.dispose=function(){i.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},r.test=function(e,t){return t==="svg"||typeof e=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||typeof e=="string"&&e.indexOf("<svg")===0},r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r}(Vt),Ef=function(i){le(r,i);function r(e,t){var n=this;if(t=t||{},!(e instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof e=="string"&&(e=[e]);var o=e[0].src||e[0];Vt.crossOrigin(a,o,t.crossorigin);for(var s=0;s<e.length;++s){var u=document.createElement("source"),h=e[s],l=h.src,c=h.mime;l=l||e[s];var f=l.split("?").shift().toLowerCase(),p=f.substr(f.lastIndexOf(".")+1);c=c||r.MIME_TYPES[p]||"video/"+p,u.src=l,u.type=c,a.appendChild(u)}e=a}return n=i.call(this,e)||this,n.noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=t.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=t.autoPlay!==!1,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),t.autoLoad!==!1&&n.load(),n}return r.prototype.update=function(e){if(!this.destroyed){var t=Le.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t),(!this._updateFPS||this._msToNextUpdate<=0)&&(i.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},r.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(function(n){e.valid?n(e):(e._resolve=n,t.load())}),this._load},r.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},r.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&e.paused===!1&&e.ended===!1&&e.readyState>2},r.prototype._isSourceReady=function(){var e=this.source;return e.readyState===3||e.readyState===4},r.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Le.shared.add(this.update,this),this._isConnectedToTicker=!0)},r.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Le.shared.remove(this.update,this),this._isConnectedToTicker=!1)},r.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},r.prototype.dispose=function(){this._isConnectedToTicker&&Le.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),i.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Le.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Le.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),r.test=function(e,t){return e instanceof HTMLVideoElement||r.TYPES.indexOf(t)>-1},r.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],r.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},r}(Vt),Tf=function(i){le(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},r}(Vt);On.push(Ks,Tf,Ds,Ef,If,Bn,mf,yf);var _f={Resource:Jr,BaseImageResource:Vt,INSTALLED:On,autoDetectResource:Cs,AbstractMultiResource:Ms,ArrayResource:yf,BufferResource:Bn,CanvasResource:Ds,CubeResource:mf,ImageResource:Ks,SVGResource:If,VideoResource:Ef,ImageBitmapResource:Tf},qe=function(){function i(r){this.renderer=r}return i.prototype.destroy=function(){this.renderer=null},i}(),jp=function(i){le(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.upload=function(e,t,n){var a=e.gl;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Ht.UNPACK),n.width===t.width&&n.height===t.height?a.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(n.width=t.width,n.height=t.height,a.texImage2D(t.target,0,e.context.webGLVersion===1?a.DEPTH_COMPONENT:a.DEPTH_COMPONENT16,t.width,t.height,0,t.format,t.type,this.data)),!0},r}(Bn),xn=function(){function i(r,e){this.width=Math.ceil(r||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new De("disposeFramebuffer"),this.multisample=br.NONE}return Object.defineProperty(i.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),i.prototype.addColorTexture=function(r,e){return r===void 0&&(r=0),this.colorTextures[r]=e||new Ae(null,{scaleMode:ut.NEAREST,resolution:1,mipmap:Yr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},i.prototype.addDepthTexture=function(r){return this.depthTexture=r||new Ae(new jp(null,{width:this.width,height:this.height}),{scaleMode:ut.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Yr.OFF,format:Wr.DEPTH_COMPONENT,type:Re.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},i.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},i.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},i.prototype.resize=function(r,e){if(r=Math.ceil(r),e=Math.ceil(e),!(r===this.width&&e===this.height)){this.width=r,this.height=e,this.dirtyId++,this.dirtySize++;for(var t=0;t<this.colorTextures.length;t++){var n=this.colorTextures[t],a=n.resolution;n.setSize(r/a,e/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(r/a,e/a)}}},i.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},i.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},i}(),Vr=function(i){le(r,i);function r(e){var t=this;if(typeof e=="number"){var n=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];e={width:n,height:a,scaleMode:o,resolution:s}}t=i.call(this,null,e)||this;var u=e||{},h=u.width,l=u.height;return t.mipmap=0,t.width=Math.ceil(h)||100,t.height=Math.ceil(l)||100,t.valid=!0,t.clearColor=[0,0,0,0],t.framebuffer=new xn(t.width*t.resolution,t.height*t.resolution).addColorTexture(0,t),t.maskStack=[],t.filterStack=[{}],t}return r.prototype.resize=function(e,t){e=Math.ceil(e),t=Math.ceil(t),this.framebuffer.resize(e*this.resolution,t*this.resolution)},r.prototype.dispose=function(){this.framebuffer.dispose(),i.prototype.dispose.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},r}(Ae),Us=function(){function i(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return i.prototype.set=function(r,e,t){var n=e.width,a=e.height;if(t){var o=r.width/2/n,s=r.height/2/a,u=r.x/n+o,h=r.y/a+s;t=Se.add(t,Se.NW),this.x0=u+o*Se.uX(t),this.y0=h+s*Se.uY(t),t=Se.add(t,2),this.x1=u+o*Se.uX(t),this.y1=h+s*Se.uY(t),t=Se.add(t,2),this.x2=u+o*Se.uX(t),this.y2=h+s*Se.uY(t),t=Se.add(t,2),this.x3=u+o*Se.uX(t),this.y3=h+s*Se.uY(t)}else this.x0=r.x/n,this.y0=r.y/a,this.x1=(r.x+r.width)/n,this.y1=r.y/a,this.x2=(r.x+r.width)/n,this.y2=(r.y+r.height)/a,this.x3=r.x/n,this.y3=(r.y+r.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},i}(),Sh=new Us,se=function(i){le(r,i);function r(e,t,n,a,o,s){var u=i.call(this)||this;if(u.noFrame=!1,t||(u.noFrame=!0,t=new pe(0,0,1,1)),e instanceof r&&(e=e.baseTexture),u.baseTexture=e,u._frame=t,u.trim=a,u.valid=!1,u._uvs=Sh,u.uvMatrix=null,u.orig=n||t,u._rotate=Number(o||0),o===!0)u._rotate=2;else if(u._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=s?new Ne(s.x,s.y):new Ne(0,0),u._updateID=0,u.textureCacheIds=[],e.valid?u.noFrame?e.valid&&u.onBaseTextureUpdated(e):u.frame=t:e.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&e.on("update",u.onBaseTextureUpdated,u),u}return r.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},r.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},r.prototype.destroy=function(e){if(this.baseTexture){if(e){var t=this.baseTexture;t&&t.url&&Ye[t.url]&&r.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,r.removeFromCache(this),this.textureCacheIds=null},r.prototype.clone=function(){return new r(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},r.prototype.updateUvs=function(){this._uvs===Sh&&(this._uvs=new Us),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},r.from=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n=ne.STRICT_TEXTURE_CACHE);var a=typeof e=="string",o=null;a?o=e:(e._pixiId||(e._pixiId="pixiid_"+Pr()),o=e._pixiId);var s=Ye[o];if(a&&n&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(t.resolution||(t.resolution=Mi(e)),s=new r(new Ae(e,t)),s.baseTexture.cacheId=o,Ae.addToCache(s.baseTexture,o),r.addToCache(s,o)),s},r.fromURL=function(e,t){var n=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),a=r.from(e,Object.assign({resourceOptions:n},t),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},r.fromBuffer=function(e,t,n,a){return new r(Ae.fromBuffer(e,t,n,a))},r.fromLoader=function(e,t,n){var a=new Ks(e);a.url=t;var o=new Ae(a,{scaleMode:ne.SCALE_MODE,resolution:Mi(t)}),s=new r(o);return n||(n=t),Ae.addToCache(s.baseTexture,n),r.addToCache(s,n),n!==t&&(Ae.addToCache(s.baseTexture,t),r.addToCache(s,t)),s},r.addToCache=function(e,t){t&&(e.textureCacheIds.indexOf(t)===-1&&e.textureCacheIds.push(t),Ye[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),Ye[t]=e)},r.removeFromCache=function(e){if(typeof e=="string"){var t=Ye[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete Ye[e],t}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)Ye[e.textureCacheIds[a]]===e&&delete Ye[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(r.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,a=e.width,o=e.height,s=t+a>this.baseTexture.width,u=n+o>this.baseTexture.height;if(s||u){var h=s&&u?"and":"or",l="X: "+t+" + "+a+" = "+(t+a)+" > "+this.baseTexture.width,c="Y: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(l+" "+h+" "+c))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),r.prototype.castToBaseTexture=function(){return this.baseTexture},r}(ri);function zp(){var i=document.createElement("canvas");i.width=16,i.height=16;var r=i.getContext("2d");return r.fillStyle="white",r.fillRect(0,0,16,16),new se(new Ae(new Ds(i)))}function Gn(i){i.destroy=function(){},i.on=function(){},i.once=function(){},i.emit=function(){}}se.EMPTY=new se(new Ae);Gn(se.EMPTY);Gn(se.EMPTY.baseTexture);se.WHITE=zp();Gn(se.WHITE);Gn(se.WHITE.baseTexture);var Nt=function(i){le(r,i);function r(e,t){var n=this,a=null;if(!(e instanceof Vr)){var o=arguments[1],s=arguments[2],u=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),a=arguments[0],t=null,e=new Vr({width:o,height:s,scaleMode:u,resolution:h})}return n=i.call(this,e,t)||this,n.legacyRenderer=a,n.valid=!0,n.filterFrame=null,n.filterPoolKey=null,n.updateUvs(),n}return Object.defineProperty(r.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,t,n){n===void 0&&(n=!0),e=Math.ceil(e),t=Math.ceil(t),this.valid=e>0&&t>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,n&&this.baseTexture.resize(e,t),this.updateUvs()},r.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},r.create=function(e){return typeof e=="number"&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new r(new Vr(e))},r}(se),Of=function(){function i(r){this.texturePool={},this.textureOptions=r||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return i.prototype.createTexture=function(r,e){var t=new Vr(Object.assign({width:r,height:e,resolution:1},this.textureOptions));return new Nt(t)},i.prototype.getOptimalTexture=function(r,e,t){t===void 0&&(t=1);var n=i.SCREEN_KEY;r*=t,e*=t,(!this.enableFullScreen||r!==this._pixelsWidth||e!==this._pixelsHeight)&&(r=Ci(r),e=Ci(e),n=(r&65535)<<16|e&65535),this.texturePool[n]||(this.texturePool[n]=[]);var a=this.texturePool[n].pop();return a||(a=this.createTexture(r,e)),a.filterPoolKey=n,a.setResolution(t),a},i.prototype.getFilterTexture=function(r,e){var t=this.getOptimalTexture(r.width,r.height,e||r.resolution);return t.filterFrame=r.filterFrame,t},i.prototype.returnTexture=function(r){var e=r.filterPoolKey;r.filterFrame=null,this.texturePool[e].push(r)},i.prototype.returnFilterTexture=function(r){this.returnTexture(r)},i.prototype.clear=function(r){if(r=r!==!1,r)for(var e in this.texturePool){var t=this.texturePool[e];if(t)for(var n=0;n<t.length;n++)t[n].destroy(!0)}this.texturePool={}},i.prototype.setScreenSize=function(r){if(!(r.width===this._pixelsWidth&&r.height===this._pixelsHeight)){var e=i.SCREEN_KEY,t=this.texturePool[e];if(this.enableFullScreen=r.width>0&&r.height>0,t)for(var n=0;n<t.length;n++)t[n].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=r.width,this._pixelsHeight=r.height}},i.SCREEN_KEY="screen",i}(),Fo=function(){function i(r,e,t,n,a,o,s){e===void 0&&(e=0),t===void 0&&(t=!1),n===void 0&&(n=5126),this.buffer=r,this.size=e,this.normalized=t,this.type=n,this.stride=a,this.start=o,this.instance=s}return i.prototype.destroy=function(){this.buffer=null},i.from=function(r,e,t,n,a){return new i(r,e,t,n,a)},i}(),Wp=0,Pe=function(){function i(r,e,t){e===void 0&&(e=!0),t===void 0&&(t=!1),this.data=r||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=t,this.static=e,this.id=Wp++,this.disposeRunner=new De("disposeBuffer")}return i.prototype.update=function(r){this.data=r||this.data,this._updateID++},i.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},i.prototype.destroy=function(){this.dispose(),this.data=null},i.from=function(r){return r instanceof Array&&(r=new Float32Array(r)),new i(r)},i}();function xf(i){if(i.BYTES_PER_ELEMENT===4)return i instanceof Float32Array?"Float32Array":i instanceof Uint32Array?"Uint32Array":"Int32Array";if(i.BYTES_PER_ELEMENT===2){if(i instanceof Uint16Array)return"Uint16Array"}else if(i.BYTES_PER_ELEMENT===1&&i instanceof Uint8Array)return"Uint8Array";return null}var Yp={Float32Array,Uint32Array,Int32Array,Uint8Array};function qp(i,r){for(var e=0,t=0,n={},a=0;a<i.length;a++)t+=r[a],e+=i[a].length;for(var o=new ArrayBuffer(e*4),s=null,u=0,a=0;a<i.length;a++){var h=r[a],l=i[a],c=xf(l);n[c]||(n[c]=new Yp[c](o)),s=n[c];for(var f=0;f<l.length;f++){var p=(f/h|0)*t+u,v=f%h;s[p+v]=l[f]}u+=h}return new Float32Array(o)}var yh={5126:4,5123:2,5121:1},$p=0,Jp={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},ni=function(){function i(r,e){r===void 0&&(r=[]),e===void 0&&(e={}),this.buffers=r,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=$p++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new De("disposeGeometry"),this.refCount=0}return i.prototype.addAttribute=function(r,e,t,n,a,o,s,u){if(t===void 0&&(t=0),n===void 0&&(n=!1),u===void 0&&(u=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Pe||(e instanceof Array&&(e=new Float32Array(e)),e=new Pe(e));var h=r.split("|");if(h.length>1){for(var l=0;l<h.length;l++)this.addAttribute(h[l],e,t,n,a);return this}var c=this.buffers.indexOf(e);return c===-1&&(this.buffers.push(e),c=this.buffers.length-1),this.attributes[r]=new Fo(c,t,n,a,o,s,u),this.instanced=this.instanced||u,this},i.prototype.getAttribute=function(r){return this.attributes[r]},i.prototype.getBuffer=function(r){return this.buffers[this.getAttribute(r).buffer]},i.prototype.addIndex=function(r){return r instanceof Pe||(r instanceof Array&&(r=new Uint16Array(r)),r=new Pe(r)),r.index=!0,this.indexBuffer=r,this.buffers.indexOf(r)===-1&&this.buffers.push(r),this},i.prototype.getIndex=function(){return this.indexBuffer},i.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var r=[],e=[],t=new Pe,n;for(n in this.attributes){var a=this.attributes[n],o=this.buffers[a.buffer];r.push(o.data),e.push(a.size*yh[a.type]/4),a.buffer=0}for(t.data=qp(r,e),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[t],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},i.prototype.getSize=function(){for(var r in this.attributes){var e=this.attributes[r],t=this.buffers[e.buffer];return t.data.length/(e.stride/4||e.size)}return 0},i.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},i.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},i.prototype.clone=function(){for(var r=new i,e=0;e<this.buffers.length;e++)r.buffers[e]=new Pe(this.buffers[e].data.slice(0));for(var e in this.attributes){var t=this.attributes[e];r.attributes[e]=new Fo(t.buffer,t.size,t.normalized,t.type,t.stride,t.start,t.instance)}return this.indexBuffer&&(r.indexBuffer=r.buffers[this.buffers.indexOf(this.indexBuffer)],r.indexBuffer.index=!0),r},i.merge=function(r){for(var e=new i,t=[],n=[],a=[],o,s=0;s<r.length;s++){o=r[s];for(var u=0;u<o.buffers.length;u++)n[u]=n[u]||0,n[u]+=o.buffers[u].data.length,a[u]=0}for(var s=0;s<o.buffers.length;s++)t[s]=new Jp[xf(o.buffers[s].data)](n[s]),e.buffers[s]=new Pe(t[s]);for(var s=0;s<r.length;s++){o=r[s];for(var u=0;u<o.buffers.length;u++)t[u].set(o.buffers[u].data,a[u]),a[u]+=o.buffers[u].data.length}if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.index=!0;for(var h=0,l=0,c=0,f=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){f=s;break}for(var s in o.attributes){var p=o.attributes[s];(p.buffer|0)===f&&(l+=p.size*yh[p.type]/4)}for(var s=0;s<r.length;s++){for(var v=r[s].indexBuffer.data,u=0;u<v.length;u++)e.indexBuffer.data[u+c]+=h;h+=o.buffers[f].data.length/l,c+=v.length}}return e},i}(),Rf=function(i){le(r,i);function r(){var e=i.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return r}(ni),Fs=function(i){le(r,i);function r(){var e=i.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Pe(e.vertices),e.uvBuffer=new Pe(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return r.prototype.map=function(e,t){var n=0,a=0;return this.uvs[0]=n,this.uvs[1]=a,this.uvs[2]=n+t.width/e.width,this.uvs[3]=a,this.uvs[4]=n+t.width/e.width,this.uvs[5]=a+t.height/e.height,this.uvs[6]=n,this.uvs[7]=a+t.height/e.height,n=t.x,a=t.y,this.vertices[0]=n,this.vertices[1]=a,this.vertices[2]=n+t.width,this.vertices[3]=a,this.vertices[4]=n+t.width,this.vertices[5]=a+t.height,this.vertices[6]=n,this.vertices[7]=a+t.height,this.invalidate(),this},r.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},r}(ni),Zp=0,nr=function(){function i(r,e){this.uniforms=r,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Zp++,this.static=!!e}return i.prototype.update=function(){this.dirtyId++},i.prototype.add=function(r,e,t){this.uniforms[r]=new i(e,t)},i.from=function(r,e){return new i(r,e)},i}(),bf=function(){function i(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new pe,this.destinationFrame=new pe,this.filters=[]}return i.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},i}(),Pf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.defaultFilterStack=[{}],t.texturePool=new Of,t.texturePool.setScreenSize(e.view),t.statePool=[],t.quad=new Rf,t.quadUv=new Fs,t.tempRect=new pe,t.activeState={},t.globalUniforms=new nr({outputFrame:t.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),t.forceClear=!1,t.useMaxPadding=!1,t}return r.prototype.push=function(e,t){for(var n=this.renderer,a=this.defaultFilterStack,o=this.statePool.pop()||new bf,s=t[0].resolution,u=t[0].padding,h=t[0].autoFit,l=t[0].legacy,c=1;c<t.length;c++){var f=t[c];s=Math.min(s,f.resolution),u=this.useMaxPadding?Math.max(u,f.padding):u+f.padding,h=h&&f.autoFit,l=l||f.legacy}a.length===1&&(this.defaultFilterStack[0].renderTexture=n.renderTexture.current),a.push(o),o.resolution=s,o.legacy=l,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(u),h&&o.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),o.sourceFrame.ceil(s),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,s),o.filters=t,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;var p=this.tempRect;p.width=o.sourceFrame.width,p.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,n.renderTexture.bind(o.renderTexture,o.sourceFrame,p),n.renderTexture.clear()},r.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;var a=this.globalUniforms.uniforms;a.outputFrame=t.sourceFrame,a.resolution=t.resolution;var o=a.inputSize,s=a.inputPixel,u=a.inputClamp;if(o[0]=t.destinationFrame.width,o[1]=t.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=o[0]*t.resolution,s[1]=o[1]*t.resolution,s[2]=1/s[0],s[3]=1/s[1],u[0]=.5*s[2],u[1]=.5*s[3],u[2]=t.sourceFrame.width*o[2]-.5*s[2],u[3]=t.sourceFrame.height*o[3]-.5*s[3],t.legacy){var h=a.filterArea;h[0]=t.destinationFrame.width,h[1]=t.destinationFrame.height,h[2]=t.sourceFrame.x,h[3]=t.sourceFrame.y,a.filterClamp=a.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(t.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,t.renderTexture,l.renderTexture,dt.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var c=t.renderTexture,f=this.getOptimalFilterTexture(c.width,c.height,t.resolution);f.filterFrame=c.filterFrame;var p=0;for(p=0;p<n.length-1;++p){n[p].apply(this,c,f,dt.CLEAR,t);var v=c;c=f,f=v}n[p].apply(this,c,l.renderTexture,dt.BLEND,t),this.returnFilterTexture(c),this.returnFilterTexture(f)}t.clear(),this.statePool.push(t)},r.prototype.bindAndClear=function(e,t){if(t===void 0&&(t=dt.CLEAR),e&&e.filterFrame){var n=this.tempRect;n.width=e.filterFrame.width,n.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,n)}else this.renderer.renderTexture.bind(e);typeof t=="boolean"&&(t=t?dt.CLEAR:dt.BLEND,J("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(t===dt.CLEAR||t===dt.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},r.prototype.applyFilter=function(e,t,n,a){var o=this.renderer;this.bindAndClear(n,a),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,o.state.set(e.state),o.shader.bind(e),e.legacy?(this.quadUv.map(t._frame,t.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(et.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(et.TRIANGLE_STRIP))},r.prototype.calculateSpriteMatrix=function(e,t){var n=this.activeState,a=n.sourceFrame,o=n.destinationFrame,s=t._texture.orig,u=e.set(o.width,0,0,o.height,a.x,a.y),h=t.worldTransform.copyTo(ye.TEMP_MATRIX);return h.invert(),u.prepend(h),u.scale(1/s.width,1/s.height),u.translate(t.anchor.x,t.anchor.y),u},r.prototype.destroy=function(){this.texturePool.clear(!1)},r.prototype.getOptimalFilterTexture=function(e,t,n){return n===void 0&&(n=1),this.texturePool.getOptimalTexture(e,t,n)},r.prototype.getFilterTexture=function(e,t){if(typeof e=="number"){var n=e;e=t,t=n}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution);return a.filterFrame=e.filterFrame,a},r.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},r.prototype.emptyPool=function(){this.texturePool.clear(!0)},r.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},r}(qe),ki=function(){function i(r){this.renderer=r}return i.prototype.flush=function(){},i.prototype.destroy=function(){this.renderer=null},i.prototype.start=function(){},i.prototype.stop=function(){this.flush()},i.prototype.render=function(r){},i}(),Lf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.emptyRenderer=new ki(e),t.currentRenderer=t.emptyRenderer,t}return r.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},r.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.copyBoundTextures=function(e,t){for(var n=this.renderer.texture.boundTextures,a=t-1;a>=0;--a)e[a]=n[a]||null,e[a]&&(e[a]._batchLocation=a)},r.prototype.boundArray=function(e,t,n,a){for(var o=e.elements,s=e.ids,u=e.count,h=0,l=0;l<u;l++){var c=o[l],f=c._batchLocation;if(f>=0&&f<a&&t[f]===c){s[l]=f;continue}for(;h<a;){var p=t[h];if(p&&p._batchEnabled===n&&p._batchLocation===h){h++;continue}s[l]=h,c._batchLocation=h,t[h]=c;break}}},r}(qe),mh=0,wf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.webGLVersion=1,t.extensions={},t.supports={uint32Indices:!1},t.handleContextLost=t.handleContextLost.bind(t),t.handleContextRestored=t.handleContextRestored.bind(t),e.view.addEventListener("webglcontextlost",t.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",t.handleContextRestored,!1),t}return Object.defineProperty(r.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),r.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=mh++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},r.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=mh++,this.renderer.runners.contextChange.emit(e)},r.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},r.prototype.createContext=function(e,t){var n;if(ne.PREFER_ENV>=Lt.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},r.prototype.getExtensions=function(){var e=this.gl;this.webGLVersion===1?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},r.prototype.handleContextLost=function(e){e.preventDefault()},r.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},r.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},r.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},r.prototype.validateContext=function(e){var t=e.getContextAttributes(),n="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;n&&(this.webGLVersion=2),t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var a=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=a,a||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},r}(qe),Nf=function(){function i(r){this.framebuffer=r,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=br.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}return i}(),Qp=new pe,Cf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.managedFramebuffers=[],t.unknownFramebuffer=new xn(10,10),t.msaaSamples=null,t}return r.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new pe,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ne.PREFER_ENV===Lt.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=function(a){return t.drawBuffersWEBGL(a)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},r.prototype.bind=function(e,t){var n=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,a.framebuffer)),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},r.prototype.setViewport=function(e,t,n,a){var o=this.viewport;(o.width!==n||o.height!==a||o.x!==e||o.y!==t)&&(o.x=e,o.y=t,o.width=n,o.height=a,this.gl.viewport(e,t,n,a))},Object.defineProperty(r.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),r.prototype.clear=function(e,t,n,a,o){o===void 0&&(o=Ni.COLOR|Ni.DEPTH);var s=this.gl;s.clearColor(e,t,n,a),s.clear(o)},r.prototype.initFramebuffer=function(e){var t=this.gl,n=new Nf(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},r.prototype.resizeFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));for(var a=e.colorTextures,o=0;o<a.length;o++)this.renderer.texture.bind(a[o],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},r.prototype.updateFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;t.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&(n.msaaBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.RGBA8,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,n.msaaBuffer));for(var s=[],u=0;u<o;u++)if(!(u===0&&n.multisample>1)){var h=e.colorTextures[u],l=h.parentTextureArray||h;this.renderer.texture.bind(l,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+u,h.target,l._glTextures[this.CONTEXT_UID].texture,0),s.push(t.COLOR_ATTACHMENT0+u)}if(s.length>1&&t.drawBuffers(s),e.depthTexture){var c=this.writeDepthTexture;if(c){var f=e.depthTexture;this.renderer.texture.bind(f,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,0)}}!n.stencil&&(e.stencil||e.depth)&&(n.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height),e.depthTexture||t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,n.stencil))},r.prototype.detectSamples=function(e){var t=this.msaaSamples,n=br.NONE;if(e<=1||t===null)return n;for(var a=0;a<t.length;a++)if(t[a]<=e){n=t[a];break}return n===1&&(n=br.NONE),n},r.prototype.blit=function(e,t,n){var a=this,o=a.current,s=a.renderer,u=a.gl,h=a.CONTEXT_UID;if(s.context.webGLVersion===2&&o){var l=o.glFramebuffers[h];if(l){if(!e){if(l.multisample<=1)return;l.blitFramebuffer||(l.blitFramebuffer=new xn(o.width,o.height),l.blitFramebuffer.addColorTexture(0,o.colorTextures[0])),e=l.blitFramebuffer,e.width=o.width,e.height=o.height}t||(t=Qp,t.width=o.width,t.height=o.height),n||(n=t);var c=t.width===n.width&&t.height===n.height;this.bind(e),u.bindFramebuffer(u.READ_FRAMEBUFFER,l.framebuffer),u.blitFramebuffer(t.x,t.y,t.width,t.height,n.x,n.y,n.width,n.height,u.COLOR_BUFFER_BIT,c?u.NEAREST:u.LINEAR)}}},r.prototype.disposeFramebuffer=function(e,t){var n=e.glFramebuffers[this.CONTEXT_UID],a=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),t||(a.deleteFramebuffer(n.framebuffer),n.stencil&&a.deleteRenderbuffer(n.stencil))}},r.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)},r.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(!(!t||t.stencil)){e.enableStencil();var n=e.width,a=e.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,n,a),t.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},r.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new pe},r}(qe),ev=function(){function i(r){this.buffer=r||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return i}(),Ja={5126:4,5123:2,5121:1},Mf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t._activeGeometry=null,t._activeVao=null,t.hasVao=!0,t.hasInstance=!0,t.canUseUInt32ElementIndex=!1,t.managedGeometries={},t.managedBuffers={},t}return r.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;ne.PREFER_ENV===Lt.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(o){return n.bindVertexArrayOES(o)},e.deleteVertexArray=function(o){return n.deleteVertexArrayOES(o)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(t.webGLVersion!==2){var a=e.getExtension("ANGLE_instanced_arrays");a?(e.vertexAttribDivisor=function(o,s){return a.vertexAttribDivisorANGLE(o,s)},e.drawElementsInstanced=function(o,s,u,h,l){return a.drawElementsInstancedANGLE(o,s,u,h,l)},e.drawArraysInstanced=function(o,s,u,h){return a.drawArraysInstancedANGLE(o,s,u,h)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex},r.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,a=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;a||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=a={},o=!0);var s=a[t.program.id]||this.initGeometryVao(e,t.program,o);this._activeGeometry=e,this._activeVao!==s&&(this._activeVao=s,this.hasVao?n.bindVertexArray(s):this.activateVao(e,t.program)),this.updateBuffers()},r.prototype.reset=function(){this.unbind()},r.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.gl,n=0;n<e.buffers.length;n++){var a=e.buffers[n],o=a._glBuffers[this.CONTEXT_UID];if(a._updateID!==o.updateID){o.updateID=a._updateID;var s=a.index?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;if(t.bindBuffer(s,o.buffer),this._boundBuffer=o,o.byteLength>=a.data.byteLength)t.bufferSubData(s,0,a.data);else{var u=a.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;o.byteLength=a.data.byteLength,t.bufferData(s,a.data,u)}}}},r.prototype.checkCompatibility=function(e,t){var n=e.attributes,a=t.attributeData;for(var o in a)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},r.prototype.getSignature=function(e,t){var n=e.attributes,a=t.attributeData,o=["g",e.id];for(var s in n)a[s]&&o.push(s);return o.join("-")},r.prototype.initGeometryVao=function(e,t,n){n===void 0&&(n=!0),this.checkCompatibility(e,t);var a=this.gl,o=this.CONTEXT_UID,s=this.getSignature(e,t),u=e.glVertexArrayObjects[this.CONTEXT_UID],h=u[s];if(h)return u[t.id]=h,h;var l=e.buffers,c=e.attributes,f={},p={};for(var v in l)f[v]=0,p[v]=0;for(var v in c)!c[v].size&&t.attributeData[v]?c[v].size=t.attributeData[v].size:c[v].size||console.warn("PIXI Geometry attribute '"+v+"' size cannot be determined (likely the bound shader does not have the attribute)"),f[c[v].buffer]+=c[v].size*Ja[c[v].type];for(var v in c){var g=c[v],A=g.size;g.stride===void 0&&(f[g.buffer]===A*Ja[g.type]?g.stride=0:g.stride=f[g.buffer]),g.start===void 0&&(g.start=p[g.buffer],p[g.buffer]+=A*Ja[g.type])}h=a.createVertexArray(),a.bindVertexArray(h);for(var E=0;E<l.length;E++){var P=l[E];P._glBuffers[o]||(P._glBuffers[o]=new ev(a.createBuffer()),this.managedBuffers[P.id]=P,P.disposeRunner.add(this)),n&&P._glBuffers[o].refCount++}return this.activateVao(e,t),this._activeVao=h,u[t.id]=h,u[s]=h,h},r.prototype.disposeBuffer=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],a=this.gl;e.disposeRunner.remove(this),n&&(t||a.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},r.prototype.disposeGeometry=function(e,t){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var n=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers;if(e.disposeRunner.remove(this),!!n){for(var s=0;s<o.length;s++){var u=o[s]._glBuffers[this.CONTEXT_UID];u.refCount--,u.refCount===0&&!t&&this.disposeBuffer(o[s],t)}if(!t){for(var h in n)if(h[0]==="g"){var l=n[h];this._activeVao===l&&this.unbind(),a.deleteVertexArray(l)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},r.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e);t=Object.keys(this.managedBuffers);for(var n=0;n<t.length;n++)this.disposeBuffer(this.managedBuffers[t[n]],e)},r.prototype.activateVao=function(e,t){var n=this.gl,a=this.CONTEXT_UID,o=e.buffers,s=e.attributes;e.indexBuffer&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[a].buffer);var u=null;for(var h in s){var l=s[h],c=o[l.buffer],f=c._glBuffers[a];if(t.attributeData[h]){u!==f&&(n.bindBuffer(n.ARRAY_BUFFER,f.buffer),u=f);var p=t.attributeData[h].location;if(n.enableVertexAttribArray(p),n.vertexAttribPointer(p,l.size,l.type||n.FLOAT,l.normalized,l.stride,l.start),l.instance)if(this.hasInstance)n.vertexAttribDivisor(p,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},r.prototype.draw=function(e,t,n,a){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var u=s.indexBuffer.data.BYTES_PER_ELEMENT,h=u===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(e,t||s.indexBuffer.data.length,h,(n||0)*u,a||1):o.drawElements(e,t||s.indexBuffer.data.length,h,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(e,n,t||s.getSize(),a||1):o.drawArrays(e,n,t||s.getSize());return this},r.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},r}(qe),Df=function(){function i(r){r===void 0&&(r=null),this.type=We.NONE,this.autoDetect=!0,this.maskObject=r||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return i.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=We.NONE,this.autoDetect=!0),this._target=null},i.prototype.copyCountersOrReset=function(r){r?(this._stencilCounter=r._stencilCounter,this._scissorCounter=r._scissorCounter,this._scissorRect=r._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},i}();function Ih(i,r,e){var t=i.createShader(r);return i.shaderSource(t,e),i.compileShader(t),t}function Kf(i,r,e,t){var n=Ih(i,i.VERTEX_SHADER,r),a=Ih(i,i.FRAGMENT_SHADER,e),o=i.createProgram();if(i.attachShader(o,n),i.attachShader(o,a),t)for(var s in t)i.bindAttribLocation(o,t[s],s);return i.linkProgram(o),i.getProgramParameter(o,i.LINK_STATUS)||(i.getShaderParameter(n,i.COMPILE_STATUS)||(console.warn(r),console.error(i.getShaderInfoLog(n))),i.getShaderParameter(a,i.COMPILE_STATUS)||(console.warn(e),console.error(i.getShaderInfoLog(a))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",i.getProgramParameter(o,i.VALIDATE_STATUS)),console.error("gl.getError()",i.getError()),i.getProgramInfoLog(o)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",i.getProgramInfoLog(o)),i.deleteProgram(o),o=null),i.deleteShader(n),i.deleteShader(a),o}function Za(i){for(var r=new Array(i),e=0;e<r.length;e++)r[e]=!1;return r}function Uf(i,r){switch(i){case"float":return 0;case"vec2":return new Float32Array(2*r);case"vec3":return new Float32Array(3*r);case"vec4":return new Float32Array(4*r);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*r);case"ivec3":return new Int32Array(3*r);case"ivec4":return new Int32Array(4*r);case"bool":return!1;case"bvec2":return Za(2*r);case"bvec3":return Za(3*r);case"bvec4":return Za(4*r);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Ff={},Si=Ff;function Bf(){if(Si===Ff||Si&&Si.isContextLost()){var i=document.createElement("canvas"),r=void 0;ne.PREFER_ENV>=Lt.WEBGL2&&(r=i.getContext("webgl2",{})),r||(r=i.getContext("webgl",{})||i.getContext("experimental-webgl",{}),r?r.getExtension("WEBGL_draw_buffers"):r=null),Si=r}return Si}var hn;function tv(){if(!hn){hn=pt.MEDIUM;var i=Bf();if(i&&i.getShaderPrecisionFormat){var r=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);hn=r.precision?pt.HIGH:pt.MEDIUM}}return hn}function Eh(i,r,e){if(i.substring(0,9)!=="precision"){var t=r;return r===pt.HIGH&&e!==pt.HIGH&&(t=pt.MEDIUM),"precision "+t+` float;
`+i}else if(e!==pt.HIGH&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}var rv={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function iv(i){return rv[i]}var ln=null,Th={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function _h(i,r){if(!ln){var e=Object.keys(Th);ln={};for(var t=0;t<e.length;++t){var n=e[t];ln[i[n]]=Th[n]}}return ln[r]}var mn=[{test:function(i){return i.type==="float"&&i.size===1},code:function(i){return`
            if(uv["`+i+'"] !== ud["'+i+`"].value)
            {
                ud["`+i+'"].value = uv["'+i+`"]
                gl.uniform1f(ud["`+i+'"].location, uv["'+i+`"])
            }
            `}},{test:function(i){return(i.type==="sampler2D"||i.type==="samplerCube"||i.type==="sampler2DArray")&&i.size===1&&!i.isArray},code:function(i){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+i+`"], t);

            if(ud["`+i+`"].value !== t)
            {
                ud["`+i+`"].value = t;
                gl.uniform1i(ud["`+i+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(i,r){return i.type==="mat3"&&i.size===1&&r.a!==void 0},code:function(i){return`
            gl.uniformMatrix3fv(ud["`+i+'"].location, false, uv["'+i+`"].toArray(true));
            `}},{test:function(i,r){return i.type==="vec2"&&i.size===1&&r.x!==void 0},code:function(i){return`
                cv = ud["`+i+`"].value;
                v = uv["`+i+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+i+`"].location, v.x, v.y);
                }`}},{test:function(i){return i.type==="vec2"&&i.size===1},code:function(i){return`
                cv = ud["`+i+`"].value;
                v = uv["`+i+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+i+`"].location, v[0], v[1]);
                }
            `}},{test:function(i,r){return i.type==="vec4"&&i.size===1&&r.width!==void 0},code:function(i){return`
                cv = ud["`+i+`"].value;
                v = uv["`+i+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+i+`"].location, v.x, v.y, v.width, v.height)
                }`}},{test:function(i){return i.type==="vec4"&&i.size===1},code:function(i){return`
                cv = ud["`+i+`"].value;
                v = uv["`+i+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+i+`"].location, v[0], v[1], v[2], v[3])
                }`}}],nv={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},av={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function ov(i,r){var e=[`
        var v = null;
        var cv = null
        var t = 0;
        var gl = renderer.gl
    `];for(var t in i.uniforms){var n=r[t];if(!n){i.uniforms[t].group&&e.push(`
                    renderer.shader.syncUniformGroup(uv["`+t+`"], syncData);
                `);continue}for(var a=i.uniforms[t],o=!1,s=0;s<mn.length;s++)if(mn[s].test(n,a)){e.push(mn[s].code(t,a)),o=!0;break}if(!o){var u=n.size===1?nv:av,h=u[n.type].replace("location",'ud["'+t+'"].location');e.push(`
            cv = ud["`+t+`"].value;
            v = uv["`+t+`"];
            `+h+";")}}return new Function("ud","uv","renderer","syncData",e.join(`
`))}var sv=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function uv(i){for(var r="",e=0;e<i;++e)e>0&&(r+=`
else `),e<i-1&&(r+="if(test == "+e+".0){}");return r}function Gf(i,r){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=r.createShader(r.FRAGMENT_SHADER);;){var t=sv.replace(/%forloop%/gi,uv(i));if(r.shaderSource(e,t),r.compileShader(e),!r.getShaderParameter(e,r.COMPILE_STATUS))i=i/2|0;else break}return i}var yi;function hv(){if(typeof yi=="boolean")return yi;try{var i=new Function("param1","param2","param3","return param1[param2] === param3;");yi=i({a:"b"},"a","b")===!0}catch{yi=!1}return yi}var lv=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,fv=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,cv=0,fn={},Vi=function(){function i(r,e,t){t===void 0&&(t="pixi-shader"),this.id=cv++,this.vertexSrc=r||i.defaultVertexSrc,this.fragmentSrc=e||i.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(t=t.replace(/\s+/g,"-"),fn[t]?(fn[t]++,t+="-"+fn[t]):fn[t]=1,this.vertexSrc="#define SHADER_NAME "+t+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+t+`
`+this.fragmentSrc,this.vertexSrc=Eh(this.vertexSrc,ne.PRECISION_VERTEX,pt.HIGH),this.fragmentSrc=Eh(this.fragmentSrc,ne.PRECISION_FRAGMENT,tv())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return i.prototype.extractData=function(r,e){var t=Bf();if(t){var n=Kf(t,r,e);this.attributeData=this.getAttributeData(n,t),this.uniformData=this.getUniformData(n,t),t.deleteProgram(n)}else this.uniformData={},this.attributeData={}},i.prototype.getAttributeData=function(r,e){for(var t={},n=[],a=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES),o=0;o<a;o++){var s=e.getActiveAttrib(r,o),u=_h(e,s.type),h={type:u,name:s.name,size:iv(u),location:0};t[s.name]=h,n.push(h)}n.sort(function(l,c){return l.name>c.name?1:-1});for(var o=0;o<n.length;o++)n[o].location=o;return t},i.prototype.getUniformData=function(r,e){for(var t={},n=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),a=0;a<n;a++){var o=e.getActiveUniform(r,a),s=o.name.replace(/\[.*?\]$/,""),u=o.name.match(/\[.*?\]$/),h=_h(e,o.type);t[s]={type:h,size:o.size,isArray:u,value:Uf(h,o.size)}}return t},Object.defineProperty(i,"defaultVertexSrc",{get:function(){return fv},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultFragmentSrc",{get:function(){return lv},enumerable:!1,configurable:!0}),i.from=function(r,e,t){var n=r+e,a=No[n];return a||(No[n]=a=new i(r,e,t)),a},i}(),ar=function(){function i(r,e){this.program=r,e?e instanceof nr?this.uniformGroup=e:this.uniformGroup=new nr(e):this.uniformGroup=new nr({});for(var t in r.uniformData)this.uniformGroup.uniforms[t]instanceof Array&&(this.uniformGroup.uniforms[t]=new Float32Array(this.uniformGroup.uniforms[t]))}return i.prototype.checkUniformExists=function(r,e){if(e.uniforms[r])return!0;for(var t in e.uniforms){var n=e.uniforms[t];if(n.group&&this.checkUniformExists(r,n))return!0}return!1},i.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(i.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),i.from=function(r,e,t){var n=Vi.from(r,e);return new i(n,t)},i}(),Qa=0,eo=1,to=2,ro=3,io=4,sr=function(){function i(){this.data=0,this.blendMode=q.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(i.prototype,"blend",{get:function(){return!!(this.data&1<<Qa)},set:function(r){!!(this.data&1<<Qa)!==r&&(this.data^=1<<Qa)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offsets",{get:function(){return!!(this.data&1<<eo)},set:function(r){!!(this.data&1<<eo)!==r&&(this.data^=1<<eo)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"culling",{get:function(){return!!(this.data&1<<to)},set:function(r){!!(this.data&1<<to)!==r&&(this.data^=1<<to)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"depthTest",{get:function(){return!!(this.data&1<<ro)},set:function(r){!!(this.data&1<<ro)!==r&&(this.data^=1<<ro)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<io)},set:function(r){!!(this.data&1<<io)!==r&&(this.data^=1<<io)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blendMode",{get:function(){return this._blendMode},set:function(r){this.blend=r!==q.NONE,this._blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(r){this.offsets=!!r,this._polygonOffset=r},enumerable:!1,configurable:!0}),i.for2d=function(){var r=new i;return r.depthTest=!1,r.blend=!0,r},i}(),dv=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,pv=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Xt=function(i){le(r,i);function r(e,t,n){var a=this,o=Vi.from(e||r.defaultVertexSrc,t||r.defaultFragmentSrc);return a=i.call(this,o,n)||this,a.padding=0,a.resolution=ne.FILTER_RESOLUTION,a.enabled=!0,a.autoFit=!0,a.legacy=!!a.program.attributeData.aTextureCoord,a.state=new sr,a}return r.prototype.apply=function(e,t,n,a,o){e.applyFilter(this,t,n,a)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultVertexSrc",{get:function(){return dv},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return pv},enumerable:!1,configurable:!0}),r}(ar),vv=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,gv=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Oh=new ye,Hn=function(){function i(r,e){this._texture=r,this.mapCoord=new ye,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}return Object.defineProperty(i.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture=r,this._textureID=-1},enumerable:!1,configurable:!0}),i.prototype.multiplyUvs=function(r,e){e===void 0&&(e=r);for(var t=this.mapCoord,n=0;n<r.length;n+=2){var a=r[n],o=r[n+1];e[n]=a*t.a+o*t.c+t.tx,e[n+1]=a*t.b+o*t.d+t.ty}return e},i.prototype.update=function(r){var e=this._texture;if(!e||!e.valid||!r&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var t=e._uvs;this.mapCoord.set(t.x1-t.x0,t.y1-t.y0,t.x3-t.x0,t.y3-t.y0,t.x0,t.y0);var n=e.orig,a=e.trim;a&&(Oh.set(n.width/a.width,0,0,n.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(Oh));var o=e.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+u+h)/o.width,s[1]=(e._frame.y+u+h)/o.height,s[2]=(e._frame.x+e._frame.width-u+h)/o.width,s[3]=(e._frame.y+e._frame.height-u+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&e.rotate===0,!0},i}(),Hf=function(i){le(r,i);function r(e){var t=this,n=new ye;return t=i.call(this,vv,gv)||this,e.renderable=!1,t.maskSprite=e,t.maskMatrix=n,t}return r.prototype.apply=function(e,t,n,a){var o=this.maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new Hn(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,e.applyFilter(this,t,n,a))},r}(Xt),kf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.enableScissor=!1,t.alphaMaskPool=[],t.maskDataPool=[],t.maskStack=[],t.alphaMaskIndex=0,t}return r.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},r.prototype.push=function(e,t){var n=t;if(!n.isMaskData){var a=this.maskDataPool.pop()||new Df;a.pooled=!0,a.maskObject=t,n=a}switch(n.autoDetect&&this.detect(n),n.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),n._target=e,n.type){case We.SCISSOR:this.maskStack.push(n),this.renderer.scissor.push(n);break;case We.STENCIL:this.maskStack.push(n),this.renderer.stencil.push(n);break;case We.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n),this.maskStack.push(n);break}},r.prototype.pop=function(e){var t=this.maskStack.pop();if(!(!t||t._target!==e)){switch(t.type){case We.SCISSOR:this.renderer.scissor.pop();break;case We.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case We.SPRITE:this.popSpriteMask();break}t.reset(),t.pooled&&this.maskDataPool.push(t)}},r.prototype.detect=function(e){var t=e.maskObject;if(t.isSprite){e.type=We.SPRITE;return}if(e.type=We.STENCIL,this.enableScissor&&t.isFastRect&&t.isFastRect()){var n=t.worldTransform,a=Math.atan2(n.b,n.a),o=Math.atan2(n.d,n.c);a=Math.round(a*(180/Math.PI)*100),o=Math.round(o*(180/Math.PI)*100)-a,a=(a%9e3+9e3)%9e3,o=(o%18e3+18e3)%18e3,a===0&&o===9e3&&(e.type=We.SCISSOR)}},r.prototype.pushSpriteMask=function(e){var t=e.maskObject,n=e._target,a=this.alphaMaskPool[this.alphaMaskIndex];a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new Hf(t)]),a[0].resolution=this.renderer.resolution,a[0].maskSprite=t;var o=n.filterArea;n.filterArea=t.getBounds(!0),this.renderer.filter.push(n,a),n.filterArea=o,this.alphaMaskIndex++},r.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},r}(qe),Vf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.maskStack=[],t.glConst=0,t}return r.prototype.getStackLength=function(){return this.maskStack.length},r.prototype.setMaskStack=function(e){var t=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var a=this.getStackLength();a!==n&&(a===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},r.prototype._useCurrent=function(){},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.maskStack=null},r}(qe),Xf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.glConst=WebGLRenderingContext.SCISSOR_TEST,t}return r.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},r.prototype.push=function(e){var t=e.maskObject;t.renderable=!0;var n=e._scissorRect,a=t.getBounds(!0),o=this.renderer.gl;t.renderable=!1,n?a.fit(n):o.enable(o.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=a,this._useCurrent()},r.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},r.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current,n=this.renderer.projection,a=n.transform,o=n.sourceFrame,s=n.destinationFrame,u=t?t.resolution:this.renderer.resolution,h=(e.x-o.x)*u+s.x,l=(e.y-o.y)*u+s.y,c=e.width*u,f=e.height*u;a&&(h+=a.tx*u,l+=a.ty*u),t||(l=this.renderer.height-f-l),this.renderer.gl.scissor(h,l,c,f)},r}(Vf),jf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.glConst=WebGLRenderingContext.STENCIL_TEST,t}return r.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},r.prototype.push=function(e){var t=e.maskObject,n=this.renderer.gl,a=e._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),n.enable(n.STENCIL_TEST)),e._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,a,this._getBitwiseMask()),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},r.prototype.pop=function(e){var t=this.renderer.gl;this.getStackLength()===0?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},r.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},r.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},r}(Vf),zf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.destinationFrame=null,t.sourceFrame=null,t.defaultFrame=null,t.projectionMatrix=new ye,t.transform=null,t}return r.prototype.update=function(e,t,n,a){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,a),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},r.prototype.calculateProjection=function(e,t,n,a){var o=this.projectionMatrix,s=a?-1:1;o.identity(),o.a=1/t.width*2,o.d=s*(1/t.height*2),o.tx=-1-t.x*o.a,o.ty=-s-t.y*o.d},r.prototype.setTransform=function(e){},r}(qe),vr=new pe,mi=new pe,Ii=new pe,Wf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.clearColor=e._backgroundColorRgba,t.defaultMaskStack=[],t.current=null,t.sourceFrame=new pe,t.destinationFrame=new pe,t}return r.prototype.bind=function(e,t,n){e===void 0&&(e=null);var a=this.renderer;this.current=e;var o,s,u;e?(o=e.baseTexture,u=o.resolution,t||(vr.width=e.frame.width,vr.height=e.frame.height,t=vr),n||(mi.x=e.frame.x,mi.y=e.frame.y,mi.width=t.width,mi.height=t.height,n=mi),s=o.framebuffer):(u=a.resolution,t||(vr.width=a.screen.width,vr.height=a.screen.height,t=vr),n||(n=vr,n.width=t.width,n.height=t.height)),Ii.x=n.x*u,Ii.y=n.y*u,Ii.width=n.width*u,Ii.height=n.height*u,this.renderer.framebuffer.bind(s,Ii),this.renderer.projection.update(n,t,u,!s),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)},r.prototype.clear=function(e,t){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor,this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t)},r.prototype.resize=function(){this.bind(null)},r.prototype.reset=function(){this.bind(null)},r}(qe),Av=function(){function i(){}return i}(),Yf=function(){function i(r,e){this.program=r,this.uniformData=e,this.uniformGroups={}}return i.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},i}(),Sv=0,xh={textureCount:0},qf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.destroyed=!1,t.systemCheck(),t.gl=null,t.shader=null,t.program=null,t.cache={},t.id=Sv++,t}return r.prototype.systemCheck=function(){if(!hv())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},r.prototype.contextChange=function(e){this.gl=e,this.reset()},r.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,a=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(a.program)),t||(xh.textureCount=0,this.syncUniformGroup(e.uniformGroup,xh)),a},r.prototype.setUniforms=function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)},r.prototype.syncUniformGroup=function(e,t){var n=this.getglProgram();(!e.static||e.dirtyId!==n.uniformGroups[e.id])&&(n.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))},r.prototype.syncUniforms=function(e,t,n){var a=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);a(t.uniformData,e.uniforms,this.renderer,n)},r.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData);return this.cache[t]||(this.cache[t]=ov(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},r.prototype.getSignature=function(e,t){var n=e.uniforms,a=[];for(var o in n)a.push(o),t[o]&&a.push(t[o].type);return a.join("-")},r.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},r.prototype.generateShader=function(e){var t=this.gl,n=e.program,a={};for(var o in n.attributeData)a[o]=n.attributeData[o].location;var s=Kf(t,n.vertexSrc,n.fragmentSrc,a),u={};for(var o in n.uniformData){var h=n.uniformData[o];u[o]={location:t.getUniformLocation(s,o),value:Uf(h.type,h.size)}}var l=new Yf(s,u);return n.glPrograms[this.renderer.CONTEXT_UID]=l,l},r.prototype.reset=function(){this.program=null,this.shader=null},r.prototype.destroy=function(){this.destroyed=!0},r}(qe);function yv(i,r){return r===void 0&&(r=[]),r[q.NORMAL]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.ADD]=[i.ONE,i.ONE],r[q.MULTIPLY]=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.SCREEN]=[i.ONE,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.OVERLAY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.DARKEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.LIGHTEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.COLOR_DODGE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.COLOR_BURN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.HARD_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.SOFT_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.DIFFERENCE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.EXCLUSION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.HUE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.SATURATION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.COLOR]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.LUMINOSITY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.NONE]=[0,0],r[q.NORMAL_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.ADD_NPM]=[i.SRC_ALPHA,i.ONE,i.ONE,i.ONE],r[q.SCREEN_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],r[q.SRC_IN]=[i.DST_ALPHA,i.ZERO],r[q.SRC_OUT]=[i.ONE_MINUS_DST_ALPHA,i.ZERO],r[q.SRC_ATOP]=[i.DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],r[q.DST_OVER]=[i.ONE_MINUS_DST_ALPHA,i.ONE],r[q.DST_IN]=[i.ZERO,i.SRC_ALPHA],r[q.DST_OUT]=[i.ZERO,i.ONE_MINUS_SRC_ALPHA],r[q.DST_ATOP]=[i.ONE_MINUS_DST_ALPHA,i.SRC_ALPHA],r[q.XOR]=[i.ONE_MINUS_DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],r[q.SUBTRACT]=[i.ONE,i.ONE,i.ONE,i.ONE,i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD],r}var mv=0,Iv=1,Ev=2,Tv=3,_v=4,$f=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.gl=null,t.stateId=0,t.polygonOffset=0,t.blendMode=q.NONE,t._blendEq=!1,t.map=[],t.map[mv]=t.setBlend,t.map[Iv]=t.setOffset,t.map[Ev]=t.setCullFace,t.map[Tv]=t.setDepthTest,t.map[_v]=t.setFrontFace,t.checks=[],t.defaultState=new sr,t.defaultState.blend=!0,t}return r.prototype.contextChange=function(e){this.gl=e,this.blendModes=yv(e),this.set(this.defaultState),this.reset()},r.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)t&1&&this.map[n].call(this,!!(e.data&1<<n)),t=t>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},r.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(var t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},r.prototype.setBlend=function(e){this.updateCheck(r.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},r.prototype.setOffset=function(e){this.updateCheck(r.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},r.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},r.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},r.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},r.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],n=this.gl;t.length===2?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},r.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},r.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},r.prototype.updateCheck=function(e,t){var n=this.checks.indexOf(e);t&&n===-1?this.checks.push(e):!t&&n!==-1&&this.checks.splice(n,1)},r.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},r.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},r}(qe),Jf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.count=0,t.checkCount=0,t.maxIdle=ne.GC_MAX_IDLE,t.checkCountMax=ne.GC_MAX_CHECK_COUNT,t.mode=ne.GC_MODE,t}return r.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==_n.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},r.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,a=0;a<t.length;a++){var o=t[a];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),t[a]=null,n=!0)}if(n){for(var s=0,a=0;a<t.length;a++)t[a]!==null&&(t[s++]=t[a]);t.length=s}},r.prototype.unload=function(e){var t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(var a=e.children.length-1;a>=0;a--)this.unload(e.children[a])},r}(qe),In=function(){function i(r){this.texture=r,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}return i}(),Zf=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.boundTextures=[],t.currentLocation=-1,t.managedTextures=[],t._unknownBoundTextures=!1,t.unknownTexture=new Ae,t}return r.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var a=new In(e.createTexture());e.bindTexture(e.TEXTURE_2D,a.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=a,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new In(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},r.prototype.bind=function(e,t){t===void 0&&(t=0);var n=this.gl;if(e){if(e=e.castToBaseTexture(),e.parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var a=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,a.texture)),a.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null},r.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},r.prototype.unbind=function(e){var t=this,n=t.gl,a=t.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<a.length;o++)a[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<a.length;o++)a[o]===e&&(this.currentLocation!==o&&(n.activeTexture(n.TEXTURE0+o),this.currentLocation=o),n.bindTexture(e.target,this.emptyTextures[e.target].texture),a[o]=null)},r.prototype.initTexture=function(e){var t=new In(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},r.prototype.initTextureType=function(e,t){if(t.internalFormat=e.format,t.type=e.type,this.webGLVersion===2){var n=this.renderer.gl;e.type===n.FLOAT&&e.format===n.RGBA&&(t.internalFormat=n.RGBA32F),e.type===Re.HALF_FLOAT&&(t.type=n.HALF_FLOAT),t.type===n.HALF_FLOAT&&e.format===n.RGBA&&(t.internalFormat=n.RGBA16F)}},r.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var n=this.renderer;if(this.initTextureType(e,t),!(e.resource&&e.resource.upload(n,e,t))){var a=e.realWidth,o=e.realHeight,s=n.gl;(t.width!==a||t.height!==o||t.dirtyId<0)&&(t.width=a,t.height=o,s.texImage2D(e.target,0,t.internalFormat,a,o,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},r.prototype.destroyTexture=function(e,t){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var a=this.managedTextures.indexOf(e);a!==-1&&Or(this.managedTextures,a,1)}},r.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===Yr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=Bt.CLAMP:t.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},r.prototype.setStyle=function(e,t){var n=this.gl;if(t.mipmap&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ut.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var a=this.renderer.context.extensions.anisotropicFiltering;if(a&&e.anisotropicLevel>0&&e.scaleMode===ut.LINEAR){var o=Math.min(e.anisotropicLevel,n.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,a.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ut.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ut.LINEAR?n.LINEAR:n.NEAREST)},r}(qe),Ov={FilterSystem:Pf,BatchSystem:Lf,ContextSystem:wf,FramebufferSystem:Cf,GeometrySystem:Mf,MaskSystem:kf,ScissorSystem:Xf,StencilSystem:jf,ProjectionSystem:zf,RenderTextureSystem:Wf,ShaderSystem:qf,StateSystem:$f,TextureGCSystem:Jf,TextureSystem:Zf},no=new ye,Bs=function(i){le(r,i);function r(e,t){e===void 0&&(e=Rr.UNKNOWN);var n=i.call(this)||this;return t=Object.assign({},ne.RENDER_OPTIONS,t),t.roundPixels&&(ne.ROUND_PIXELS=t.roundPixels,J("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),n.options=t,n.type=e,n.screen=new pe(0,0,t.width,t.height),n.view=t.view||document.createElement("canvas"),n.resolution=t.resolution||ne.RESOLUTION,n.transparent=t.transparent,n.autoDensity=t.autoDensity||t.autoResize||!1,n.preserveDrawingBuffer=t.preserveDrawingBuffer,n.clearBeforeRender=t.clearBeforeRender,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,0],n._backgroundColorString="#000000",n.backgroundColor=t.backgroundColor||n._backgroundColor,n._lastObjectRendered=null,n.plugins={},n}return r.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(r.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=t+"px"),this.emit("resize",e,t)},r.prototype.generateTexture=function(e,t,n,a){a=a||e.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var o=Nt.create({width:a.width|0,height:a.height|0,scaleMode:t,resolution:n});return no.tx=-a.x,no.ty=-a.y,this.render(e,o,!1,no,!!e.parent),o},r.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var n=this;n.plugins=null,n.type=Rr.UNKNOWN,n.view=null,n.screen=null,n._tempDisplayObjectParent=null,n.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=Un(e),kt(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),r}(ri),At=function(i){le(r,i);function r(e){var t=i.call(this,Rr.WEBGL,e)||this;return e=t.options,t.gl=null,t.CONTEXT_UID=0,t.runners={destroy:new De("destroy"),contextChange:new De("contextChange"),reset:new De("reset"),update:new De("update"),postrender:new De("postrender"),prerender:new De("prerender"),resize:new De("resize")},t.globalUniforms=new nr({projectionMatrix:new ye},!0),t.addSystem(kf,"mask").addSystem(wf,"context").addSystem($f,"state").addSystem(qf,"shader").addSystem(Zf,"texture").addSystem(Mf,"geometry").addSystem(Cf,"framebuffer").addSystem(Xf,"scissor").addSystem(jf,"stencil").addSystem(zf,"projection").addSystem(Jf,"textureGC").addSystem(Pf,"filter").addSystem(Wf,"renderTexture").addSystem(Lf,"batch"),t.initPlugins(r.__plugins),e.context?t.context.initFromContext(e.context):t.context.initFromOptions({alpha:!!t.transparent,antialias:e.antialias,premultipliedAlpha:t.transparent&&t.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:t.options.powerPreference}),t.renderingToScreen=!0,Es(t.context.webGLVersion===2?"WebGL 2":"WebGL 1"),t.resize(t.options.width,t.options.height),t}return r.create=function(e){if(tf())return new r(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},r.prototype.addSystem=function(e,t){t||(t=e.name);var n=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');this[t]=n;for(var a in this.runners)this.runners[a].add(n);return this},r.prototype.render=function(e,t,n,a,o){if(this.renderingToScreen=!t,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(t||(this._lastObjectRendered=e),!o){var s=e.enableTempParent();e.updateTransform(),e.disableTempParent(s)}this.renderTexture.bind(t),this.batch.currentRenderer.start(),(n!==void 0?n:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),t&&t.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},r.prototype.resize=function(e,t){i.prototype.resize.call(this,e,t),this.runners.resize.emit(e,t)},r.prototype.reset=function(){return this.runners.reset.emit(),this},r.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},r.prototype.destroy=function(e){this.runners.destroy.emit();for(var t in this.runners)this.runners[t].destroy();i.prototype.destroy.call(this,e),this.gl=null},r.registerPlugin=function(e,t){r.__plugins=r.__plugins||{},r.__plugins[e]=t},r}(Bs);function Qf(i){return At.create(i)}var ec=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Gs=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Rn=function(){function i(){this.texArray=null,this.blend=0,this.type=et.TRIANGLES,this.start=0,this.size=0,this.data=null}return i}(),bn=function(){function i(){this.elements=[],this.ids=[],this.count=0}return i.prototype.clear=function(){for(var r=0;r<this.count;r++)this.elements[r]=null;this.count=0},i}(),tc=function(){function i(r){this.rawBinaryData=new ArrayBuffer(r),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(i.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),i.prototype.view=function(r){return this[r+"View"]},i.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},i.sizeOf=function(r){switch(r){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(r+" isn't a valid view type")}},i}(),rc=function(i){le(r,i);function r(e){var t=i.call(this,e)||this;return t.shaderGenerator=null,t.geometryClass=null,t.vertexSize=null,t.state=sr.for2d(),t.size=ne.SPRITE_BATCH_SIZE*4,t._vertexCount=0,t._indexCount=0,t._bufferedElements=[],t._bufferedTextures=[],t._bufferSize=0,t._shader=null,t._packedGeometries=[],t._packedGeometryPoolSize=2,t._flushId=0,t._aBuffers={},t._iBuffers={},t.MAX_TEXTURES=1,t.renderer.on("prerender",t.onPrerender,t),e.runners.contextChange.add(t),t._dcIndex=0,t._aIndex=0,t._iIndex=0,t._attributeBuffer=null,t._indexBuffer=null,t._tempBoundTextures=[],t}return r.prototype.contextChange=function(){var e=this.renderer.gl;ne.PREFER_ENV===Lt.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),ne.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Gf(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},r.prototype.initFlushBuffers=function(){for(var e=r._drawCallPool,t=r._textureArrayPool,n=this.size/4,a=Math.floor(n/this.MAX_TEXTURES)+1;e.length<n;)e.push(new Rn);for(;t.length<a;)t.push(new bn);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},r.prototype.onPrerender=function(){this._flushId=0},r.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},r.prototype.buildTexturesAndDrawCalls=function(){var e=this,t=e._bufferedTextures,n=e.MAX_TEXTURES,a=r._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,u=this.renderer.textureGC.count,h=++Ae._globalBatch,l=0,c=a[0],f=0;o.copyBoundTextures(s,n);for(var p=0;p<this._bufferSize;++p){var v=t[p];t[p]=null,v._batchEnabled!==h&&(c.count>=n&&(o.boundArray(c,s,h,n),this.buildDrawCalls(c,f,p),f=p,c=a[++l],++h),v._batchEnabled=h,v.touched=u,c.elements[c.count++]=v)}c.count>0&&(o.boundArray(c,s,h,n),this.buildDrawCalls(c,f,this._bufferSize),++l,++h);for(var p=0;p<s.length;p++)s[p]=null;Ae._globalBatch=h},r.prototype.buildDrawCalls=function(e,t,n){var a=this,o=a._bufferedElements,s=a._attributeBuffer,u=a._indexBuffer,h=a.vertexSize,l=r._drawCallPool,c=this._dcIndex,f=this._aIndex,p=this._iIndex,v=l[c];v.start=this._iIndex,v.texArray=e;for(var g=t;g<n;++g){var A=o[g],E=A._texture.baseTexture,P=Os[E.alphaMode?1:0][A.blendMode];o[g]=null,t<g&&v.blend!==P&&(v.size=p-v.start,t=g,v=l[++c],v.texArray=e,v.start=p),this.packInterleavedGeometry(A,s,u,f,p),f+=A.vertexData.length/2*h,p+=A.indices.length,v.blend=P}t<n&&(v.size=p-v.start,++c),this._dcIndex=c,this._aIndex=f,this._iIndex=p},r.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0},r.prototype.updateGeometry=function(){var e=this,t=e._packedGeometries,n=e._attributeBuffer,a=e._indexBuffer;ne.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},r.prototype.drawBatches=function(){for(var e=this._dcIndex,t=this.renderer,n=t.gl,a=t.state,o=r._drawCallPool,s=null,u=0;u<e;u++){var h=o[u],l=h.texArray,c=h.type,f=h.size,p=h.start,v=h.blend;s!==l&&(s=l,this.bindAndClearTexArray(l)),this.state.blendMode=v,a.set(this.state),n.drawElements(c,f,n.UNSIGNED_SHORT,p*2)}},r.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},r.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),ne.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},r.prototype.stop=function(){this.flush()},r.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),i.prototype.destroy.call(this)},r.prototype.getAttributeBuffer=function(e){var t=Ci(Math.ceil(e/8)),n=wo(t),a=t*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new tc(a*this.vertexSize*4)),o},r.prototype.getIndexBuffer=function(e){var t=Ci(Math.ceil(e/12)),n=wo(t),a=t*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var o=this._iBuffers[n];return o||(this._iBuffers[n]=o=new Uint16Array(a)),o},r.prototype.packInterleavedGeometry=function(e,t,n,a,o){for(var s=t.uint32View,u=t.float32View,h=a/this.vertexSize,l=e.uvs,c=e.indices,f=e.vertexData,p=e._texture.baseTexture._batchLocation,v=Math.min(e.worldAlpha,1),g=v<1&&e._texture.baseTexture.alphaMode?Fn(e._tintRGB,v):e._tintRGB+(v*255<<24),A=0;A<f.length;A+=2)u[a++]=f[A],u[a++]=f[A+1],u[a++]=l[A],u[a++]=l[A+1],s[a++]=g,u[a++]=p;for(var A=0;A<c.length;A++)n[o++]=h+c[A]},r._drawCallPool=[],r._textureArrayPool=[],r}(ki),ic=function(){function i(r,e){if(this.vertexSrc=r,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return i.prototype.generateShader=function(r){if(!this.programCache[r]){for(var e=new Int32Array(r),t=0;t<r;t++)e[t]=t;this.defaultGroupCache[r]=nr.from({uSamplers:e},!0);var n=this.fragTemplate;n=n.replace(/%count%/gi,""+r),n=n.replace(/%forloop%/gi,this.generateSampleSrc(r)),this.programCache[r]=new Vi(this.vertexSrc,n)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new ye,default:this.defaultGroupCache[r]};return new ar(this.programCache[r],a)},i.prototype.generateSampleSrc=function(r){var e="";e+=`
`,e+=`
`;for(var t=0;t<r;t++)t>0&&(e+=`
else `),t<r-1&&(e+="if(vTextureId < "+t+".5)"),e+=`
{`,e+=`
	color = texture2D(uSamplers[`+t+"], vTextureCoord);",e+=`
}`;return e+=`
`,e+=`
`,e},i}(),Hs=function(i){le(r,i);function r(e){e===void 0&&(e=!1);var t=i.call(this)||this;return t._buffer=new Pe(null,e,!1),t._indexBuffer=new Pe(null,e,!0),t.addAttribute("aVertexPosition",t._buffer,2,!1,Re.FLOAT).addAttribute("aTextureCoord",t._buffer,2,!1,Re.FLOAT).addAttribute("aColor",t._buffer,4,!0,Re.UNSIGNED_BYTE).addAttribute("aTextureId",t._buffer,1,!0,Re.FLOAT).addIndex(t._indexBuffer),t}return r}(ni),Rh=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,bh=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,nc=function(){function i(){}return i.create=function(r){var e=Object.assign({vertex:Rh,fragment:bh,geometryClass:Hs,vertexSize:6},r),t=e.vertex,n=e.fragment,a=e.vertexSize,o=e.geometryClass;return function(s){le(u,s);function u(h){var l=s.call(this,h)||this;return l.shaderGenerator=new ic(t,n),l.geometryClass=o,l.vertexSize=a,l}return u}(rc)},Object.defineProperty(i,"defaultVertexSrc",{get:function(){return Rh},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultFragmentTemplate",{get:function(){return bh},enumerable:!1,configurable:!0}),i}(),ac=nc.create();/*!
 * @pixi/app - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Xi=function(){function i(r){var e=this;r=Object.assign({forceCanvas:!1},r),this.renderer=Qf(r),this.stage=new tt,i._plugins.forEach(function(t){t.init.call(e,r)})}return i.registerPlugin=function(r){i._plugins.push(r)},i.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(i.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),i.prototype.destroy=function(r,e){var t=this,n=i._plugins.slice(0);n.reverse(),n.forEach(function(a){a.destroy.call(t)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(r),this.renderer=null},i}();Xi._plugins=[];var xv=function(){function i(){}return i.init=function(r){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){e.cancelResize();var t,n;if(e._resizeTo===window)t=window.innerWidth,n=window.innerHeight;else{var a=e._resizeTo,o=a.clientWidth,s=a.clientHeight;t=o,n=s}e.renderer.resize(t,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=r.resizeTo||null},i.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},i}();Xi.registerPlugin(xv);/*!
 * @pixi/extract - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ph=new pe,Lh=4,oc=function(){function i(r){this.renderer=r,r.extract=this}return i.prototype.image=function(r,e,t){var n=new Image;return n.src=this.base64(r,e,t),n},i.prototype.base64=function(r,e,t){return this.canvas(r).toDataURL(e,t)},i.prototype.canvas=function(r){var e=this.renderer,t,n,a=!1,o,s=!1;r&&(r instanceof Nt?o=r:(o=this.renderer.generateTexture(r),s=!0)),o?(t=o.baseTexture.resolution,n=o.frame,a=!1,e.renderTexture.bind(o)):(t=this.renderer.resolution,a=!0,n=Ph,n.width=this.renderer.width,n.height=this.renderer.height,e.renderTexture.bind(null));var u=Math.floor(n.width*t+1e-4),h=Math.floor(n.height*t+1e-4),l=new qr(u,h,1),c=new Uint8Array(Lh*u*h),f=e.gl;f.readPixels(n.x*t,n.y*t,u,h,f.RGBA,f.UNSIGNED_BYTE,c);var p=l.context.getImageData(0,0,u,h);if(i.arrayPostDivide(c,p.data),l.context.putImageData(p,0,0),a){var v=new qr(l.width,l.height,1);v.context.scale(1,-1),v.context.drawImage(l.canvas,0,-h),l.destroy(),l=v}return s&&o.destroy(!0),l.canvas},i.prototype.pixels=function(r){var e=this.renderer,t,n,a,o=!1;r&&(r instanceof Nt?a=r:(a=this.renderer.generateTexture(r),o=!0)),a?(t=a.baseTexture.resolution,n=a.frame,e.renderTexture.bind(a)):(t=e.resolution,n=Ph,n.width=e.width,n.height=e.height,e.renderTexture.bind(null));var s=n.width*t,u=n.height*t,h=new Uint8Array(Lh*s*u),l=e.gl;return l.readPixels(n.x*t,n.y*t,s,u,l.RGBA,l.UNSIGNED_BYTE,h),o&&a.destroy(!0),i.arrayPostDivide(h,h),h},i.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},i.arrayPostDivide=function(r,e){for(var t=0;t<r.length;t+=4){var n=e[t+3]=r[t+3];n!==0?(e[t]=Math.round(Math.min(r[t]*255/n,255)),e[t+1]=Math.round(Math.min(r[t+1]*255/n,255)),e[t+2]=Math.round(Math.min(r[t+2]*255/n,255))):(e[t]=r[t],e[t+1]=r[t+1],e[t+2]=r[t+2])}},i}(),ao,wh;function Rv(){return wh||(wh=1,ao=(i,r={})=>{if(!i)return;const e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t=e.parser[r.strictMode?"strict":"loose"].exec(i),n={};let a=14;for(;a--;)n[e.key[a]]=t[a]||"";return n[e.q.name]={},n[e.key[12]].replace(e.q.parser,function(o,s,u){s&&(n[e.q.name][s]=u)}),n}),ao}var bv=Rv();const sc=or(bv);class cn{constructor(r,e=!1,t){this._fn=r,this._once=e,this._thisArg=t,this._next=this._prev=this._owner=null}detach(){return this._owner===null?!1:(this._owner.detach(this),!0)}}function Nh(i,r){return i._head?(i._tail._next=r,r._prev=i._tail,i._tail=r):(i._head=r,i._tail=r),r._owner=i,r}class Kt{constructor(){this._head=this._tail=void 0}handlers(r=!1){let e=this._head;if(r)return!!e;const t=[];for(;e;)t.push(e),e=e._next;return t}has(r){if(!(r instanceof cn))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return r._owner===this}dispatch(){let r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,arguments),r=r._next;return!0}add(r,e=null){if(typeof r!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return Nh(this,new cn(r,!1,e))}once(r,e=null){if(typeof r!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return Nh(this,new cn(r,!0,e))}detach(r){if(!(r instanceof cn))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return r._owner!==this?this:(r._prev&&(r._prev._next=r._next),r._next&&(r._next._prev=r._prev),r===this._head?(this._head=r._next,r._next===null&&(this._tail=null)):r===this._tail&&(this._tail=r._prev,this._tail._next=null),r._owner=null,this)}detachAll(){let r=this._head;if(!r)return this;for(this._head=this._tail=null;r;)r._owner=null,r=r._next;return this}}/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function gr(){}function Ch(i,r,e,t){var n=0,a=i.length;(function o(s){if(s||n===a){e&&e(s);return}t?setTimeout(function(){r(i[n++],o)},1):r(i[n++],o)})()}function Pv(i){return function(){if(i===null)throw new Error("Callback was already called.");var e=i;i=null,e.apply(this,arguments)}}function Lv(i,r){if(r==null)r=1;else if(r===0)throw new Error("Concurrency must not be zero");var e=0,t={_tasks:[],concurrency:r,saturated:gr,unsaturated:gr,buffer:r/4,empty:gr,drain:gr,error:gr,started:!1,paused:!1,push:function(s,u){n(s,!1,u)},kill:function(){e=0,t.drain=gr,t.started=!1,t._tasks=[]},unshift:function(s,u){n(s,!0,u)},process:function(){for(;!t.paused&&e<t.concurrency&&t._tasks.length;){var s=t._tasks.shift();t._tasks.length===0&&t.empty(),e+=1,e===t.concurrency&&t.saturated(),i(s.data,Pv(a(s)))}},length:function(){return t._tasks.length},running:function(){return e},idle:function(){return t._tasks.length+e===0},pause:function(){t.paused!==!0&&(t.paused=!0)},resume:function(){if(t.paused!==!1){t.paused=!1;for(var s=1;s<=t.concurrency;s++)t.process()}}};function n(o,s,u){if(u!=null&&typeof u!="function")throw new Error("task callback must be a function");if(t.started=!0,o==null&&t.idle()){setTimeout(function(){return t.drain()},1);return}var h={data:o,callback:typeof u=="function"?u:gr};s?t._tasks.unshift(h):t._tasks.push(h),setTimeout(function(){return t.process()},1)}function a(o){return function(){e-=1,o.callback.apply(o,arguments),arguments[0]!=null&&t.error(arguments[0],o.data),e<=t.concurrency-t.buffer&&t.unsaturated(),t.idle()&&t.drain(),t.process()}}return t}var oo={};function wv(i,r){var e=this;oo[i.url]?(i.data=oo[i.url],i.complete()):i.onComplete.once(function(){return oo[e.url]=e.data}),r()}function Nv(i,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function uc(i,r,e){return r&&Nv(i.prototype,r),i}var Cv=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),dn=null,Mv=0,Mh=200,Dv=204,Kv=1223,Uv=2;function Fv(){}var oe=function(){i.setExtensionLoadType=function(t,n){Dh(i._loadTypeMap,t,n)},i.setExtensionXhrType=function(t,n){Dh(i._xhrTypeMap,t,n)};function i(e,t,n){if(typeof e!="string"||typeof t!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(i.STATUS_FLAGS.DATA_URL,t.indexOf("data:")===0),this.name=e,this.url=t,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=i.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Fv,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Kt,this.onProgress=new Kt,this.onComplete=new Kt,this.onAfterMiddleware=new Kt}var r=i.prototype;return r.complete=function(){this._clearEvents(),this._finish()},r.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=i.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},r.load=function(t){var n=this;if(!this.isLoading){if(this.isComplete){t&&setTimeout(function(){return t(n)},1);return}else t&&this.onComplete.once(t);switch(this._setFlag(i.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case i.LOAD_TYPE.IMAGE:this.type=i.TYPE.IMAGE,this._loadElement("image");break;case i.LOAD_TYPE.AUDIO:this.type=i.TYPE.AUDIO,this._loadSourceElement("audio");break;case i.LOAD_TYPE.VIDEO:this.type=i.TYPE.VIDEO,this._loadSourceElement("video");break;case i.LOAD_TYPE.XHR:default:Cv&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},r._hasFlag=function(t){return(this._flags&t)!==0},r._setFlag=function(t,n){this._flags=n?this._flags|t:this._flags&~t},r._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},r._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(i.STATUS_FLAGS.COMPLETE,!0),this._setFlag(i.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},r._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:t==="image"&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},r._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:t==="audio"&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(t),this.data===null){this.abort("Unsupported element: "+t);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var n=this.metadata.mimeType,a=0;a<this.url.length;++a)this.data.appendChild(this._createSource(t,this.url[a],Array.isArray(n)?n[a]:n));else{var o=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(o)?o[0]:o))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},r._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===i.XHR_RESPONSE_TYPE.JSON||this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=i.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},r._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},r._createSource=function(t,n,a){a||(a=t+"/"+this._getExtension(n));var o=document.createElement("source");return o.src=n,o.type=a,o},r._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},r._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},r._onTimeout=function(){this.abort("Load timed out.")},r._xhrOnError=function(){var t=this.xhr;this.abort(so(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},r._xhrOnTimeout=function(){var t=this.xhr;this.abort(so(t)+" Request timed out.")},r._xhrOnAbort=function(){var t=this.xhr;this.abort(so(t)+" Request was aborted by the user.")},r._xhrOnLoad=function(){var t=this.xhr,n="",a=typeof t.status>"u"?Mh:t.status;(t.responseType===""||t.responseType==="text"||typeof t.responseType>"u")&&(n=t.responseText),a===Mv&&(n.length>0||t.responseType===i.XHR_RESPONSE_TYPE.BUFFER)?a=Mh:a===Kv&&(a=Dv);var o=a/100|0;if(o===Uv)if(this.xhrType===i.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=i.TYPE.TEXT;else if(this.xhrType===i.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=i.TYPE.JSON}catch(h){this.abort("Error trying to parse loaded json: "+h);return}else if(this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var s=new DOMParser;this.data=s.parseFromString(n,"text/xml")}else{var u=document.createElement("div");u.innerHTML=n,this.data=u}this.type=i.TYPE.XML}catch(h){this.abort("Error trying to parse loaded xml: "+h);return}else this.data=t.response||n;else{this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);return}this.complete()},r._determineCrossOrigin=function(t,n){if(t.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";n=n||window.location,dn||(dn=document.createElement("a")),dn.href=t,t=sc(dn.href,{strictMode:!0});var a=!t.port&&n.port===""||t.port===n.port,o=t.protocol?t.protocol+":":"";return t.host!==n.hostname||!a||o!==n.protocol?"anonymous":""},r._determineXhrType=function(){return i._xhrTypeMap[this.extension]||i.XHR_RESPONSE_TYPE.TEXT},r._determineLoadType=function(){return i._loadTypeMap[this.extension]||i.LOAD_TYPE.XHR},r._getExtension=function(){var t=this.url,n="";if(this.isDataUrl){var a=t.indexOf("/");n=t.substring(a+1,t.indexOf(";",a))}else{var o=t.indexOf("?"),s=t.indexOf("#"),u=Math.min(o>-1?o:t.length,s>-1?s:t.length);t=t.substring(0,u),n=t.substring(t.lastIndexOf(".")+1)}return n.toLowerCase()},r._getMimeFromXhrType=function(t){switch(t){case i.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case i.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case i.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case i.XHR_RESPONSE_TYPE.JSON:return"application/json";case i.XHR_RESPONSE_TYPE.DEFAULT:case i.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},uc(i,[{key:"isDataUrl",get:function(){return this._hasFlag(i.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(i.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(i.STATUS_FLAGS.LOADING)}}]),i}();oe.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};oe.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};oe.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};oe.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};oe._loadTypeMap={gif:oe.LOAD_TYPE.IMAGE,png:oe.LOAD_TYPE.IMAGE,bmp:oe.LOAD_TYPE.IMAGE,jpg:oe.LOAD_TYPE.IMAGE,jpeg:oe.LOAD_TYPE.IMAGE,tif:oe.LOAD_TYPE.IMAGE,tiff:oe.LOAD_TYPE.IMAGE,webp:oe.LOAD_TYPE.IMAGE,tga:oe.LOAD_TYPE.IMAGE,svg:oe.LOAD_TYPE.IMAGE,"svg+xml":oe.LOAD_TYPE.IMAGE,mp3:oe.LOAD_TYPE.AUDIO,ogg:oe.LOAD_TYPE.AUDIO,wav:oe.LOAD_TYPE.AUDIO,mp4:oe.LOAD_TYPE.VIDEO,webm:oe.LOAD_TYPE.VIDEO};oe._xhrTypeMap={xhtml:oe.XHR_RESPONSE_TYPE.DOCUMENT,html:oe.XHR_RESPONSE_TYPE.DOCUMENT,htm:oe.XHR_RESPONSE_TYPE.DOCUMENT,xml:oe.XHR_RESPONSE_TYPE.DOCUMENT,tmx:oe.XHR_RESPONSE_TYPE.DOCUMENT,svg:oe.XHR_RESPONSE_TYPE.DOCUMENT,tsx:oe.XHR_RESPONSE_TYPE.DOCUMENT,gif:oe.XHR_RESPONSE_TYPE.BLOB,png:oe.XHR_RESPONSE_TYPE.BLOB,bmp:oe.XHR_RESPONSE_TYPE.BLOB,jpg:oe.XHR_RESPONSE_TYPE.BLOB,jpeg:oe.XHR_RESPONSE_TYPE.BLOB,tif:oe.XHR_RESPONSE_TYPE.BLOB,tiff:oe.XHR_RESPONSE_TYPE.BLOB,webp:oe.XHR_RESPONSE_TYPE.BLOB,tga:oe.XHR_RESPONSE_TYPE.BLOB,json:oe.XHR_RESPONSE_TYPE.JSON,text:oe.XHR_RESPONSE_TYPE.TEXT,txt:oe.XHR_RESPONSE_TYPE.TEXT,ttf:oe.XHR_RESPONSE_TYPE.BUFFER,otf:oe.XHR_RESPONSE_TYPE.BUFFER};oe.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function Dh(i,r,e){r&&r.indexOf(".")===0&&(r=r.substring(1)),r&&(i[r]=e)}function so(i){return i.toString().replace("object ","")}var Bv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Gv(i){for(var r="",e=0;e<i.length;){for(var t=[0,0,0],n=[0,0,0,0],a=0;a<t.length;++a)e<i.length?t[a]=i.charCodeAt(e++)&255:t[a]=0;n[0]=t[0]>>2,n[1]=(t[0]&3)<<4|t[1]>>4,n[2]=(t[1]&15)<<2|t[2]>>6,n[3]=t[2]&63;var o=e-(i.length-1);switch(o){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64;break}for(var s=0;s<n.length;++s)r+=Bv.charAt(n[s])}return r}var Kh=window.URL||window.webkitURL;function Hv(i,r){if(!i.data){r();return}if(i.xhr&&i.xhrType===oe.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof i.data=="string"){var e=i.xhr.getResponseHeader("content-type");if(e&&e.indexOf("image")===0){i.data=new Image,i.data.src="data:"+e+";base64,"+Gv(i.xhr.responseText),i.type=oe.TYPE.IMAGE,i.data.onload=function(){i.data.onload=null,r()};return}}else if(i.data.type.indexOf("image")===0){var t=Kh.createObjectURL(i.data);i.blob=i.data,i.data=new Image,i.data.src=t,i.type=oe.TYPE.IMAGE,i.data.onload=function(){Kh.revokeObjectURL(t),i.data.onload=null,r()};return}}r()}var kv={caching:wv,parsing:Hv},uo=100,Vv=/(#[\w-]+)?$/,Gt=function(){function i(e,t){var n=this;e===void 0&&(e=""),t===void 0&&(t=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(s,u){return n._loadResource(s,u)},this._queue=Lv(this._boundLoadResource,t),this._queue.pause(),this.resources={},this.onProgress=new Kt,this.onError=new Kt,this.onLoad=new Kt,this.onStart=new Kt,this.onComplete=new Kt;for(var a=0;a<i._defaultBeforeMiddleware.length;++a)this.pre(i._defaultBeforeMiddleware[a]);for(var o=0;o<i._defaultAfterMiddleware.length;++o)this.use(i._defaultAfterMiddleware[o])}var r=i.prototype;return r.add=function(t,n,a,o){if(Array.isArray(t)){for(var s=0;s<t.length;++s)this.add(t[s]);return this}if(typeof t=="object"&&(o=n||t.callback||t.onComplete,a=t,n=t.url,t=t.name||t.key||t.url),typeof n!="string"&&(o=a,a=n,n=t),typeof n!="string")throw new Error("No url passed to add resource to loader.");if(typeof a=="function"&&(o=a,a=null),this.loading&&(!a||!a.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(n=this._prepareUrl(n),this.resources[t]=new oe(t,n,a),typeof o=="function"&&this.resources[t].onAfterMiddleware.once(o),this.loading){for(var u=a.parentResource,h=[],l=0;l<u.children.length;++l)u.children[l].isComplete||h.push(u.children[l]);var c=u.progressChunk*(h.length+1),f=c/(h.length+2);u.children.push(this.resources[t]),u.progressChunk=f;for(var p=0;p<h.length;++p)h[p].progressChunk=f;this.resources[t].progressChunk=f}return this._queue.push(this.resources[t]),this},r.pre=function(t){return this._beforeMiddleware.push(t),this},r.use=function(t){return this._afterMiddleware.push(t),this},r.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var n=this.resources[t];n._onLoadBinding&&n._onLoadBinding.detach(),n.isLoading&&n.abort()}return this.resources={},this},r.load=function(t){if(typeof t=="function"&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var n=this._queue._tasks.length,a=uo/n,o=0;o<this._queue._tasks.length;++o)this._queue._tasks[o].data.progressChunk=a;this._onStart(),this._queue.resume()}return this},r._prepareUrl=function(t){var n=sc(t,{strictMode:!0}),a;if(n.protocol||!n.path||t.indexOf("//")===0?a=t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.charAt(0)!=="/"?a=this.baseUrl+"/"+t:a=this.baseUrl+t,this.defaultQueryString){var o=Vv.exec(a)[0];a=a.substr(0,a.length-o.length),a.indexOf("?")!==-1?a+="&"+this.defaultQueryString:a+="?"+this.defaultQueryString,a+=o}return a},r._loadResource=function(t,n){var a=this;t._dequeue=n,Ch(this._beforeMiddleware,function(o,s){o.call(a,t,function(){s(t.isComplete?{}:null)})},function(){t.isComplete?a._onLoad(t):(t._onLoadBinding=t.onComplete.once(a._onLoad,a),t.load())},!0)},r._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},r._onComplete=function(){this.progress=uo,this.loading=!1,this.onComplete.dispatch(this,this.resources)},r._onLoad=function(t){var n=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Ch(this._afterMiddleware,function(a,o){a.call(n,t,o)},function(){t.onAfterMiddleware.dispatch(t),n.progress=Math.min(uo,n.progress+t.progressChunk),n.onProgress.dispatch(n,t),t.error?n.onError.dispatch(t.error,n,t):n.onLoad.dispatch(n,t),n._resourcesParsing.splice(n._resourcesParsing.indexOf(t),1),n._queue.idle()&&n._resourcesParsing.length===0&&n._onComplete()},!0)},uc(i,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),i}();Gt._defaultBeforeMiddleware=[];Gt._defaultAfterMiddleware=[];Gt.pre=function(r){return Gt._defaultBeforeMiddleware.push(r),Gt};Gt.use=function(r){return Gt._defaultAfterMiddleware.push(r),Gt};/*!
 * @pixi/loaders - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wi=oe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Bo=function(i,r){return Bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Bo(i,r)};function Xv(i,r){Bo(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var hc=function(){function i(){}return i.use=function(r,e){r.data&&r.type===oe.TYPE.IMAGE&&(r.texture=se.fromLoader(r.data,r.url,r.name)),e()},i}(),Lr=function(i){Xv(r,i);function r(e,t){for(var n=i.call(this,e,t)||this,a=0;a<r._plugins.length;++a){var o=r._plugins[a],s=o.pre,u=o.use;s&&n.pre(s),u&&n.use(u)}return n._protected=!1,n}return r.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(r,"shared",{get:function(){var e=r._shared;return e||(e=new r,e._protected=!0,r._shared=e),e},enumerable:!1,configurable:!0}),r.registerPlugin=function(e){return r._plugins.push(e),e.add&&e.add(),r},r._plugins=[],r}(Gt);Lr.registerPlugin({use:kv.parsing});Lr.registerPlugin(hc);var lc=function(){function i(){}return i.init=function(r){r=Object.assign({sharedLoader:!1},r),this.loader=r.sharedLoader?Lr.shared:new Lr},i.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},i}();/*!
 * @pixi/particles - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Go=function(i,r){return Go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Go(i,r)};function fc(i,r){Go(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var cc=function(i){fc(r,i);function r(e,t,n,a){e===void 0&&(e=1500),n===void 0&&(n=16384),a===void 0&&(a=!1);var o=i.call(this)||this,s=16384;return n>s&&(n=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=n,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=q.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(t),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return r.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,kt(e,this.tintRgb)},enumerable:!1,configurable:!0}),r.prototype.render=function(e){var t=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return t.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},r.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},r.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},r.prototype.destroy=function(e){i.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r}(tt),Uh=function(){function i(r,e,t){this.geometry=new ni,this.indexBuffer=null,this.size=t,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<r.length;++n){var a=r[n];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Re.FLOAT,offset:a.offset},e[n]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return i.prototype.initBuffers=function(){var r=this.geometry,e=0;this.indexBuffer=new Pe(nf(this.size),!0,!0),r.addIndex(this.indexBuffer),this.dynamicStride=0;for(var t=0;t<this.dynamicProperties.length;++t){var n=this.dynamicProperties[t];n.offset=e,e+=n.size,this.dynamicStride+=n.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new Pe(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var t=0;t<this.staticProperties.length;++t){var n=this.staticProperties[t];n.offset=o,o+=n.size,this.staticStride+=n.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Pe(this.staticData,!0,!1);for(var t=0;t<this.dynamicProperties.length;++t){var n=this.dynamicProperties[t];r.addAttribute(n.attributeName,this.dynamicBuffer,0,n.type===Re.UNSIGNED_BYTE,n.type,this.dynamicStride*4,n.offset*4)}for(var t=0;t<this.staticProperties.length;++t){var n=this.staticProperties[t];r.addAttribute(n.attributeName,this.staticBuffer,0,n.type===Re.UNSIGNED_BYTE,n.type,this.staticStride*4,n.offset*4)}},i.prototype.uploadDynamic=function(r,e,t){for(var n=0;n<this.dynamicProperties.length;n++){var a=this.dynamicProperties[n];a.uploadFunction(r,e,t,a.type===Re.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},i.prototype.uploadStatic=function(r,e,t){for(var n=0;n<this.staticProperties.length;n++){var a=this.staticProperties[n];a.uploadFunction(r,e,t,a.type===Re.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},i.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},i}(),jv=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,zv=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,dc=function(i){fc(r,i);function r(e){var t=i.call(this,e)||this;return t.shader=null,t.properties=null,t.tempMatrix=new ye,t.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:t.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:t.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:t.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:t.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Re.UNSIGNED_BYTE,uploadFunction:t.uploadTint,offset:0}],t.shader=ar.from(zv,jv,{}),t.state=sr.for2d(),t}return r.prototype.render=function(e){var t=e.children,n=e._maxSize,a=e._batchSize,o=this.renderer,s=t.length;if(s!==0){s>n&&!e.autoResize&&(s=n);var u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));var h=t[0]._texture.baseTexture;this.state.blendMode=xs(e.blendMode,h.alphaMode),o.state.set(this.state);var l=o.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=rf(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,h.alphaMode),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);for(var f=!1,p=0,v=0;p<s;p+=a,v+=1){var g=s-p;g>a&&(g=a),v>=u.length&&u.push(this._generateOneMoreBuffer(e));var A=u[v];A.uploadDynamic(t,p,g);var E=e._bufferUpdateIDs[v]||0;f=f||A._updateID<E,f&&(A._updateID=e._updateID,A.uploadStatic(t,p,g)),o.geometry.bind(A.geometry),l.drawElements(l.TRIANGLES,g*6,l.UNSIGNED_SHORT,0)}}},r.prototype.generateBuffers=function(e){for(var t=[],n=e._maxSize,a=e._batchSize,o=e._properties,s=0;s<n;s+=a)t.push(new Uh(this.properties,o,a));return t},r.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,n=e._properties;return new Uh(this.properties,n,t)},r.prototype.uploadVertices=function(e,t,n,a,o,s){for(var u=0,h=0,l=0,c=0,f=0;f<n;++f){var p=e[t+f],v=p._texture,g=p.scale.x,A=p.scale.y,E=v.trim,P=v.orig;E?(h=E.x-p.anchor.x*P.width,u=h+E.width,c=E.y-p.anchor.y*P.height,l=c+E.height):(u=P.width*(1-p.anchor.x),h=P.width*-p.anchor.x,l=P.height*(1-p.anchor.y),c=P.height*-p.anchor.y),a[s]=h*g,a[s+1]=c*A,a[s+o]=u*g,a[s+o+1]=c*A,a[s+o*2]=u*g,a[s+o*2+1]=l*A,a[s+o*3]=h*g,a[s+o*3+1]=l*A,s+=o*4}},r.prototype.uploadPosition=function(e,t,n,a,o,s){for(var u=0;u<n;u++){var h=e[t+u].position;a[s]=h.x,a[s+1]=h.y,a[s+o]=h.x,a[s+o+1]=h.y,a[s+o*2]=h.x,a[s+o*2+1]=h.y,a[s+o*3]=h.x,a[s+o*3+1]=h.y,s+=o*4}},r.prototype.uploadRotation=function(e,t,n,a,o,s){for(var u=0;u<n;u++){var h=e[t+u].rotation;a[s]=h,a[s+o]=h,a[s+o*2]=h,a[s+o*3]=h,s+=o*4}},r.prototype.uploadUvs=function(e,t,n,a,o,s){for(var u=0;u<n;++u){var h=e[t+u]._texture._uvs;h?(a[s]=h.x0,a[s+1]=h.y0,a[s+o]=h.x1,a[s+o+1]=h.y1,a[s+o*2]=h.x2,a[s+o*2+1]=h.y2,a[s+o*3]=h.x3,a[s+o*3+1]=h.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},r.prototype.uploadTint=function(e,t,n,a,o,s){for(var u=0;u<n;++u){var h=e[t+u],l=h._texture.baseTexture.alphaMode>0,c=h.alpha,f=c<1&&l?Fn(h._tintRGB,c):h._tintRGB+(c*255<<24);a[s]=f,a[s+o]=f,a[s+o*2]=f,a[s+o*3]=f,s+=o*4}},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},r}(ki);/*!
 * @pixi/graphics - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ut;(function(i){i.MITER="miter",i.BEVEL="bevel",i.ROUND="round"})(Ut||(Ut={}));var Ft;(function(i){i.BUTT="butt",i.ROUND="round",i.SQUARE="square"})(Ft||(Ft={}));var Zr={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(i,r){if(r===void 0&&(r=20),!this.adaptive||!i||isNaN(i))return r;var e=Math.ceil(i/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},ks=function(){function i(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1,this.reset()}return i.prototype.clone=function(){var r=new i;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r},i.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1},i.prototype.destroy=function(){this.texture=null,this.matrix=null},i}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ho=function(i,r){return Ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ho(i,r)};function kn(i,r){Ho(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Vs={build:function(i){i.points=i.shape.points.slice()},triangulate:function(i,r){var e=i.points,t=i.holes,n=r.points,a=r.indices;if(e.length>=6){for(var o=[],s=0;s<t.length;s++){var u=t[s];o.push(e.length/2),e=e.concat(u.points)}var h=Ss(e,o,2);if(!h)return;for(var l=n.length/2,s=0;s<h.length;s+=3)a.push(h[s]+l),a.push(h[s+1]+l),a.push(h[s+2]+l);for(var s=0;s<e.length;s++)n.push(e[s])}}},ko={build:function(i){var r=i.shape,e=i.points,t=r.x,n=r.y,a,o;if(e.length=0,i.type===de.CIRC)a=r.radius,o=r.radius;else{var s=i.shape;a=s.width,o=s.height}if(!(a===0||o===0)){var u=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(a+o));u/=2.3;for(var h=Math.PI*2/u,l=0;l<u-.5;l++)e.push(t+Math.sin(-h*l)*a,n+Math.cos(-h*l)*o);e.push(e[0],e[1])}},triangulate:function(i,r){var e=i.points,t=r.points,n=r.indices,a=t.length/2,o=a,s=i.shape,u=i.matrix,h=s.x,l=s.y;t.push(i.matrix?u.a*h+u.c*l+u.tx:h,i.matrix?u.b*h+u.d*l+u.ty:l);for(var c=0;c<e.length;c+=2)t.push(e[c],e[c+1]),n.push(a++,o,a)}},pc={build:function(i){var r=i.shape,e=r.x,t=r.y,n=r.width,a=r.height,o=i.points;o.length=0,o.push(e,t,e+n,t,e+n,t+a,e,t+a)},triangulate:function(i,r){var e=i.points,t=r.points,n=t.length/2;t.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),r.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function Ur(i,r,e){var t=r-i;return i+t*e}function pn(i,r,e,t,n,a,o){o===void 0&&(o=[]);for(var s=20,u=o,h=0,l=0,c=0,f=0,p=0,v=0,g=0,A=0;g<=s;++g)A=g/s,h=Ur(i,e,A),l=Ur(r,t,A),c=Ur(e,n,A),f=Ur(t,a,A),p=Ur(h,c,A),v=Ur(l,f,A),u.push(p,v);return u}var vc={build:function(i){var r=i.shape,e=i.points,t=r.x,n=r.y,a=r.width,o=r.height,s=Math.max(0,Math.min(r.radius,Math.min(a,o)/2));e.length=0,s?(pn(t,n+s,t,n,t+s,n,e),pn(t+a-s,n,t+a,n,t+a,n+s,e),pn(t+a,n+o-s,t+a,n+o,t+a-s,n+o,e),pn(t+s,n+o,t,n+o,t,n+o-s,e)):e.push(t,n,t+a,n,t+a,n+o,t,n+o)},triangulate:function(i,r){for(var e=i.points,t=r.points,n=r.indices,a=t.length/2,o=Ss(e,null,2),s=0,u=o.length;s<u;s+=3)n.push(o[s]+a),n.push(o[s+1]+a),n.push(o[s+2]+a);for(var s=0,u=e.length;s<u;s++)t.push(e[s],e[++s])}};function Fh(i,r,e,t,n,a,o,s){var u=i-e*n,h=r-t*n,l=i+e*a,c=r+t*a,f,p;o?(f=t,p=-e):(f=-t,p=e);var v=u+f,g=h+p,A=l+f,E=c+p;return s.push(v,g),s.push(A,E),2}function Fr(i,r,e,t,n,a,o,s){var u=e-i,h=t-r,l=Math.atan2(u,h),c=Math.atan2(n-i,a-r);s&&l<c?l+=Math.PI*2:!s&&l>c&&(c+=Math.PI*2);var f=l,p=c-l,v=Math.abs(p),g=Math.sqrt(u*u+h*h),A=(15*v*Math.sqrt(g)/Math.PI>>0)+1,E=p/A;if(f+=E,s){o.push(i,r),o.push(e,t);for(var P=1,T=f;P<A;P++,T+=E)o.push(i,r),o.push(i+Math.sin(T)*g,r+Math.cos(T)*g);o.push(i,r),o.push(n,a)}else{o.push(e,t),o.push(i,r);for(var P=1,T=f;P<A;P++,T+=E)o.push(i+Math.sin(T)*g,r+Math.cos(T)*g),o.push(i,r);o.push(n,a),o.push(i,r)}return A*2}function Wv(i,r){var e=i.shape,t=i.points||e.points.slice(),n=r.closePointEps;if(t.length!==0){var a=i.lineStyle,o=new Ne(t[0],t[1]),s=new Ne(t[t.length-2],t[t.length-1]),u=e.type!==de.POLY||e.closeStroke,h=Math.abs(o.x-s.x)<n&&Math.abs(o.y-s.y)<n;if(u){t=t.slice(),h&&(t.pop(),t.pop(),s.set(t[t.length-2],t[t.length-1]));var l=(o.x+s.x)*.5,c=(s.y+o.y)*.5;t.unshift(l,c),t.push(l,c)}var f=r.points,p=t.length/2,v=t.length,g=f.length/2,A=a.width/2,E=A*A,P=a.miterLimit*a.miterLimit,T=t[0],L=t[1],m=t[2],I=t[3],y=0,w=0,O=-(L-I),d=T-m,K=0,b=0,R=Math.sqrt(O*O+d*d);O/=R,d/=R,O*=A,d*=A;var B=a.alignment,F=(1-B)*2,S=B*2;u||(a.cap===Ft.ROUND?v+=Fr(T-O*(F-S)*.5,L-d*(F-S)*.5,T-O*F,L-d*F,T+O*S,L+d*S,f,!0)+2:a.cap===Ft.SQUARE&&(v+=Fh(T,L,O,d,F,S,!0,f))),f.push(T-O*F,L-d*F),f.push(T+O*S,L+d*S);for(var _=1;_<p-1;++_){T=t[(_-1)*2],L=t[(_-1)*2+1],m=t[_*2],I=t[_*2+1],y=t[(_+1)*2],w=t[(_+1)*2+1],O=-(L-I),d=T-m,R=Math.sqrt(O*O+d*d),O/=R,d/=R,O*=A,d*=A,K=-(I-w),b=m-y,R=Math.sqrt(K*K+b*b),K/=R,b/=R,K*=A,b*=A;var x=m-T,D=L-I,N=m-y,C=w-I,M=D*N-C*x,U=M<0;if(Math.abs(M)<.1){f.push(m-O*F,I-d*F),f.push(m+O*S,I+d*S);continue}var k=(-O+T)*(-d+I)-(-O+m)*(-d+L),X=(-K+y)*(-b+I)-(-K+m)*(-b+w),W=(x*X-N*k)/M,z=(C*k-D*X)/M,$=(W-m)*(W-m)+(z-I)*(z-I),G=m+(W-m)*F,j=I+(z-I)*F,Z=m-(W-m)*S,Y=I-(z-I)*S,te=Math.min(x*x+D*D,N*N+C*C),ie=U?F:S,Q=te+ie*ie*E,ee=$<=Q;ee?a.join===Ut.BEVEL||$/E>P?(U?(f.push(G,j),f.push(m+O*S,I+d*S),f.push(G,j),f.push(m+K*S,I+b*S)):(f.push(m-O*F,I-d*F),f.push(Z,Y),f.push(m-K*F,I-b*F),f.push(Z,Y)),v+=2):a.join===Ut.ROUND?U?(f.push(G,j),f.push(m+O*S,I+d*S),v+=Fr(m,I,m+O*S,I+d*S,m+K*S,I+b*S,f,!0)+4,f.push(G,j),f.push(m+K*S,I+b*S)):(f.push(m-O*F,I-d*F),f.push(Z,Y),v+=Fr(m,I,m-O*F,I-d*F,m-K*F,I-b*F,f,!1)+4,f.push(m-K*F,I-b*F),f.push(Z,Y)):(f.push(G,j),f.push(Z,Y)):(f.push(m-O*F,I-d*F),f.push(m+O*S,I+d*S),a.join===Ut.BEVEL||$/E>P||(a.join===Ut.ROUND?U?v+=Fr(m,I,m+O*S,I+d*S,m+K*S,I+b*S,f,!0)+2:v+=Fr(m,I,m-O*F,I-d*F,m-K*F,I-b*F,f,!1)+2:(U?(f.push(Z,Y),f.push(Z,Y)):(f.push(G,j),f.push(G,j)),v+=2)),f.push(m-K*F,I-b*F),f.push(m+K*S,I+b*S),v+=2)}T=t[(p-2)*2],L=t[(p-2)*2+1],m=t[(p-1)*2],I=t[(p-1)*2+1],O=-(L-I),d=T-m,R=Math.sqrt(O*O+d*d),O/=R,d/=R,O*=A,d*=A,f.push(m-O*F,I-d*F),f.push(m+O*S,I+d*S),u||(a.cap===Ft.ROUND?v+=Fr(m-O*(F-S)*.5,I-d*(F-S)*.5,m-O*F,I-d*F,m+O*S,I+d*S,f,!1)+2:a.cap===Ft.SQUARE&&(v+=Fh(m,I,O,d,F,S,!1,f)));for(var he=r.indices,Ie=Zr.epsilon*Zr.epsilon,_=g;_<v+g-2;++_)T=f[_*2],L=f[_*2+1],m=f[(_+1)*2],I=f[(_+1)*2+1],y=f[(_+2)*2],w=f[(_+2)*2+1],!(Math.abs(T*(I-w)+m*(w-L)+y*(L-I))<Ie)&&he.push(_,_+1,_+2)}}function Yv(i,r){var e=0,t=i.shape,n=i.points||t.points,a=t.type!==de.POLY||t.closeStroke;if(n.length!==0){var o=r.points,s=r.indices,u=n.length/2,h=o.length/2,l=h;for(o.push(n[0],n[1]),e=1;e<u;e++)o.push(n[e*2],n[e*2+1]),s.push(l,l+1),l++;a&&s.push(l,h)}}function Vo(i,r){i.lineStyle.native?Yv(i,r):Wv(i,r)}var gc=function(i){kn(r,i);function r(e,t,n,a,o,s){s===void 0&&(s=0);var u=this;o=o||a/2;for(var h=-1*Math.PI/2+s,l=n*2,c=$r/l,f=[],p=0;p<l;p++){var v=p%2?o:a,g=p*c+h;f.push(e+v*Math.cos(g),t+v*Math.sin(g))}return u=i.call(this,f)||this,u}return r}(kr),Xo=function(){function i(){}return i.curveTo=function(r,e,t,n,a,o){var s=o[o.length-2],u=o[o.length-1],h=u-e,l=s-r,c=n-e,f=t-r,p=Math.abs(h*f-l*c);if(p<1e-8||a===0)return(o[o.length-2]!==r||o[o.length-1]!==e)&&o.push(r,e),null;var v=h*h+l*l,g=c*c+f*f,A=h*c+l*f,E=a*Math.sqrt(v)/p,P=a*Math.sqrt(g)/p,T=E*A/v,L=P*A/g,m=E*f+P*l,I=E*c+P*h,y=l*(P+T),w=h*(P+T),O=f*(E+L),d=c*(E+L),K=Math.atan2(w-I,y-m),b=Math.atan2(d-I,O-m);return{cx:m+r,cy:I+e,radius:a,startAngle:K,endAngle:b,anticlockwise:l*c>f*h}},i.arc=function(r,e,t,n,a,o,s,u,h){for(var l=s-o,c=Zr._segmentsCount(Math.abs(l)*a,Math.ceil(Math.abs(l)/$r)*40),f=l/(c*2),p=f*2,v=Math.cos(f),g=Math.sin(f),A=c-1,E=A%1/A,P=0;P<=A;++P){var T=P+E*P,L=f+o+p*T,m=Math.cos(L),I=-Math.sin(L);h.push((v*m+g*I)*a+t,(v*-I+g*m)*a+n)}},i}(),Ac=function(){function i(){}return i.curveLength=function(r,e,t,n,a,o,s,u){for(var h=10,l=0,c=0,f=0,p=0,v=0,g=0,A=0,E=0,P=0,T=0,L=0,m=r,I=e,y=1;y<=h;++y)c=y/h,f=c*c,p=f*c,v=1-c,g=v*v,A=g*v,E=A*r+3*g*c*t+3*v*f*a+p*s,P=A*e+3*g*c*n+3*v*f*o+p*u,T=m-E,L=I-P,m=E,I=P,l+=Math.sqrt(T*T+L*L);return l},i.curveTo=function(r,e,t,n,a,o,s){var u=s[s.length-2],h=s[s.length-1];s.length-=2;var l=Zr._segmentsCount(i.curveLength(u,h,r,e,t,n,a,o)),c=0,f=0,p=0,v=0,g=0;s.push(u,h);for(var A=1,E=0;A<=l;++A)E=A/l,c=1-E,f=c*c,p=f*c,v=E*E,g=v*E,s.push(p*u+3*f*E*r+3*c*v*t+g*a,p*h+3*f*E*e+3*c*v*n+g*o)},i}(),Sc=function(){function i(){}return i.curveLength=function(r,e,t,n,a,o){var s=r-2*t+a,u=e-2*n+o,h=2*t-2*r,l=2*n-2*e,c=4*(s*s+u*u),f=4*(s*h+u*l),p=h*h+l*l,v=2*Math.sqrt(c+f+p),g=Math.sqrt(c),A=2*c*g,E=2*Math.sqrt(p),P=f/g;return(A*v+g*f*(v-E)+(4*p*c-f*f)*Math.log((2*g+P+v)/(P+E)))/(4*A)},i.curveTo=function(r,e,t,n,a){for(var o=a[a.length-2],s=a[a.length-1],u=Zr._segmentsCount(i.curveLength(o,s,r,e,t,n)),h=0,l=0,c=1;c<=u;++c){var f=c/u;h=o+(r-o)*f,l=s+(e-s)*f,a.push(h+(r+(t-r)*f-h)*f,l+(e+(n-e)*f-l)*f)}},i}(),yc=function(){function i(){this.reset()}return i.prototype.begin=function(r,e,t){this.reset(),this.style=r,this.start=e,this.attribStart=t},i.prototype.end=function(r,e){this.attribSize=e-this.attribStart,this.size=r-this.start},i.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},i}(),Ar,En=(Ar={},Ar[de.POLY]=Vs,Ar[de.CIRC]=ko,Ar[de.ELIP]=ko,Ar[de.RECT]=pc,Ar[de.RREC]=vc,Ar),jo=[],Pi=[],qv={buildPoly:Vs,buildCircle:ko,buildRectangle:pc,buildRoundedRectangle:vc,FILL_COMMANDS:En,BATCH_POOL:jo,DRAW_CALL_POOL:Pi,buildLine:Vo,Star:gc,ArcUtils:Xo,BezierUtils:Ac,QuadraticUtils:Sc,BatchPart:yc},zo=function(){function i(r,e,t,n){e===void 0&&(e=null),t===void 0&&(t=null),n===void 0&&(n=null),this.shape=r,this.lineStyle=t,this.fillStyle=e,this.matrix=n,this.type=r.type,this.points=[],this.holes=[]}return i.prototype.clone=function(){return new i(this.shape,this.fillStyle,this.lineStyle,this.matrix)},i.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},i}(),Br=new Ne,$v=new Di,mc=function(i){kn(r,i);function r(){var e=i.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new Di,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return Object.defineProperty(r.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),r.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Pi.push(this.drawCalls[e]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),jo.push(t)}this.batches.length=0},r.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},r.prototype.drawShape=function(e,t,n,a){t===void 0&&(t=null),n===void 0&&(n=null),a===void 0&&(a=null);var o=new zo(e,t,n,a);return this.graphicsData.push(o),this.dirty++,this},r.prototype.drawHole=function(e,t){if(t===void 0&&(t=null),!this.graphicsData.length)return null;var n=new zo(e,null,null,t),a=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=a.lineStyle,a.holes.push(n),this.dirty++,this},r.prototype.destroy=function(){i.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},r.prototype.containsPoint=function(e){for(var t=this.graphicsData,n=0;n<t.length;++n){var a=t[n];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(e,Br):Br.copyFrom(e),a.shape.contains(Br.x,Br.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var u=a.holes[s];if(u.shape.contains(Br.x,Br.y)){o=!0;break}}if(!o)return!0}}return!1},r.prototype.updateBatches=function(e){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,n=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<n.length;s++){this.shapeIndex++;var u=n[s],h=u.fillStyle,l=u.lineStyle,c=En[u.type];c.build(u),u.matrix&&this.transformPoints(u.points,u.matrix);for(var f=0;f<2;f++){var p=f===0?h:l;if(p.visible){var v=p.texture.baseTexture,g=this.indices.length,A=this.points.length/2;v.wrapMode=Bt.REPEAT,f===0?this.processFill(u):this.processLine(u);var E=this.points.length/2-A;E!==0&&(a&&!this._compareStyles(o,p)&&(a.end(g,A),a=null),a||(a=jo.pop()||new yc,a.begin(p,g,A),this.batches.push(a),o=p),this.addUvs(this.points,t,p.texture,A,E,p.matrix))}}}var P=this.indices.length,T=this.points.length/2;if(a&&a.end(P,T),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var L=T>65535&&e;this.indicesUint16=L?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},r.prototype._compareStyles=function(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)},r.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var n=this.graphicsData[e],a=n.fillStyle,o=n.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},r.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,n=e.length;t<n;t++)for(var a=e[t],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},r.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var e=this.batches,t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<r.BATCHABLE_SIZE*2},r.prototype.buildDrawCalls=function(){for(var e=++Ae._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Pi.push(this.drawCalls[t]);this.drawCalls.length=0;var n=this.colors,a=this.textureIds,o=Pi.pop();o||(o=new Rn,o.texArray=new bn),o.texArray.count=0,o.start=0,o.size=0,o.type=et.TRIANGLES;var s=0,u=null,h=0,l=!1,c=et.TRIANGLES,f=0;this.drawCalls.push(o);for(var t=0;t<this.batches.length;t++){var p=this.batches[t],v=8,g=p.style,A=g.texture.baseTexture;l!==!!g.native&&(l=!!g.native,c=l?et.LINES:et.TRIANGLES,u=null,s=v,e++),u!==A&&(u=A,A._batchEnabled!==e&&(s===v&&(e++,s=0,o.size>0&&(o=Pi.pop(),o||(o=new Rn,o.texArray=new bn),this.drawCalls.push(o)),o.start=f,o.size=0,o.texArray.count=0,o.type=c),A.touched=1,A._batchEnabled=e,A._batchLocation=s,A.wrapMode=10497,o.texArray.elements[o.texArray.count++]=A,s++)),o.size+=p.size,f+=p.size,h=A._batchLocation,this.addColors(n,g.color,g.alpha,p.attribSize,p.attribStart),this.addTextureIds(a,h,p.attribSize,p.attribStart)}Ae._globalBatch=e,this.packAttributes()},r.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,n=this.colors,a=this.textureIds,o=new ArrayBuffer(e.length*3*4),s=new Float32Array(o),u=new Uint32Array(o),h=0,l=0;l<e.length/2;l++)s[h++]=e[l*2],s[h++]=e[l*2+1],s[h++]=t[l*2],s[h++]=t[l*2+1],u[h++]=n[l],s[h++]=a[l];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},r.prototype.processFill=function(e){if(e.holes.length)this.processHoles(e.holes),Vs.triangulate(e,this);else{var t=En[e.type];t.triangulate(e,this)}},r.prototype.processLine=function(e){Vo(e,this);for(var t=0;t<e.holes.length;t++)Vo(e.holes[t],this)},r.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var n=e[t],a=En[n.type];a.build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},r.prototype.calculateBounds=function(){var e=this._bounds,t=$v,n=ye.IDENTITY;this._bounds.clear(),t.clear();for(var a=0;a<this.graphicsData.length;a++){var o=this.graphicsData[a],s=o.shape,u=o.type,h=o.lineStyle,l=o.matrix||ye.IDENTITY,c=0;if(h&&h.visible){var f=h.alignment;c=h.width,u===de.POLY?c=c*(.5+Math.abs(.5-f)):c=c*Math.max(0,f)}if(n!==l&&(t.isEmpty()||(e.addBoundsMatrix(t,n),t.clear()),n=l),u===de.RECT||u===de.RREC){var p=s;t.addFramePad(p.x,p.y,p.x+p.width,p.y+p.height,c,c)}else if(u===de.CIRC){var v=s;t.addFramePad(v.x,v.y,v.x,v.y,v.radius+c,v.radius+c)}else if(u===de.ELIP){var g=s;t.addFramePad(g.x,g.y,g.x,g.y,g.width+c,g.height+c)}else{var A=s;e.addVerticesMatrix(n,A.points,0,A.points.length,c,c)}}t.isEmpty()||e.addBoundsMatrix(t,n),e.pad(this.boundsPadding,this.boundsPadding)},r.prototype.transformPoints=function(e,t){for(var n=0;n<e.length/2;n++){var a=e[n*2],o=e[n*2+1];e[n*2]=t.a*a+t.c*o+t.tx,e[n*2+1]=t.b*a+t.d*o+t.ty}},r.prototype.addColors=function(e,t,n,a,o){o===void 0&&(o=0);var s=(t>>16)+(t&65280)+((t&255)<<16),u=Fn(s,n);e.length=Math.max(e.length,o+a);for(var h=0;h<a;h++)e[o+h]=u},r.prototype.addTextureIds=function(e,t,n,a){a===void 0&&(a=0),e.length=Math.max(e.length,a+n);for(var o=0;o<n;o++)e[a+o]=t},r.prototype.addUvs=function(e,t,n,a,o,s){s===void 0&&(s=null);for(var u=0,h=t.length,l=n.frame;u<o;){var c=e[(a+u)*2],f=e[(a+u)*2+1];if(s){var p=s.a*c+s.c*f+s.tx;f=s.b*c+s.d*f+s.ty,c=p}u++,t.push(c/l.width,f/l.height)}var v=n.baseTexture;(l.width<v.width||l.height<v.height)&&this.adjustUvs(t,n,h,o)},r.prototype.adjustUvs=function(e,t,n,a){for(var o=t.baseTexture,s=1e-6,u=n+a*2,h=t.frame,l=h.width/o.width,c=h.height/o.height,f=h.x/h.width,p=h.y/h.height,v=Math.floor(e[n]+s),g=Math.floor(e[n+1]+s),A=n+2;A<u;A+=2)v=Math.min(v,Math.floor(e[A]+s)),g=Math.min(g,Math.floor(e[A+1]+s));f-=v,p-=g;for(var A=n;A<u;A+=2)e[A]=(e[A]+f)*l,e[A+1]=(e[A+1]+p)*c},r.BATCHABLE_SIZE=100,r}(Hs),Ic=function(i){kn(r,i);function r(){var e=i!==null&&i.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Ft.BUTT,e.join=Ut.MITER,e.miterLimit=10,e}return r.prototype.clone=function(){var e=new r;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},r.prototype.reset=function(){i.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},r}(ks),Jv=new Float32Array(3),ho={},ai=function(i){kn(r,i);function r(e){e===void 0&&(e=null);var t=i.call(this)||this;return t._geometry=e||new mc,t._geometry.refCount++,t.shader=null,t.state=sr.for2d(),t._fillStyle=new ks,t._lineStyle=new Ic,t._matrix=null,t._holeMode=!1,t.currentPath=null,t.batches=[],t.batchTint=-1,t.batchDirty=-1,t.vertexData=null,t.pluginName="batch",t._transformID=-1,t.tint=16777215,t.blendMode=q.NORMAL,t}return Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return this.finishPoly(),new r(this._geometry)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),r.prototype.lineStyle=function(e){if(e===void 0&&(e=null),typeof e=="number"){var t=arguments;e={width:t[0]||0,color:t[1]||0,alpha:t[2]!==void 0?t[2]:1,alignment:t[3]!==void 0?t[3]:.5,native:!!t[4]}}return this.lineTextureStyle(e)},r.prototype.lineTextureStyle=function(e){if(typeof e=="number"){J("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var t=arguments,n=t[0],a=t[1],o=t[2],s=t[3],u=t[4],h=t[5],l=t[6];e={width:n,texture:a,color:o,alpha:s,matrix:u,alignment:h,native:l},Object.keys(e).forEach(function(f){return e[f]===void 0&&delete e[f]})}e=Object.assign({width:0,texture:se.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Ft.BUTT,join:Ut.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var c=e.width>0&&e.alpha>0;return c?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:c},e)):this._lineStyle.reset(),this},r.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new kr,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new kr,this.currentPath.closeStroke=!1},r.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},r.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},r.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,a=n[n.length-2],o=n[n.length-1];return(a!==e||o!==t)&&n.push(e,t),this},r.prototype._initCurve=function(e,t){e===void 0&&(e=0),t===void 0&&(t=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},r.prototype.quadraticCurveTo=function(e,t,n,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),Sc.curveTo(e,t,n,a,o),this},r.prototype.bezierCurveTo=function(e,t,n,a,o,s){return this._initCurve(),Ac.curveTo(e,t,n,a,o,s,this.currentPath.points),this},r.prototype.arcTo=function(e,t,n,a,o){this._initCurve(e,t);var s=this.currentPath.points,u=Xo.curveTo(e,t,n,a,o,s);if(u){var h=u.cx,l=u.cy,c=u.radius,f=u.startAngle,p=u.endAngle,v=u.anticlockwise;this.arc(h,l,c,f,p,v)}return this},r.prototype.arc=function(e,t,n,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=$r:s&&a<=o&&(a+=$r);var u=o-a;if(u===0)return this;var h=e+Math.cos(a)*n,l=t+Math.sin(a)*n,c=this._geometry.closePointEps,f=this.currentPath?this.currentPath.points:null;if(f){var p=Math.abs(f[f.length-2]-h),v=Math.abs(f[f.length-1]-l);p<c&&v<c||f.push(h,l)}else this.moveTo(h,l),f=this.currentPath.points;return Xo.arc(h,l,e,t,n,a,o,s,f),this},r.prototype.beginFill=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=1),this.beginTextureFill({texture:se.WHITE,color:e,alpha:t})},r.prototype.beginTextureFill=function(e){if(e instanceof se){J("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var t=arguments,n=t[0],a=t[1],o=t[2],s=t[3];e={texture:n,color:a,alpha:o,matrix:s},Object.keys(e).forEach(function(h){return e[h]===void 0&&delete e[h]})}e=Object.assign({texture:se.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var u=e.alpha>0;return u?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:u},e)):this._fillStyle.reset(),this},r.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},r.prototype.drawRect=function(e,t,n,a){return this.drawShape(new pe(e,t,n,a))},r.prototype.drawRoundedRect=function(e,t,n,a,o){return this.drawShape(new df(e,t,n,a,o))},r.prototype.drawCircle=function(e,t,n){return this.drawShape(new ff(e,t,n))},r.prototype.drawEllipse=function(e,t,n,a){return this.drawShape(new cf(e,t,n,a))},r.prototype.drawPolygon=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var a,o=!0,s=t[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(t[0])?a=t[0]:a=t;var u=new kr(a);return u.closeStroke=o,this.drawShape(u),this},r.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},r.prototype.drawStar=function(e,t,n,a,o,s){return s===void 0&&(s=0),this.drawPolygon(new gc(e,t,n,a,o,s))},r.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},r.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===de.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},r.prototype._render=function(e){this.finishPoly();var t=this._geometry,n=e.context.supports.uint32Indices;t.updateBatches(n),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},r.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(var a=0;a<n;a++){var o=e.batches[a],s=o.style.color,u=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),h=new Float32Array(e.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),l=new Uint16Array(e.indicesUint16.buffer,o.start*2,o.size),c={vertexData:u,blendMode:t,indices:l,uvs:h,_batchRGB:kt(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=c}},r.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,n=this.batches.length;t<n;t++){var a=this.batches[t];a.worldAlpha=this.worldAlpha*a.alpha,e.plugins[this.pluginName].render(a)}}},r.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),n=this._geometry,a=this.tint,o=this.worldAlpha,s=t.uniforms,u=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(var h=0,l=u.length;h<l;h++)this._renderDrawCallDirect(e,n.drawCalls[h])},r.prototype._renderDrawCallDirect=function(e,t){for(var n=t.texArray,a=t.type,o=t.size,s=t.start,u=n.count,h=0;h<u;h++)e.texture.bind(n.elements[h],h);e.geometry.draw(a,o,s)},r.prototype._resolveDirectShader=function(e){var t=this.shader,n=this.pluginName;if(!t){if(!ho[n]){for(var a=e.plugins.batch.MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var u={tint:new Float32Array([1,1,1,1]),translationMatrix:new ye,default:nr.from({uSamplers:o},!0)},h=e.plugins[n]._shader.program;ho[n]=new ar(h,u)}t=ho[n]}return t},r.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,n=t.minX,a=t.minY,o=t.maxX,s=t.maxY;this._bounds.addFrame(this.transform,n,a,o,s)}},r.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,r._TEMP_POINT),this._geometry.containsPoint(r._TEMP_POINT)},r.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=kt(this.tint,Jv),t=0;t<this.batches.length;t++){var n=this.batches[t],a=n._batchRGB,o=e[0]*a[0]*255,s=e[1]*a[1]*255,u=e[2]*a[2]*255,h=(o<<16)+(s<<8)+(u|0);n._tintRGB=(h>>16)+(h&65280)+((h&255)<<16)}}},r.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,n=t.a,a=t.b,o=t.c,s=t.d,u=t.tx,h=t.ty,l=this._geometry.points,c=this.vertexData,f=0,p=0;p<l.length;p+=2){var v=l[p],g=l[p+1];c[f++]=n*v+o*g+u,c[f++]=s*g+a*v+h}}},r.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},r.prototype.setMatrix=function(e){return this._matrix=e,this},r.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},r.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},r.prototype.destroy=function(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,i.prototype.destroy.call(this,e)},r._TEMP_POINT=new Ne,r}(tt);/*!
 * @pixi/sprite - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Wo=function(i,r){return Wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Wo(i,r)};function Zv(i,r){Wo(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Ei=new Ne,Qv=new Uint16Array([0,1,2,0,2,3]),jt=function(i){Zv(r,i);function r(e){var t=i.call(this)||this;return t._anchor=new _r(t._onAnchorUpdate,t,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),t._texture=null,t._width=0,t._height=0,t._tint=null,t._tintRGB=null,t.tint=16777215,t.blendMode=q.NORMAL,t._cachedTint=16777215,t.uvs=null,t.texture=e||se.EMPTY,t.vertexData=new Float32Array(8),t.vertexTrimmedData=null,t._transformID=-1,t._textureID=-1,t._transformTrimmedID=-1,t._textureTrimmedID=-1,t.indices=Qv,t.pluginName="batch",t.isSprite=!0,t._roundPixels=ne.ROUND_PIXELS,t}return r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Tr(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Tr(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){var e=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===e._updateID)){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,n=t.a,a=t.b,o=t.c,s=t.d,u=t.tx,h=t.ty,l=this.vertexData,c=e.trim,f=e.orig,p=this._anchor,v=0,g=0,A=0,E=0;if(c?(g=c.x-p._x*f.width,v=g+c.width,E=c.y-p._y*f.height,A=E+c.height):(g=-p._x*f.width,v=g+f.width,E=-p._y*f.height,A=E+f.height),l[0]=n*g+o*E+u,l[1]=s*E+a*g+h,l[2]=n*v+o*E+u,l[3]=s*E+a*v+h,l[4]=n*v+o*A+u,l[5]=s*A+a*v+h,l[6]=n*g+o*A+u,l[7]=s*A+a*g+h,this._roundPixels)for(var P=ne.RESOLUTION,T=0;T<l.length;++T)l[T]=Math.round((l[T]*P|0)/P)}},r.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,n=e.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,u=o.b,h=o.c,l=o.d,c=o.tx,f=o.ty,p=-a._x*n.width,v=p+n.width,g=-a._y*n.height,A=g+n.height;t[0]=s*p+h*g+c,t[1]=l*g+u*p+f,t[2]=s*v+h*g+c,t[3]=l*g+u*v+f,t[4]=s*v+h*A+c,t[5]=l*A+u*v+f,t[6]=s*p+h*A+c,t[7]=l*A+u*p+f},r.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(e){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new pe),e=this._localBoundsRect),this._bounds.getRectangle(e)):i.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ei);var t=this._texture.orig.width,n=this._texture.orig.height,a=-t*this.anchor.x,o=0;return Ei.x>=a&&Ei.x<a+t&&(o=-n*this.anchor.y,Ei.y>=o&&Ei.y<o+n)},r.prototype.destroy=function(e){i.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var t=typeof e=="boolean"?e:e&&e.texture;if(t){var n=typeof e=="boolean"?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null},r.from=function(e,t){var n=e instanceof se?e:se.from(e,t);return new r(n)},Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=Tr(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=Tr(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||se.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),r}(tt);/*!
 * @pixi/text - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Yo=function(i,r){return Yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Yo(i,r)};function eg(i,r){Yo(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Qr;(function(i){i[i.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",i[i.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Qr||(Qr={}));var lo={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Qr.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},tg=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],wr=function(){function i(r){this.styleID=0,this.reset(),co(this,r,r)}return i.prototype.clone=function(){var r={};return co(r,this,lo),new i(r)},i.prototype.reset=function(){co(this,lo,lo)},Object.defineProperty(i.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"breakWords",{get:function(){return this._breakWords},set:function(r){this._breakWords!==r&&(this._breakWords=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(r){this._dropShadow!==r&&(this._dropShadow=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(r){this._dropShadowAlpha!==r&&(this._dropShadowAlpha=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(r){this._dropShadowAngle!==r&&(this._dropShadowAngle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(r){this._dropShadowBlur!==r&&(this._dropShadowBlur=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(r){var e=fo(r);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(r){this._dropShadowDistance!==r&&(this._dropShadowDistance=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this._fill},set:function(r){var e=fo(r);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(r){this._fillGradientType!==r&&(this._fillGradientType=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(r){rg(this._fillGradientStops,r)||(this._fillGradientStops=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(r){this.fontFamily!==r&&(this._fontFamily=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(r){this._fontStyle!==r&&(this._fontStyle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(r){this._fontVariant!==r&&(this._fontVariant=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(r){this._fontWeight!==r&&(this._fontWeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(r){this._lineHeight!==r&&(this._lineHeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"leading",{get:function(){return this._leading},set:function(r){this._leading!==r&&(this._leading=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(r){this._lineJoin!==r&&(this._lineJoin=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(r){this._miterLimit!==r&&(this._miterLimit=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"padding",{get:function(){return this._padding},set:function(r){this._padding!==r&&(this._padding=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(r){var e=fo(r);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(r){this._strokeThickness!==r&&(this._strokeThickness=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(r){this._textBaseline!==r&&(this._textBaseline=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"trim",{get:function(){return this._trim},set:function(r){this._trim!==r&&(this._trim=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(r){this._whiteSpace!==r&&(this._whiteSpace=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(r){this._wordWrap!==r&&(this._wordWrap=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(r){this._wordWrapWidth!==r&&(this._wordWrapWidth=r,this.styleID++)},enumerable:!1,configurable:!0}),i.prototype.toFontString=function(){var r=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var t=e.length-1;t>=0;t--){var n=e[t].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&tg.indexOf(n)<0&&(n='"'+n+'"'),e[t]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+r+" "+e.join(",")},i}();function Bh(i){return typeof i=="number"?Un(i):(typeof i=="string"&&i.indexOf("0x")===0&&(i=i.replace("0x","#")),i)}function fo(i){if(Array.isArray(i)){for(var r=0;r<i.length;++r)i[r]=Bh(i[r]);return i}else return Bh(i)}function rg(i,r){if(!Array.isArray(i)||!Array.isArray(r)||i.length!==r.length)return!1;for(var e=0;e<i.length;++e)if(i[e]!==r[e])return!1;return!0}function co(i,r,e){for(var t in e)Array.isArray(r[t])?i[t]=r[t].slice():i[t]=r[t]}var ht=function(){function i(r,e,t,n,a,o,s,u,h){this.text=r,this.style=e,this.width=t,this.height=n,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=h}return i.measureText=function(r,e,t,n){n===void 0&&(n=i._canvas),t=t??e.wordWrap;var a=e.toFontString(),o=i.measureFont(a);o.fontSize===0&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=n.getContext("2d");s.font=a;for(var u=t?i.wordWrap(r,e,n):r,h=u.split(/(?:\r\n|\r|\n)/),l=new Array(h.length),c=0,f=0;f<h.length;f++){var p=s.measureText(h[f]).width+(h[f].length-1)*e.letterSpacing;l[f]=p,c=Math.max(c,p)}var v=c+e.strokeThickness;e.dropShadow&&(v+=e.dropShadowDistance);var g=e.lineHeight||o.fontSize+e.strokeThickness,A=Math.max(g,o.fontSize+e.strokeThickness)+(h.length-1)*(g+e.leading);return e.dropShadow&&(A+=e.dropShadowDistance),new i(r,e,v,A,h,l,g+e.leading,c,o)},i.wordWrap=function(r,e,t){t===void 0&&(t=i._canvas);for(var n=t.getContext("2d"),a=0,o="",s="",u=Object.create(null),h=e.letterSpacing,l=e.whiteSpace,c=i.collapseSpaces(l),f=i.collapseNewlines(l),p=!c,v=e.wordWrapWidth+h,g=i.tokenize(r),A=0;A<g.length;A++){var E=g[A];if(i.isNewline(E)){if(!f){s+=i.addLine(o),p=!c,o="",a=0;continue}E=" "}if(c){var P=i.isBreakingSpace(E),T=i.isBreakingSpace(o[o.length-1]);if(P&&T)continue}var L=i.getFromCache(E,h,u,n);if(L>v)if(o!==""&&(s+=i.addLine(o),o="",a=0),i.canBreakWords(E,e.breakWords))for(var m=i.wordWrapSplit(E),I=0;I<m.length;I++){for(var y=m[I],w=1;m[I+w];){var O=m[I+w],d=y[y.length-1];if(!i.canBreakChars(d,O,E,I,e.breakWords))y+=O;else break;w++}I+=y.length-1;var K=i.getFromCache(y,h,u,n);K+a>v&&(s+=i.addLine(o),p=!1,o="",a=0),o+=y,a+=K}else{o.length>0&&(s+=i.addLine(o),o="",a=0);var b=A===g.length-1;s+=i.addLine(E,!b),p=!1,o="",a=0}else L+a>v&&(p=!1,s+=i.addLine(o),o="",a=0),(o.length>0||!i.isBreakingSpace(E)||p)&&(o+=E,a+=L)}return s+=i.addLine(o,!1),s},i.addLine=function(r,e){return e===void 0&&(e=!0),r=i.trimRight(r),r=e?r+`
`:r,r},i.getFromCache=function(r,e,t,n){var a=t[r];if(typeof a!="number"){var o=r.length*e;a=n.measureText(r).width+o,t[r]=a}return a},i.collapseSpaces=function(r){return r==="normal"||r==="pre-line"},i.collapseNewlines=function(r){return r==="normal"},i.trimRight=function(r){if(typeof r!="string")return"";for(var e=r.length-1;e>=0;e--){var t=r[e];if(!i.isBreakingSpace(t))break;r=r.slice(0,-1)}return r},i.isNewline=function(r){return typeof r!="string"?!1:i._newlines.indexOf(r.charCodeAt(0))>=0},i.isBreakingSpace=function(r){return typeof r!="string"?!1:i._breakingSpaces.indexOf(r.charCodeAt(0))>=0},i.tokenize=function(r){var e=[],t="";if(typeof r!="string")return e;for(var n=0;n<r.length;n++){var a=r[n];if(i.isBreakingSpace(a)||i.isNewline(a)){t!==""&&(e.push(t),t=""),e.push(a);continue}t+=a}return t!==""&&e.push(t),e},i.canBreakWords=function(r,e){return e},i.canBreakChars=function(r,e,t,n,a){return!0},i.wordWrapSplit=function(r){return r.split("")},i.measureFont=function(r){if(i._fonts[r])return i._fonts[r];var e={ascent:0,descent:0,fontSize:0},t=i._canvas,n=i._context;n.font=r;var a=i.METRICS_STRING+i.BASELINE_SYMBOL,o=Math.ceil(n.measureText(a).width),s=Math.ceil(n.measureText(i.BASELINE_SYMBOL).width),u=2*s;s=s*i.BASELINE_MULTIPLIER|0,t.width=o,t.height=u,n.fillStyle="#f00",n.fillRect(0,0,o,u),n.font=r,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(a,0,s);var h=n.getImageData(0,0,o,u).data,l=h.length,c=o*4,f=0,p=0,v=!1;for(f=0;f<s;++f){for(var g=0;g<c;g+=4)if(h[p+g]!==255){v=!0;break}if(!v)p+=c;else break}for(e.ascent=s-f,p=l-c,v=!1,f=u;f>s;--f){for(var g=0;g<c;g+=4)if(h[p+g]!==255){v=!0;break}if(!v)p-=c;else break}return e.descent=f-s,e.fontSize=e.ascent+e.descent,i._fonts[r]=e,e},i.clearMetrics=function(r){r===void 0&&(r=""),r?delete i._fonts[r]:i._fonts={}},i}(),Pn=function(){try{var i=new OffscreenCanvas(0,0),r=i.getContext("2d");return r&&r.measureText?i:document.createElement("canvas")}catch{return document.createElement("canvas")}}();Pn.width=Pn.height=10;ht._canvas=Pn;ht._context=Pn.getContext("2d");ht._fonts={};ht.METRICS_STRING="|q";ht.BASELINE_SYMBOL="M";ht.BASELINE_MULTIPLIER=1.4;ht._newlines=[10,13];ht._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var ig={texture:!0,children:!1,baseTexture:!0},Vn=function(i){eg(r,i);function r(e,t,n){var a=this,o=!1;n||(n=document.createElement("canvas"),o=!0),n.width=3,n.height=3;var s=se.from(n);return s.orig=new pe,s.trim=new pe,a=i.call(this,s)||this,a._ownCanvas=o,a.canvas=n,a.context=a.canvas.getContext("2d"),a._resolution=ne.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=e,a.style=t,a.localStyleID=-1,a}return r.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!(!this.dirty&&e)){this._font=this._style.toFontString();var n=this.context,a=ht.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,u=a.lines,h=a.lineHeight,l=a.lineWidths,c=a.maxLineWidth,f=a.fontProperties;this.canvas.width=Math.ceil((Math.max(1,o)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,s)+t.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;for(var p,v,g=t.dropShadow?2:1,A=0;A<g;++A){var E=t.dropShadow&&A===0,P=E?Math.ceil(Math.max(1,s)+t.padding*2):0,T=P*this._resolution;if(E){n.fillStyle="black",n.strokeStyle="black";var L=t.dropShadowColor,m=kt(typeof L=="number"?L:Ts(L)),I=t.dropShadowBlur*this._resolution,y=t.dropShadowDistance*this._resolution;n.shadowColor="rgba("+m[0]*255+","+m[1]*255+","+m[2]*255+","+t.dropShadowAlpha+")",n.shadowBlur=I,n.shadowOffsetX=Math.cos(t.dropShadowAngle)*y,n.shadowOffsetY=Math.sin(t.dropShadowAngle)*y+T}else n.fillStyle=this._generateFillStyle(t,u,a),n.strokeStyle=t.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var w=0;w<u.length;w++)p=t.strokeThickness/2,v=t.strokeThickness/2+w*h+f.ascent,t.align==="right"?p+=c-l[w]:t.align==="center"&&(p+=(c-l[w])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(u[w],p+t.padding,v+t.padding-P,!0),t.fill&&this.drawLetterSpacing(u[w],p+t.padding,v+t.padding-P)}this.updateTexture()}},r.prototype.drawLetterSpacing=function(e,t,n,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing;if(s===0){a?this.context.strokeText(e,t,n):this.context.fillText(e,t,n);return}for(var u=t,h=Array.from?Array.from(e):e.split(""),l=this.context.measureText(e).width,c=0,f=0;f<h.length;++f){var p=h[f];a?this.context.strokeText(p,u,n):this.context.fillText(p,u,n),c=this.context.measureText(e.substring(f+1)).width,u+=l-c+s,l=c}},r.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=of(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var n=this._texture,a=this._style,o=a.trim?0:a.padding,s=n.baseTexture;n.trim.width=n._frame.width=Math.ceil(e.width/this._resolution),n.trim.height=n._frame.height=Math.ceil(e.height/this._resolution),n.trim.x=-o,n.trim.y=-o,n.orig.width=n._frame.width-o*2,n.orig.height=n._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},r.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),i.prototype._render.call(this,e)},r.prototype.getLocalBounds=function(e){return this.updateText(!0),i.prototype.getLocalBounds.call(this,e)},r.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},r.prototype._generateFillStyle=function(e,t,n){var a=e.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=e.dropShadow?e.dropShadowDistance:0,u=e.padding||0,h=Math.ceil(this.canvas.width/this._resolution)-s-u*2,l=Math.ceil(this.canvas.height/this._resolution)-s-u*2,c=a.slice(),f=e.fillGradientStops.slice();if(!f.length)for(var p=c.length+1,v=1;v<p;++v)f.push(v/p);if(c.unshift(a[0]),f.unshift(0),c.push(a[a.length-1]),f.push(1),e.fillGradientType===Qr.LINEAR_VERTICAL){o=this.context.createLinearGradient(h/2,u,h/2,l+u);for(var g=0,A=n.fontProperties.fontSize+e.strokeThickness,E=A/l,v=0;v<t.length;v++)for(var P=n.lineHeight*v,T=0;T<c.length;T++){var L=0;typeof f[T]=="number"?L=f[T]:L=T/c.length;var m=P/l+L*E,I=Math.max(g,m);I=Math.min(I,1),o.addColorStop(I,c[T]),g=I}}else{o=this.context.createLinearGradient(u,l/2,h+u,l/2);for(var y=c.length+1,w=1,v=0;v<c.length;v++){var O=void 0;typeof f[v]=="number"?O=f[v]:O=w/y,o.addColorStop(O,c[v]),w++}}return o},r.prototype.destroy=function(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},ig,e),i.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=Tr(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=Tr(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},e instanceof wr?this._style=e:this._style=new wr(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),r}(jt);/*!
 * @pixi/prepare - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ne.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qo=function(i,r){return qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},qo(i,r)};function ng(i,r){qo(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Ec=function(){function i(r){this.maxItemsPerFrame=r,this.itemsLeft=0}return i.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},i.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},i}();function ag(i,r){var e=!1;if(i&&i._textures&&i._textures.length){for(var t=0;t<i._textures.length;t++)if(i._textures[t]instanceof se){var n=i._textures[t].baseTexture;r.indexOf(n)===-1&&(r.push(n),e=!0)}}return e}function og(i,r){if(i.baseTexture instanceof Ae){var e=i.baseTexture;return r.indexOf(e)===-1&&r.push(e),!0}return!1}function sg(i,r){if(i._texture&&i._texture instanceof se){var e=i._texture.baseTexture;return r.indexOf(e)===-1&&r.push(e),!0}return!1}function ug(i,r){return r instanceof Vn?(r.updateText(!0),!0):!1}function hg(i,r){if(r instanceof wr){var e=r.toFontString();return ht.measureFont(e),!0}return!1}function lg(i,r){if(i instanceof Vn){r.indexOf(i.style)===-1&&r.push(i.style),r.indexOf(i)===-1&&r.push(i);var e=i._texture.baseTexture;return r.indexOf(e)===-1&&r.push(e),!0}return!1}function fg(i,r){return i instanceof wr?(r.indexOf(i)===-1&&r.push(i),!0):!1}var Xs=function(){function i(r){var e=this;this.limiter=new Ec(ne.UPLOADS_PER_FRAME),this.renderer=r,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(lg),this.registerFindHook(fg),this.registerFindHook(ag),this.registerFindHook(og),this.registerFindHook(sg),this.registerUploadHook(ug),this.registerUploadHook(hg)}return i.prototype.upload=function(r,e){typeof r=="function"&&(e=r,r=null),r&&this.add(r),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Le.system.addOnce(this.tick,this,wt.UTILITY))):e&&e()},i.prototype.tick=function(){setTimeout(this.delayedTick,0)},i.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var r=this.queue[0],e=!1;if(r&&!r._destroyed){for(var t=0,n=this.uploadHooks.length;t<n;t++)if(this.uploadHooks[t](this.uploadHookHelper,r)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Le.system.addOnce(this.tick,this,wt.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var t=0,n=a.length;t<n;t++)a[t]()}},i.prototype.registerFindHook=function(r){return r&&this.addHooks.push(r),this},i.prototype.registerUploadHook=function(r){return r&&this.uploadHooks.push(r),this},i.prototype.add=function(r){for(var e=0,t=this.addHooks.length;e<t&&!this.addHooks[e](r,this.queue);e++);if(r instanceof tt)for(var e=r.children.length-1;e>=0;e--)this.add(r.children[e]);return this},i.prototype.destroy=function(){this.ticking&&Le.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},i}();function Tc(i,r){return r instanceof Ae?(r._glTextures[i.CONTEXT_UID]||i.texture.bind(r),!0):!1}function cg(i,r){if(!(r instanceof ai))return!1;var e=r.geometry;r.finishPoly(),e.updateBatches();for(var t=e.batches,n=0;n<t.length;n++){var a=t[n].style.texture;a&&Tc(i,a.baseTexture)}return e.batchable||i.geometry.bind(e,r._resolveDirectShader(i)),!0}function dg(i,r){return i instanceof ai?(r.push(i),!0):!1}var _c=function(i){ng(r,i);function r(e){var t=i.call(this,e)||this;return t.uploadHookHelper=t.renderer,t.registerFindHook(dg),t.registerUploadHook(Tc),t.registerUploadHook(cg),t}return r}(Xs),pg=function(){function i(r){this.maxMilliseconds=r,this.frameStart=0}return i.prototype.beginFrame=function(){this.frameStart=Date.now()},i.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},i}();/*!
 * @pixi/spritesheet - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Oc=function(){function i(r,e,t){t===void 0&&(t=null),this._texture=r instanceof se?r:null,this.baseTexture=r instanceof Ae?r:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var n=this.baseTexture.resource;this.resolution=this._updateResolution(t||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return i.prototype._updateResolution=function(r){r===void 0&&(r=null);var e=this.data.meta.scale,t=Mi(r,null);return t===null&&(t=e!==void 0?parseFloat(e):1),t!==1&&this.baseTexture.setResolution(t),t},i.prototype.parse=function(r){this._batchIndex=0,this._callback=r,this._frameKeys.length<=i.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},i.prototype._processFrames=function(r){for(var e=r,t=i.BATCH_SIZE;e-r<t&&e<this._frameKeys.length;){var n=this._frameKeys[e],a=this._frames[n],o=a.frame;if(o){var s=null,u=null,h=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,l=new pe(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);a.rotated?s=new pe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new pe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(u=new pe(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[n]=new se(this.baseTexture,s,l,u,a.rotated?2:0,a.anchor),se.addToCache(this.textures[n],n)}e++}},i.prototype._processAnimations=function(){var r=this.data.animations||{};for(var e in r){this.animations[e]=[];for(var t=0;t<r[e].length;t++){var n=r[e][t];this.animations[e].push(this.textures[n])}}},i.prototype._parseComplete=function(){var r=this._callback;this._callback=null,this._batchIndex=0,r.call(this,this.textures)},i.prototype._nextBatch=function(){var r=this;this._processFrames(this._batchIndex*i.BATCH_SIZE),this._batchIndex++,setTimeout(function(){r._batchIndex*i.BATCH_SIZE<r._frameKeys.length?r._nextBatch():(r._processAnimations(),r._parseComplete())},0)},i.prototype.destroy=function(r){var e;r===void 0&&(r=!1);for(var t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,r&&((e=this._texture)===null||e===void 0||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},i.BATCH_SIZE=1e3,i}(),xc=function(){function i(){}return i.use=function(r,e){var t=this,n=r.name+"_image";if(!r.data||r.type!==wi.TYPE.JSON||!r.data.frames||t.resources[n]){e();return}var a={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},o=i.getResourcePath(r,t.baseUrl);t.add(n,o,a,function(u){if(u.error){e(u.error);return}var h=new Oc(u.texture,r.data,r.url);h.parse(function(){r.spritesheet=h,r.textures=h.textures,e()})})},i.getResourcePath=function(r,e){return r.isDataUrl?r.data.meta.image:ef.resolve(r.url.replace(e,""),r.data.meta.image)},i}();/*!
 * @pixi/sprite-tiling - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $o=function(i,r){return $o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},$o(i,r)};function Rc(i,r){$o(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Ti=new Ne,bc=function(i){Rc(r,i);function r(e,t,n){t===void 0&&(t=100),n===void 0&&(n=100);var a=i.call(this,e)||this;return a.tileTransform=new bs,a._width=t,a._height=n,a.uvMatrix=a.texture.uvMatrix||new Hn(e),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(r.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),r.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},r.prototype._render=function(e){var t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},r.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,a)},r.prototype.getLocalBounds=function(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new pe),e=this._localBoundsRect),this._bounds.getRectangle(e)):i.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ti);var t=this._width,n=this._height,a=-t*this.anchor._x;if(Ti.x>=a&&Ti.x<a+t){var o=-n*this.anchor._y;if(Ti.y>=o&&Ti.y<o+n)return!0}return!1},r.prototype.destroy=function(e){i.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},r.from=function(e,t){return typeof t=="number"&&(J("5.3.0","TilingSprite.from use options instead of width and height args"),t={width:t,height:arguments[2]}),new r(se.from(e,t),t.width,t.height)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),r}(jt),Gh=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,vg=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture2D(uSampler, coord);
    gl_FragColor = texSample * uColor;
}
`,gg=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,vn=new ye,Pc=function(i){Rc(r,i);function r(e){var t=i.call(this,e)||this,n={globals:t.renderer.globalUniforms};return t.shader=ar.from(Gh,vg,n),t.simpleShader=ar.from(Gh,gg,n),t.quad=new Fs,t.state=sr.for2d(),t}return r.prototype.render=function(e){var t=this.renderer,n=this.quad,a=n.vertices;a[0]=a[6]=e._width*-e.anchor.x,a[1]=a[3]=e._height*-e.anchor.y,a[2]=a[4]=e._width*(1-e.anchor.x),a[5]=a[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&(a=n.uvs,a[0]=a[6]=-e.anchor.x,a[1]=a[3]=-e.anchor.y,a[2]=a[4]=1-e.anchor.x,a[5]=a[7]=1-e.anchor.y),n.invalidate();var o=e._texture,s=o.baseTexture,u=e.tileTransform.localTransform,h=e.uvMatrix,l=s.isPowerOfTwo&&o.frame.width===s.width&&o.frame.height===s.height;l&&(s._glTextures[t.CONTEXT_UID]?l=s.wrapMode!==Bt.CLAMP:s.wrapMode===Bt.CLAMP&&(s.wrapMode=Bt.REPEAT));var c=l?this.simpleShader:this.shader,f=o.width,p=o.height,v=e._width,g=e._height;vn.set(u.a*f/v,u.b*f/g,u.c*p/v,u.d*p/g,u.tx/v,u.ty/g),vn.invert(),l?vn.prepend(h.mapCoord):(c.uniforms.uMapCoord=h.mapCoord.toArray(!0),c.uniforms.uClampFrame=h.uClampFrame,c.uniforms.uClampOffset=h.uClampOffset),c.uniforms.uTransform=vn.toArray(!0),c.uniforms.uColor=Rs(e.tint,e.worldAlpha,c.uniforms.uColor,s.alphaMode),c.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),c.uniforms.uSampler=o,t.shader.bind(c),t.geometry.bind(n),this.state.blendMode=xs(e.blendMode,s.alphaMode),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},r}(ki);/*!
 * @pixi/mesh - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Jo=function(i,r){return Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Jo(i,r)};function js(i,r){Jo(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Lc=function(){function i(r,e){this.uvBuffer=r,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return i.prototype.update=function(r){if(!(!r&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},i}(),po=new Ne,Hh=new kr,gt=function(i){js(r,i);function r(e,t,n,a){a===void 0&&(a=et.TRIANGLES);var o=i.call(this)||this;return o.geometry=e,e.refCount++,o.shader=t,o.state=n||sr.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o._roundPixels=ne.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(r.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),r.prototype._render=function(e){var t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===et.TRIANGLES&&t.length<r.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)},r.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.program.uniformData.translationMatrix&&(t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},r.prototype._renderToBatch=function(e){var t=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var n=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[n]),e.plugins[n].render(this)},r.prototype.calculateVertices=function(){var e=this.geometry,t=e.buffers[0].data;if(!(e.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var n=this.transform.worldTransform,a=n.a,o=n.b,s=n.c,u=n.d,h=n.tx,l=n.ty,c=this.vertexData,f=0;f<c.length/2;f++){var p=t[f*2],v=t[f*2+1];c[f*2]=a*p+s*v+h,c[f*2+1]=o*p+u*v+l}if(this._roundPixels)for(var g=ne.RESOLUTION,f=0;f<c.length;++f)c[f]=Math.round((c[f]*g|0)/g);this.vertexDirty=e.vertexDirtyId}},r.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Lc(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},r.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},r.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,po);for(var t=this.geometry.getBuffer("aVertexPosition").data,n=Hh.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,u=0;u+2<o;u+=s){var h=a[u]*2,l=a[u+1]*2,c=a[u+2]*2;if(n[0]=t[h],n[1]=t[h+1],n[2]=t[l],n[3]=t[l+1],n[4]=t[c],n[5]=t[c+1],Hh.contains(po.x,po.y))return!0}return!1},r.prototype.destroy=function(e){i.prototype.destroy.call(this,e),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},r.BATCHABLE_SIZE=100,r}(tt),Ag=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Sg=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,oi=function(i){js(r,i);function r(e,t){var n=this,a={uSampler:e,alpha:1,uTextureMatrix:ye.IDENTITY,uColor:new Float32Array([1,1,1,1])};return t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(a,t.uniforms),n=i.call(this,t.program||Vi.from(Sg,Ag),a)||this,n._colorDirty=!1,n.uvMatrix=new Hn(e),n.batchable=t.program===void 0,n.pluginName=t.pluginName,n.tint=t.tint,n.alpha=t.alpha,n}return Object.defineProperty(r.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),r.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;Rs(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},r}(ar),ji=function(i){js(r,i);function r(e,t,n){var a=i.call(this)||this,o=new Pe(e),s=new Pe(t,!0),u=new Pe(n,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,Re.FLOAT).addAttribute("aTextureCoord",s,2,!1,Re.FLOAT).addIndex(u),a._updateId=-1,a}return Object.defineProperty(r.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),r}(ni);/*!
 * @pixi/text-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Zo=function(i,r){return Zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Zo(i,r)};function yg(i,r){Zo(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Ki=function(){function i(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}return i}(),mg=function(){function i(){}return i.test=function(r){return typeof r=="string"&&r.indexOf("info face=")===0},i.parse=function(r){var e=r.match(/^[a-z]+\s+.+$/gm),t={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var n in e){var a=e[n].match(/^[a-z]+/gm)[0],o=e[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var u in o){var h=o[u].split("="),l=h[0],c=h[1].replace(/"/gm,""),f=parseFloat(c),p=isNaN(f)?c:f;s[l]=p}t[a].push(s)}var v=new Ki;return t.info.forEach(function(g){return v.info.push({face:g.face,size:parseInt(g.size,10)})}),t.common.forEach(function(g){return v.common.push({lineHeight:parseInt(g.lineHeight,10)})}),t.page.forEach(function(g){return v.page.push({id:parseInt(g.id,10),file:g.file})}),t.char.forEach(function(g){return v.char.push({id:parseInt(g.id,10),page:parseInt(g.page,10),x:parseInt(g.x,10),y:parseInt(g.y,10),width:parseInt(g.width,10),height:parseInt(g.height,10),xoffset:parseInt(g.xoffset,10),yoffset:parseInt(g.yoffset,10),xadvance:parseInt(g.xadvance,10)})}),t.kerning.forEach(function(g){return v.kerning.push({first:parseInt(g.first,10),second:parseInt(g.second,10),amount:parseInt(g.amount,10)})}),v},i}(),Qo=function(){function i(){}return i.test=function(r){return r instanceof XMLDocument&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null},i.parse=function(r){for(var e=new Ki,t=r.getElementsByTagName("info"),n=r.getElementsByTagName("common"),a=r.getElementsByTagName("page"),o=r.getElementsByTagName("char"),s=r.getElementsByTagName("kerning"),u=0;u<t.length;u++)e.info.push({face:t[u].getAttribute("face"),size:parseInt(t[u].getAttribute("size"),10)});for(var u=0;u<n.length;u++)e.common.push({lineHeight:parseInt(n[u].getAttribute("lineHeight"),10)});for(var u=0;u<a.length;u++)e.page.push({id:parseInt(a[u].getAttribute("id"),10)||0,file:a[u].getAttribute("file")});for(var u=0;u<o.length;u++){var h=o[u];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(var u=0;u<s.length;u++)e.kerning.push({first:parseInt(s[u].getAttribute("first"),10),second:parseInt(s[u].getAttribute("second"),10),amount:parseInt(s[u].getAttribute("amount"),10)});return e},i}(),Ig=function(){function i(){}return i.test=function(r){if(typeof r=="string"&&r.indexOf("<font>")>-1){var e=new self.DOMParser().parseFromString(r,"text/xml");return Qo.test(e)}return!1},i.parse=function(r){var e=new window.DOMParser().parseFromString(r,"text/xml");return Qo.parse(e)},i}(),vo=[mg,Qo,Ig];function wc(i){for(var r=0;r<vo.length;r++)if(vo[r].test(i))return vo[r];return null}function Eg(i,r,e,t,n,a){var o=e.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,u=e.dropShadow?e.dropShadowDistance:0,h=e.padding||0,l=Math.ceil(i.width/t)-u-h*2,c=Math.ceil(i.height/t)-u-h*2,f=o.slice(),p=e.fillGradientStops.slice();if(!p.length)for(var v=f.length+1,g=1;g<v;++g)p.push(g/v);if(f.unshift(o[0]),p.unshift(0),f.push(o[o.length-1]),p.push(1),e.fillGradientType===Qr.LINEAR_VERTICAL){s=r.createLinearGradient(l/2,h,l/2,c+h);for(var A=0,E=a.fontProperties.fontSize+e.strokeThickness,P=E/c,g=0;g<n.length;g++)for(var T=a.lineHeight*g,L=0;L<f.length;L++){var m=0;typeof p[L]=="number"?m=p[L]:m=L/f.length;var I=T/c+m*P,y=Math.max(A,I);y=Math.min(y,1),s.addColorStop(y,f[L]),A=y}}else{s=r.createLinearGradient(h,c/2,l+h,c/2);for(var w=f.length+1,O=1,g=0;g<f.length;g++){var d=void 0;typeof p[g]=="number"?d=p[g]:d=O/w,s.addColorStop(d,f[g]),O++}}return s}function Tg(i,r,e,t,n,a,o){var s=e.text,u=e.fontProperties;r.translate(t,n),r.scale(a,a);var h=o.strokeThickness/2,l=-(o.strokeThickness/2);if(r.font=o.toFontString(),r.lineWidth=o.strokeThickness,r.textBaseline=o.textBaseline,r.lineJoin=o.lineJoin,r.miterLimit=o.miterLimit,r.fillStyle=Eg(i,r,o,a,[s],e),r.strokeStyle=o.stroke,o.dropShadow){var c=o.dropShadowColor,f=kt(typeof c=="number"?c:Ts(c)),p=o.dropShadowBlur*a,v=o.dropShadowDistance*a;r.shadowColor="rgba("+f[0]*255+","+f[1]*255+","+f[2]*255+","+o.dropShadowAlpha+")",r.shadowBlur=p,r.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,r.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;o.stroke&&o.strokeThickness&&r.strokeText(s,h,l+e.lineHeight-u.descent),o.fill&&r.fillText(s,h,l+e.lineHeight-u.descent),r.setTransform(1,0,0,1,0,0),r.fillStyle="rgba(0, 0, 0, 0)"}function _g(i){typeof i=="string"&&(i=[i]);for(var r=[],e=0,t=i.length;e<t;e++){var n=i[e];if(Array.isArray(n)){if(n.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var a=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,u=o;s<=u;s++)r.push(String.fromCharCode(s))}else r.push.apply(r,n.split(""))}if(r.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return r}var rr=function(){function i(r,e,t){var n=r.info[0],a=r.common[0],o=r.page[0],s=Mi(o.file),u={};this._ownsTextures=t,this.font=n.face,this.size=n.size,this.lineHeight=a.lineHeight/s,this.chars={},this.pageTextures=u;for(var h=0;h<r.page.length;h++){var l=r.page[h],c=l.id,f=l.file;u[c]=e instanceof Array?e[h]:e[f]}for(var h=0;h<r.char.length;h++){var p=r.char[h],c=p.id,v=p.page,g=r.char[h],A=g.x,E=g.y,P=g.width,T=g.height,L=g.xoffset,m=g.yoffset,I=g.xadvance;A/=s,E/=s,P/=s,T/=s,L/=s,m/=s,I/=s;var y=new pe(A+u[v].frame.x/s,E+u[v].frame.y/s,P,T);this.chars[c]={xOffset:L,yOffset:m,xAdvance:I,kerning:{},texture:new se(u[v].baseTexture,y),page:v}}for(var h=0;h<r.kerning.length;h++){var w=r.kerning[h],O=w.first,d=w.second,K=w.amount;O/=s,d/=s,K/=s,this.chars[d]&&(this.chars[d].kerning[O]=K)}}return i.prototype.destroy=function(){for(var r in this.chars)this.chars[r].texture.destroy(),this.chars[r].texture=null;for(var r in this.pageTextures)this._ownsTextures&&this.pageTextures[r].destroy(!0),this.pageTextures[r]=null;this.chars=null,this.pageTextures=null},i.install=function(r,e,t){var n;if(r instanceof Ki)n=r;else{var a=wc(r);if(!a)throw new Error("Unrecognized data format for font.");n=a.parse(r)}e instanceof se&&(e=[e]);var o=new i(n,e,t);return i.available[o.font]=o,o},i.uninstall=function(r){var e=i.available[r];if(!e)throw new Error("No font found named '"+r+"'");e.destroy(),delete i.available[r]},i.from=function(r,e,t){if(!r)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},i.defaultOptions,t),a=n.chars,o=n.padding,s=n.resolution,u=n.textureWidth,h=n.textureHeight,l=_g(a),c=e instanceof wr?e:new wr(e),f=u,p=new Ki;p.info[0]={face:c.fontFamily,size:c.fontSize},p.common[0]={lineHeight:c.fontSize};for(var v=0,g=0,A,E,P,T=0,L=[],m=0;m<l.length;m++){A||(A=document.createElement("canvas"),A.width=u,A.height=h,E=A.getContext("2d"),P=new Ae(A,{resolution:s}),L.push(new se(P)),p.page.push({id:L.length-1,file:""}));var I=ht.measureText(l[m],c,!1,A),y=I.width,w=Math.ceil(I.height),O=Math.ceil((c.fontStyle==="italic"?2:1)*y);if(g>=h-w*s){if(g===0)throw new Error("[BitmapFont] textureHeight "+h+"px is "+("too small for "+c.fontSize+"px fonts"));--m,A=null,E=null,P=null,g=0,v=0,T=0;continue}if(T=Math.max(w+I.fontProperties.descent,T),O*s+v>=f){--m,g+=T*s,g=Math.ceil(g),v=0,T=0;continue}Tg(A,E,I,v,g,s,c);var d=I.text.charCodeAt(0);p.char.push({id:d,page:L.length-1,x:v/s,y:g/s,width:O,height:w,xoffset:0,yoffset:0,xadvance:Math.ceil(y-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),v+=(O+2*o)*s,v=Math.ceil(v)}var K=new i(p,L,!0);return i.available[r]!==void 0&&i.uninstall(r),i.available[r]=K,K},i.ALPHA=[["a","z"],["A","Z"]," "],i.NUMERIC=[["0","9"]],i.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],i.ASCII=[[" ","~"]],i.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:i.ALPHANUMERIC},i.available={},i}(),kh=[],Vh=[],Og=function(i){yg(r,i);function r(e,t){t===void 0&&(t={});var n=i.call(this)||this;n._tint=16777215,t.font&&(J("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),n._upgradeStyle(t));var a=Object.assign({},r.styleDefaults,t),o=a.align,s=a.tint,u=a.maxWidth,h=a.letterSpacing,l=a.fontName,c=a.fontSize;if(!rr.available[l])throw new Error('Missing BitmapFont "'+l+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=o,n._tint=s,n._fontName=l,n._fontSize=c||rr.available[l].size,n._text=e,n._maxWidth=u,n._maxLineHeight=0,n._letterSpacing=h,n._anchor=new _r(function(){n.dirty=!0},n,0,0),n._roundPixels=ne.ROUND_PIXELS,n.dirty=!0,n._textureCache={},n}return r.prototype.updateText=function(){for(var e,t=rr.available[this._fontName],n=this._fontSize/t.size,a=new Ne,o=[],s=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",h=u.length,l=this._maxWidth*t.size/this._fontSize,c=null,f=0,p=0,v=0,g=-1,A=0,E=0,P=0,T=0;T<h;T++){var L=u.charCodeAt(T),m=u.charAt(T);if(/(?:\s)/.test(m)&&(g=T,A=f),m==="\r"||m===`
`){s.push(f),p=Math.max(p,f),++v,++E,a.x=0,a.y+=t.lineHeight,c=null;continue}var I=t.chars[L];if(I){c&&I.kerning[c]&&(a.x+=I.kerning[c]);var y=Vh.pop()||{texture:se.EMPTY,line:0,charCode:0,position:new Ne};y.texture=I.texture,y.line=v,y.charCode=L,y.position.x=a.x+I.xOffset+this._letterSpacing/2,y.position.y=a.y+I.yOffset,o.push(y),a.x+=I.xAdvance+this._letterSpacing,f=a.x,P=Math.max(P,I.yOffset+I.texture.height),c=L,g!==-1&&l>0&&a.x>l&&(++E,Or(o,1+g-E,1+T-g),T=g,g=-1,s.push(A),p=Math.max(p,A),v++,a.x=0,a.y+=t.lineHeight,c=null)}}var w=u.charAt(u.length-1);w!=="\r"&&w!==`
`&&(/(?:\s)/.test(w)&&(f=A),s.push(f),p=Math.max(p,f));for(var O=[],T=0;T<=v;T++){var d=0;this._align==="right"?d=p-s[T]:this._align==="center"&&(d=(p-s[T])/2),O.push(d)}for(var K=o.length,b={},R=[],B=this._activePagesMeshData,T=0;T<B.length;T++)kh.push(B[T]);for(var T=0;T<K;T++){var F=o[T].texture,S=F.baseTexture.uid;if(!b[S]){var _=kh.pop();if(!_){var x=new ji,D=new oi(se.EMPTY),N=new gt(x,D);_={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:N,vertices:null,uvs:null,indices:null}}_.index=0,_.indexCount=0,_.vertexCount=0,_.uvsCount=0,_.total=0;var C=this._textureCache;C[S]=C[S]||new se(F.baseTexture),_.mesh.texture=C[S],_.mesh.tint=this._tint,R.push(_),b[S]=_}b[S].total++}for(var T=0;T<B.length;T++)R.indexOf(B[T])===-1&&this.removeChild(B[T].mesh);for(var T=0;T<R.length;T++)R[T].mesh.parent!==this&&this.addChild(R[T].mesh);this._activePagesMeshData=R;for(var T in b){var _=b[T],M=_.total;if(!(((e=_.indices)===null||e===void 0?void 0:e.length)>6*M)||_.vertices.length<gt.BATCHABLE_SIZE*2)_.vertices=new Float32Array(4*2*M),_.uvs=new Float32Array(4*2*M),_.indices=new Uint16Array(6*M);else for(var U=_.total,k=_.vertices,X=U*4*2;X<k.length;X++)k[X]=0;_.mesh.size=6*M}for(var T=0;T<K;T++){var m=o[T],W=m.position.x+O[m.line];this._roundPixels&&(W=Math.round(W));var z=W*n,$=m.position.y*n,F=m.texture,G=b[F.baseTexture.uid],j=F.frame,Z=F._uvs,Y=G.index++;G.indices[Y*6+0]=0+Y*4,G.indices[Y*6+1]=1+Y*4,G.indices[Y*6+2]=2+Y*4,G.indices[Y*6+3]=0+Y*4,G.indices[Y*6+4]=2+Y*4,G.indices[Y*6+5]=3+Y*4,G.vertices[Y*8+0]=z,G.vertices[Y*8+1]=$,G.vertices[Y*8+2]=z+j.width*n,G.vertices[Y*8+3]=$,G.vertices[Y*8+4]=z+j.width*n,G.vertices[Y*8+5]=$+j.height*n,G.vertices[Y*8+6]=z,G.vertices[Y*8+7]=$+j.height*n,G.uvs[Y*8+0]=Z.x0,G.uvs[Y*8+1]=Z.y0,G.uvs[Y*8+2]=Z.x1,G.uvs[Y*8+3]=Z.y1,G.uvs[Y*8+4]=Z.x2,G.uvs[Y*8+5]=Z.y2,G.uvs[Y*8+6]=Z.x3,G.uvs[Y*8+7]=Z.y3}this._textWidth=p*n,this._textHeight=(a.y+t.lineHeight)*n;for(var T in b){var _=b[T];if(this.anchor.x!==0||this.anchor.y!==0)for(var te=0,ie=this._textWidth*this.anchor.x,Q=this._textHeight*this.anchor.y,ee=0;ee<_.total;ee++)_.vertices[te++]-=ie,_.vertices[te++]-=Q,_.vertices[te++]-=ie,_.vertices[te++]-=Q,_.vertices[te++]-=ie,_.vertices[te++]-=Q,_.vertices[te++]-=ie,_.vertices[te++]-=Q;this._maxLineHeight=P*n;var he=_.mesh.geometry.getBuffer("aVertexPosition"),Ie=_.mesh.geometry.getBuffer("aTextureCoord"),me=_.mesh.geometry.getIndex();he.data=_.vertices,Ie.data=_.uvs,me.data=_.indices,he.update(),Ie.update(),me.update()}for(var T=0;T<o.length;T++)Vh.push(o[T])},r.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},r.prototype.getLocalBounds=function(){return this.validate(),i.prototype.getLocalBounds.call(this)},r.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!rr.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),r.prototype._upgradeStyle=function(e){if(typeof e.font=="string"){var t=e.font.split(" ");e.fontName=t.length===1?t[0]:t.slice(1).join(" "),t.length>=2&&(e.fontSize=parseInt(t[0],10))}else e.fontName=e.font.name,e.fontSize=typeof e.font.size=="number"?e.font.size:parseInt(e.font.size,10)},r.prototype.destroy=function(e){var t=this._textureCache;for(var n in t){var a=t[n];a.destroy(),delete t[n]}this._textureCache=null,i.prototype.destroy.call(this,e)},r.registerFont=function(e,t){return J("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),rr.install(e,t)},Object.defineProperty(r,"fonts",{get:function(){return J("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),rr.available},enumerable:!1,configurable:!0}),r.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},r}(tt),Nc=function(){function i(){}return i.add=function(){wi.setExtensionXhrType("fnt",wi.XHR_RESPONSE_TYPE.TEXT)},i.use=function(r,e){var t=wc(r.data);if(!t){e();return}for(var n=i.getBaseUrl(this,r),a=t.parse(r.data),o={},s=function(g){o[g.metadata.pageFile]=g.texture,Object.keys(o).length===a.page.length&&(r.bitmapFont=rr.install(a,o,!0),e())},u=0;u<a.page.length;++u){var h=a.page[u].file,l=n+h,c=!1;for(var f in this.resources){var p=this.resources[f];if(p.url===l){p.metadata.pageFile=h,p.texture?s(p):p.onAfterMiddleware.add(s),c=!0;break}}if(!c){var v={crossOrigin:r.crossOrigin,loadType:wi.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},r.metadata.imageMetadata),parentResource:r};this.add(l,v,s)}}},i.getBaseUrl=function(r,e){var t=e.isDataUrl?"":i.dirname(e.url);return e.isDataUrl&&(t==="."&&(t=""),r.baseUrl&&t&&r.baseUrl.charAt(r.baseUrl.length-1)==="/"&&(t+="/")),t=t.replace(r.baseUrl,""),t&&t.charAt(t.length-1)!=="/"&&(t+="/"),t},i.dirname=function(r){var e=r.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===r?".":e===""?"/":e},i}();/*!
 * @pixi/filter-alpha - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var es=function(i,r){return es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},es(i,r)};function xg(i,r){es(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Rg=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,bg=function(i){xg(r,i);function r(e){e===void 0&&(e=1);var t=i.call(this,ec,Rg,{uAlpha:1})||this;return t.alpha=e,t}return Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),r}(Xt);/*!
 * @pixi/filter-blur - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ts=function(i,r){return ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ts(i,r)};function Cc(i,r){ts(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Pg=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Lg(i,r){var e=Math.ceil(i/2),t=Pg,n="",a;r?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<i;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(e-1)+".0"),n+=s,n+=`
`}return t=t.replace("%blur%",n),t=t.replace("%size%",i.toString()),t}var wg={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Ng=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Cg(i){for(var r=wg[i],e=r.length,t=Ng,n="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<i;s++){var u=a.replace("%index%",s.toString());o=s,s>=e&&(o=i-s-1),u=u.replace("%value%",r[o].toString()),n+=u,n+=`
`}return t=t.replace("%blur%",n),t=t.replace("%size%",i.toString()),t}var Xh;(function(i){i[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2"})(Xh||(Xh={}));var jh;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS"})(jh||(jh={}));var zh;(function(i){i[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL"})(zh||(zh={}));var Wh;(function(i){i[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR"})(Wh||(Wh={}));var Yh;(function(i){i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Yh||(Yh={}));var qh;(function(i){i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(qh||(qh={}));var $h;(function(i){i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})($h||($h={}));var Jh;(function(i){i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.FLOAT=5126]="FLOAT",i[i.HALF_FLOAT=36193]="HALF_FLOAT"})(Jh||(Jh={}));var Zh;(function(i){i[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR"})(Zh||(Zh={}));var Qh;(function(i){i[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Qh||(Qh={}));var el;(function(i){i[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON"})(el||(el={}));var tl;(function(i){i[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(tl||(tl={}));var Ui;(function(i){i[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT"})(Ui||(Ui={}));var rl;(function(i){i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL"})(rl||(rl={}));var il;(function(i){i.LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp"})(il||(il={}));var nl;(function(i){i[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE"})(nl||(nl={}));var al;(function(i){i[i.NONE=0]="NONE",i[i.LOW=2]="LOW",i[i.MEDIUM=4]="MEDIUM",i[i.HIGH=8]="HIGH"})(al||(al={}));var rs=function(i){Cc(r,i);function r(e,t,n,a,o){t===void 0&&(t=8),n===void 0&&(n=4),a===void 0&&(a=ne.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,u=Lg(o,e),h=Cg(o);return s=i.call(this,u,h)||this,s.horizontal=e,s.resolution=a,s._quality=0,s.quality=n,s.blur=t,s}return r.prototype.apply=function(e,t,n,a){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,n,a);else{var o=e.getFilterTexture(),s=e.renderer,u=t,h=o;this.state.blend=!1,e.applyFilter(this,u,h,Ui.CLEAR);for(var l=1;l<this.passes-1;l++){e.bindAndClear(u,Ui.BLIT),this.uniforms.uSampler=h;var c=h;h=u,u=c,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,h,n,a),e.returnFilterTexture(o)}},Object.defineProperty(r.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+Math.abs(e)*2,this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),r}(Xt),Mg=function(i){Cc(r,i);function r(e,t,n,a){e===void 0&&(e=8),t===void 0&&(t=4),n===void 0&&(n=ne.FILTER_RESOLUTION),a===void 0&&(a=5);var o=i.call(this)||this;return o.blurXFilter=new rs(!0,e,t,n,a),o.blurYFilter=new rs(!1,e,t,n,a),o.resolution=n,o.quality=t,o.blur=e,o.repeatEdgePixels=!1,o}return r.prototype.apply=function(e,t,n,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var u=e.getFilterTexture();this.blurXFilter.apply(e,t,u,Ui.CLEAR),this.blurYFilter.apply(e,u,n,a),e.returnFilterTexture(u)}else s?this.blurYFilter.apply(e,t,n,a):this.blurXFilter.apply(e,t,n,a)},r.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(r.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),r}(Xt);/*!
 * @pixi/filter-color-matrix - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var is=function(i,r){return is=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},is(i,r)};function Dg(i,r){is(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Kg=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,ns=function(i){Dg(r,i);function r(){var e=this,t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return e=i.call(this,Gs,Kg,t)||this,e.alpha=1,e}return r.prototype._loadMatrix=function(e,t){t===void 0&&(t=!1);var n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n},r.prototype._multiply=function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e},r.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},r.prototype.brightness=function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},r.prototype.greyscale=function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},r.prototype.blackAndWhite=function(e){var t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),a=Math.sin(e),o=Math.sqrt,s=1/3,u=o(s),h=n+(1-n)*s,l=s*(1-n)-u*a,c=s*(1-n)+u*a,f=s*(1-n)+u*a,p=n+s*(1-n),v=s*(1-n)-u*a,g=s*(1-n)-u*a,A=s*(1-n)+u*a,E=n+s*(1-n),P=[h,l,c,0,0,f,p,v,0,0,g,A,E,0,0,0,0,0,1,0];this._loadMatrix(P,t)},r.prototype.contrast=function(e,t){var n=(e||0)+1,a=-.5*(n-1),o=[n,0,0,0,a,0,n,0,0,a,0,0,n,0,a,0,0,0,1,0];this._loadMatrix(o,t)},r.prototype.saturate=function(e,t){e===void 0&&(e=0);var n=e*2/3+1,a=(n-1)*-.5,o=[n,a,a,0,0,a,n,a,0,0,a,a,n,0,0,0,0,0,1,0];this._loadMatrix(o,t)},r.prototype.desaturate=function(){this.saturate(-1)},r.prototype.negative=function(e){var t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.sepia=function(e){var t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.technicolor=function(e){var t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.polaroid=function(e){var t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.toBGR=function(e){var t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.kodachrome=function(e){var t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.browni=function(e){var t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.vintage=function(e){var t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.colorTone=function(e,t,n,a,o){e=e||.2,t=t||.15,n=n||16770432,a=a||3375104;var s=(n>>16&255)/255,u=(n>>8&255)/255,h=(n&255)/255,l=(a>>16&255)/255,c=(a>>8&255)/255,f=(a&255)/255,p=[.3,.59,.11,0,0,s,u,h,e,0,l,c,f,t,0,s-l,u-c,h-f,0,0];this._loadMatrix(p,o)},r.prototype.night=function(e,t){e=e||.1;var n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,t)},r.prototype.predator=function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)},r.prototype.lsd=function(e){var t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.reset=function(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},Object.defineProperty(r.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),r}(Xt);ns.prototype.grayscale=ns.prototype.greyscale;/*!
 * @pixi/filter-displacement - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var as=function(i,r){return as=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},as(i,r)};function Ug(i,r){as(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Fg=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Bg=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,Gg=function(i){Ug(r,i);function r(e,t){var n=this,a=new ye;return e.renderable=!1,n=i.call(this,Bg,Fg,{mapSampler:e._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,n.maskSprite=e,n.maskMatrix=a,t==null&&(t=20),n.scale=new Ne(t,t),n}return r.prototype.apply=function(e,t,n,a){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),u=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&u!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/u,this.uniforms.rotation[3]=o.d/u),e.applyFilter(this,t,n,a)},Object.defineProperty(r.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),r}(Xt);/*!
 * @pixi/filter-fxaa - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var os=function(i,r){return os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},os(i,r)};function Hg(i,r){os(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var kg=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputPixel;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,Vg=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputPixel;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,Xg=function(i){Hg(r,i);function r(){return i.call(this,kg,Vg)||this}return r}(Xt);/*!
 * @pixi/filter-noise - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ss=function(i,r){return ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ss(i,r)};function jg(i,r){ss(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var zg=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,Wg=function(i){jg(r,i);function r(e,t){e===void 0&&(e=.5),t===void 0&&(t=Math.random());var n=i.call(this,Gs,zg,{uNoise:0,uSeed:0})||this;return n.noise=e,n.seed=t,n}return Object.defineProperty(r.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),r}(Xt);/*!
 * @pixi/mixin-cache-as-bitmap - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Mc=new ye;xe.prototype._cacheAsBitmap=!1;xe.prototype._cacheData=null;var Yg=function(){function i(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return i}();Object.defineProperties(xe.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(i){if(this._cacheAsBitmap!==i){this._cacheAsBitmap=i;var r;i?(this._cacheData||(this._cacheData=new Yg),r=this._cacheData,r.originalRender=this.render,r.originalRenderCanvas=this.renderCanvas,r.originalUpdateTransform=this.updateTransform,r.originalCalculateBounds=this.calculateBounds,r.originalGetLocalBounds=this.getLocalBounds,r.originalDestroy=this.destroy,r.originalContainsPoint=this.containsPoint,r.originalMask=this._mask,r.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(r=this._cacheData,r.sprite&&this._destroyCachedDisplayObject(),this.render=r.originalRender,this.renderCanvas=r.originalRenderCanvas,this.calculateBounds=r.originalCalculateBounds,this.getLocalBounds=r.originalGetLocalBounds,this.destroy=r.originalDestroy,this.updateTransform=r.originalUpdateTransform,this.containsPoint=r.originalContainsPoint,this._mask=r.originalMask,this.filterArea=r.originalFilterArea)}}}});xe.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};xe.prototype._initCachedDisplayObject=function(r){if(!(this._cacheData&&this._cacheData.sprite)){var e=this.alpha;this.alpha=1,r.batch.flush();var t=this.getLocalBounds(null,!0).clone();if(this.filters){var n=this.filters[0].padding;t.pad(n)}t.ceil(ne.RESOLUTION);var a=r.renderTexture.current,o=r.renderTexture.sourceFrame.clone(),s=r.renderTexture.destinationFrame.clone(),u=r.projection.transform,h=Nt.create({width:t.width,height:t.height}),l="cacheAsBitmap_"+Pr();this._cacheData.textureCacheId=l,Ae.addToCache(h.baseTexture,l),se.addToCache(h,l);var c=this.transform.localTransform.copyTo(Mc).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,r.render(this,h,!0,c,!1),r.projection.transform=u,r.renderTexture.bind(a,o,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var f=new jt(h);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(t.x/t.width),f.anchor.y=-(t.y/t.height),f.alpha=e,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)}};xe.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};xe.prototype._initCachedDisplayObjectCanvas=function(r){if(!(this._cacheData&&this._cacheData.sprite)){var e=this.getLocalBounds(null,!0),t=this.alpha;this.alpha=1;var n=r.context,a=r._projTransform;e.ceil(ne.RESOLUTION);var o=Nt.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+Pr();this._cacheData.textureCacheId=s,Ae.addToCache(o.baseTexture,s),se.addToCache(o,s);var u=Mc;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=e.x,u.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,o,!0,u,!1),r.context=n,r._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new jt(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(e.x/e.width),h.anchor.y=-(e.y/e.height),h.alpha=t,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}};xe.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};xe.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};xe.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ae.removeFromCache(this._cacheData.textureCacheId),se.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};xe.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};/*!
 * @pixi/mixin-get-child-by-name - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xe.prototype.name=null;tt.prototype.getChildByName=function(r,e){for(var t=0,n=this.children.length;t<n;t++)if(this.children[t].name===r)return this.children[t];if(e)for(var t=0,n=this.children.length;t<n;t++){var a=this.children[t];if(a.getChildByName){var o=this.children[t].getChildByName(r,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xe.prototype.getGlobalPosition=function(r,e){return r===void 0&&(r=new Ne),e===void 0&&(e=!1),this.parent?this.parent.toGlobal(this.position,r,e):(r.x=this.position.x,r.y=this.position.y),r};/*!
 * @pixi/mesh-extras - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var us=function(i,r){return us=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},us(i,r)};function si(i,r){us(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Dc=function(i){si(r,i);function r(e,t,n,a){e===void 0&&(e=100),t===void 0&&(t=100),n===void 0&&(n=10),a===void 0&&(a=10);var o=i.call(this)||this;return o.segWidth=n,o.segHeight=a,o.width=e,o.height=t,o.build(),o}return r.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],n=[],a=[],o=this.segWidth-1,s=this.segHeight-1,u=this.width/o,h=this.height/s,l=0;l<e;l++){var c=l%this.segWidth,f=l/this.segWidth|0;t.push(c*u,f*h),n.push(c/o,f/s)}for(var p=o*s,l=0;l<p;l++){var v=l%o,g=l/o|0,A=g*this.segWidth+v,E=g*this.segWidth+v+1,P=(g+1)*this.segWidth+v,T=(g+1)*this.segWidth+v+1;a.push(A,E,P,E,T,P)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},r}(ji),Kc=function(i){si(r,i);function r(e,t,n){e===void 0&&(e=200),n===void 0&&(n=0);var a=i.call(this,new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6))||this;return a.points=t,a._width=e,a.textureScale=n,a.build(),a}return Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),r.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),a.data=new Uint16Array((e.length-1)*6));var o=n.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var u=0,h=e[0],l=this._width*this.textureScale,c=e.length,f=0;f<c;f++){var p=f*4;if(this.textureScale>0){var v=h.x-e[f].x,g=h.y-e[f].y,A=Math.sqrt(v*v+g*g);h=e[f],u+=A/l}else u=f/(c-1);o[p]=u,o[p+1]=0,o[p+2]=u,o[p+3]=1}for(var E=0,f=0;f<c-1;f++){var p=f*2;s[E++]=p,s[E++]=p+1,s[E++]=p+2,s[E++]=p+2,s[E++]=p+1,s[E++]=p+3}n.update(),a.update(),this.updateVertices()}}},r.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t=e[0],n,a=0,o=0,s=this.buffers[0].data,u=e.length,h=0;h<u;h++){var l=e[h],c=h*4;h<e.length-1?n=e[h+1]:n=l,o=-(n.x-t.x),a=n.y-t.y;var f=Math.sqrt(a*a+o*o),p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=f,o/=f,a*=p,o*=p,s[c]=l.x+a,s[c+1]=l.y+o,s[c+2]=l.x-a,s[c+3]=l.y-o,t=l}this.buffers[0].update()}},r.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},r}(ji),Uc=function(i){si(r,i);function r(e,t,n){n===void 0&&(n=0);var a=this,o=new Kc(e.height,t,n),s=new oi(e);return n>0&&(e.baseTexture.wrapMode=Bt.REPEAT),a=i.call(this,o,s)||this,a.autoUpdate=!0,a}return r.prototype._render=function(e){var t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),i.prototype._render.call(this,e)},r}(gt),Fc=function(i){si(r,i);function r(e,t,n){var a=this,o=new Dc(e.width,e.height,t,n),s=new oi(se.WHITE);return a=i.call(this,o,s)||this,a.texture=e,a}return r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),i.prototype._render.call(this,e)},r.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),i.prototype.destroy.call(this,e)},r}(gt),Bc=function(i){si(r,i);function r(e,t,n,a,o){e===void 0&&(e=se.EMPTY);var s=this,u=new ji(t,n,a);u.getBuffer("aVertexPosition").static=!1;var h=new oi(e);return s=i.call(this,u,h,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),i.prototype._render.call(this,e)},r}(gt),gn=10,zi=function(i){si(r,i);function r(e,t,n,a,o){t===void 0&&(t=gn),n===void 0&&(n=gn),a===void 0&&(a=gn),o===void 0&&(o=gn);var s=i.call(this,se.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=t,s._rightWidth=a,s._topHeight=n,s._bottomHeight=o,s.texture=e,s}return r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),r.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},r.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},r.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,a=this._height>n?1:this._height/n,o=Math.min(t,a);return o},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),r.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var n=1/this._origWidth,a=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=a*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},r}(Fc);/*!
 * @pixi/sprite-animated - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var hs=function(i,r){return hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},hs(i,r)};function qg(i,r){hs(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var $g=function(i){qg(r,i);function r(e,t){t===void 0&&(t=!0);var n=i.call(this,e[0]instanceof se?e[0]:e[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=t,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=e,n}return r.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Le.shared.remove(this.update,this),this._isConnectedToTicker=!1))},r.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Le.shared.add(this.update,this,wt.HIGH),this._isConnectedToTicker=!0))},r.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},r.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},r.prototype.update=function(e){if(this._playing){var t=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=t/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())}},r.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},r.prototype.destroy=function(e){this.stop(),i.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},r.fromFrames=function(e){for(var t=[],n=0;n<e.length;++n)t.push(se.from(e[n]));return new r(t)},r.fromImages=function(e){for(var t=[],n=0;n<e.length;++n)t.push(se.from(e[n]));return new r(t)},Object.defineProperty(r.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof se)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Le.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Le.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),r}(jt);/*!
 * pixi.js - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ls=function(i,r){return ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ls(i,r)};function ol(i,r){ls(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var re="5.0.0";function Jg(){var i=this;Object.defineProperties(i,{SVG_SIZE:{get:function(){return J(re,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),i.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return J(re,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),i.Transform}},TransformBase:{get:function(){return J(re,"PIXI.TransformBase class has been removed, use PIXI.Transform"),i.Transform}},TRANSFORM_MODE:{get:function(){return J(re,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return J(re,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),i.Renderer}},CanvasRenderTarget:{get:function(){return J(re,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),i.utils.CanvasRenderTarget}},loader:{get:function(){return J(re,"PIXI.loader instance has moved to PIXI.Loader.shared"),i.Loader.shared}},FilterManager:{get:function(){return J(re,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),i.systems.FilterSystem}},CanvasTinter:{get:function(){return J("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),i.canvasUtils}},GroupD8:{get:function(){return J("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),i.groupD8}}}),i.accessibility={},Object.defineProperties(i.accessibility,{AccessibilityManager:{get:function(){return J("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),i.AccessibilityManager}}}),i.interaction={},Object.defineProperties(i.interaction,{InteractionManager:{get:function(){return J("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),i.InteractionManager}},InteractionData:{get:function(){return J("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),i.InteractionData}},InteractionEvent:{get:function(){return J("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),i.InteractionEvent}}}),i.prepare={},Object.defineProperties(i.prepare,{BasePrepare:{get:function(){return J("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),i.BasePrepare}},Prepare:{get:function(){return J("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),i.Prepare}},CanvasPrepare:{get:function(){return J("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),i.CanvasPrepare}}}),i.extract={},Object.defineProperties(i.extract,{Extract:{get:function(){return J("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),i.Extract}},CanvasExtract:{get:function(){return J("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),i.CanvasExtract}}}),i.extras={},Object.defineProperties(i.extras,{TilingSprite:{get:function(){return J(re,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),i.TilingSprite}},TilingSpriteRenderer:{get:function(){return J(re,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),i.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return J(re,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),i.AnimatedSprite}},BitmapText:{get:function(){return J(re,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),i.BitmapText}}}),i.TilingSprite.fromFrame=function(f,p,v){return J("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),i.TilingSprite.from(f,{width:p,height:v})},i.TilingSprite.fromImage=function(f,p,v,g){return g===void 0&&(g={}),J("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),g&&typeof g!="object"&&(g={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),g.width=p,g.height=v,i.TilingSprite.from(f,g)},Object.defineProperties(i.utils,{getSvgSize:{get:function(){return J(re,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),i.resources.SVGResource.getSize}}}),i.mesh={},Object.defineProperties(i.mesh,{Mesh:{get:function(){return J(re,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),i.SimpleMesh}},NineSlicePlane:{get:function(){return J(re,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),i.NineSlicePlane}},Plane:{get:function(){return J(re,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),i.SimplePlane}},Rope:{get:function(){return J(re,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),i.SimpleRope}},RawMesh:{get:function(){return J(re,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),i.Mesh}},CanvasMeshRenderer:{get:function(){return J(re,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),i.CanvasMeshRenderer}},MeshRenderer:{get:function(){return J(re,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),i.MeshRenderer}}}),i.particles={},Object.defineProperties(i.particles,{ParticleContainer:{get:function(){return J(re,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),i.ParticleContainer}},ParticleRenderer:{get:function(){return J(re,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),i.ParticleRenderer}}}),i.ticker={},Object.defineProperties(i.ticker,{Ticker:{get:function(){return J(re,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),i.Ticker}},shared:{get:function(){return J(re,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),i.Ticker.shared}}}),i.loaders={},Object.defineProperties(i.loaders,{Loader:{get:function(){return J(re,"PIXI.loaders.Loader class has moved to PIXI.Loader"),i.Loader}},Resource:{get:function(){return J(re,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),i.LoaderResource}},bitmapFontParser:{get:function(){return J(re,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),i.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){J(re,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return J(re,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),i.SpritesheetLoader.use}},getResourcePath:{get:function(){return J(re,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),i.SpritesheetLoader.getResourcePath}}}),i.Loader.addPixiMiddleware=function(f){return J(re,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),i.loaders.Loader.registerPlugin({use:f()})};var r=function(c){return"on"+c.charAt(0).toUpperCase()+c.slice(1)};Object.assign(i.Loader.prototype,{on:function(c){var f=r(c);J(re,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+f+".add")},once:function(c){var f=r(c);J(re,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+f+".once")},off:function(c){var f=r(c);J(re,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+f+".detach")}}),Object.defineProperty(i.extract,"WebGLExtract",{get:function(){return J(re,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),i.Extract}}),Object.defineProperty(i.prepare,"WebGLPrepare",{get:function(){return J(re,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),i.Prepare}}),i.Container.prototype._renderWebGL=function(f){J(re,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(f)},i.Container.prototype.renderWebGL=function(f){J(re,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(f)},i.DisplayObject.prototype.renderWebGL=function(f){J(re,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(f)},i.Container.prototype.renderAdvancedWebGL=function(f){J(re,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(f)},Object.defineProperties(i.settings,{TRANSFORM_MODE:{get:function(){return J(re,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){J(re,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=i.BaseTexture;e.prototype.loadSource=function(f){J(re,"PIXI.BaseTexture.loadSource method has been deprecated");var p=i.resources.autoDetectResource(f);p.internal=!0,this.setResource(p),this.update()};var t=!1;Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return J(re,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var c;return J(re,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),(c=this.resource)===null||c===void 0?void 0:c.url},set:function(c){J(re,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=c)}},source:{get:function(){return J(re,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(c){J(re,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=c)}},premultiplyAlpha:{get:function(){return J("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode!==0},set:function(c){J("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(c)}},_id:{get:function(){return t||(J("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),t=!0),this._batchLocation},set:function(c){this._batchLocation=c}}}),e.fromImage=function(f,p,v,g){J(re,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var A={scale:g,crossorigin:p};return e.from(f,{scaleMode:v,resourceOptions:A})},e.fromCanvas=function(f,p){return J(re,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(f,{scaleMode:p})},e.fromSVG=function(f,p,v,g){J(re,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var A={scale:g,crossorigin:p};return e.from(f,{scaleMode:v,resourceOptions:A})},Object.defineProperties(i.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return J("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode!==0},set:function(c){J("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(c)}}}),i.Point.prototype.copy=function(f){return J(re,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(f)},i.ObservablePoint.prototype.copy=function(f){return J(re,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(f)},i.Rectangle.prototype.copy=function(f){return J(re,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(f)},i.Matrix.prototype.copy=function(f){return J(re,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(f)},i.systems.StateSystem.prototype.setState=function(f){return J("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(f)},Object.assign(i.systems.FilterSystem.prototype,{getRenderTarget:function(c,f){return J(re,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,f)},returnRenderTarget:function(c){J(re,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(c)},calculateScreenSpaceMatrix:function(c){J(re,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var f=c.identity(),p=this.activeState,v=p.sourceFrame,g=p.destinationFrame;return f.translate(v.x/g.width,v.y/g.height),f.scale(g.width,g.height),f},calculateNormalizedScreenSpaceMatrix:function(c){J(re,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var f=this.activeState,p=f.sourceFrame,v=f.destinationFrame,g=c.identity();g.translate(p.x/v.width,p.y/v.height);var A=v.width/p.width,E=v.height/p.height;return g.scale(A,E),g}}),Object.defineProperties(i.RenderTexture.prototype,{sourceFrame:{get:function(){return J(re,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return J(re,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var n=function(c){ol(f,c);function f(p,v,g,A){var E=this;return J(re,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),E=c.call(this,!0,p,v,g,A)||this,E}return f}(i.filters.BlurFilterPass),a=function(c){ol(f,c);function f(p,v,g,A){var E=this;return J(re,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),E=c.call(this,!1,p,v,g,A)||this,E}return f}(i.filters.BlurFilterPass);Object.assign(i.filters,{BlurXFilter:n,BlurYFilter:a});var o=i.Sprite,s=i.Texture,u=i.Graphics;u.prototype.generateCanvasTexture||(u.prototype.generateCanvasTexture=function(){J(re,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(u.prototype,"graphicsData",{get:function(){return J(re,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}});function h(c,f,p,v){return J(re,"PIXI.Sprite."+c+" method is deprecated, use PIXI.Sprite.from"),o.from(f,{resourceOptions:{scale:v,crossorigin:p}})}o.fromImage=h.bind(null,"fromImage"),o.fromSVG=h.bind(null,"fromSVG"),o.fromCanvas=h.bind(null,"fromCanvas"),o.fromVideo=h.bind(null,"fromVideo"),o.fromFrame=h.bind(null,"fromFrame");function l(c,f,p,v){return J(re,"PIXI.Texture."+c+" method is deprecated, use PIXI.Texture.from"),s.from(f,{resourceOptions:{scale:v,crossorigin:p}})}s.fromImage=l.bind(null,"fromImage"),s.fromSVG=l.bind(null,"fromSVG"),s.fromCanvas=l.bind(null,"fromCanvas"),s.fromVideo=l.bind(null,"fromVideo"),s.fromFrame=l.bind(null,"fromFrame"),Object.defineProperty(i.AbstractRenderer.prototype,"autoResize",{get:function(){return J(re,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(c){J(re,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=c}}),Object.defineProperty(i.Renderer.prototype,"textureManager",{get:function(){return J(re,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),i.utils.mixins={mixin:function(){J(re,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){J(re,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){J(re,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(i.BitmapText.prototype,"font",{get:function(){return J("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(c){if(J("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),!!c){var f={font:c};this._upgradeStyle(f),f.fontSize=f.fontSize||i.BitmapFont.available[f.fontName].size,this._fontName=f.fontName,this._fontSize=f.fontSize,this.dirty=!0}}})}At.registerPlugin("accessibility",ws);At.registerPlugin("extract",oc);At.registerPlugin("interaction",Ns);At.registerPlugin("particle",dc);At.registerPlugin("prepare",_c);At.registerPlugin("batch",ac);At.registerPlugin("tilingSprite",Pc);Lr.registerPlugin(Nc);Lr.registerPlugin(xc);Xi.registerPlugin(gf);Xi.registerPlugin(lc);var Zg="5.3.12",Qg={AlphaFilter:bg,BlurFilter:Mg,BlurFilterPass:rs,ColorMatrixFilter:ns,DisplacementFilter:Gg,FXAAFilter:Xg,NoiseFilter:Wg};/*!
 * @pixi/canvas-renderer - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/canvas-renderer is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fs=function(i,r){return fs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},fs(i,r)};function eA(i,r){fs(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var tA=function(){function i(r){this.renderer=r,this._foundShapes=[]}return i.prototype.pushMask=function(r){var e=this.renderer,t=r.maskObject||r;e.context.save();var n=this._foundShapes;if(this.recursiveFindShapes(t,n),n.length>0){var a=e.context;a.beginPath();for(var o=0;o<n.length;o++){var s=n[o],u=s.transform.worldTransform;this.renderer.setContextTransform(u),this.renderGraphicsShape(s)}n.length=0,a.clip()}},i.prototype.recursiveFindShapes=function(r,e){r.geometry&&r.geometry.graphicsData&&e.push(r);var t=r.children;if(t)for(var n=0;n<t.length;n++)this.recursiveFindShapes(t[n],e)},i.prototype.renderGraphicsShape=function(r){r.finishPoly();var e=this.renderer.context,t=r.geometry.graphicsData,n=t.length;if(n!==0)for(var a=0;a<n;a++){var o=t[a],s=o.shape;if(s.type===de.POLY){var u=s.points;e.moveTo(u[0],u[1]);for(var h=1;h<u.length/2;h++)e.lineTo(u[h*2],u[h*2+1]);u[0]===u[u.length-2]&&u[1]===u[u.length-1]&&e.closePath()}else if(s.type===de.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(s.type===de.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(s.type===de.ELIP){var l=s.width*2,c=s.height*2,f=s.x-l/2,p=s.y-c/2,v=.5522848,g=l/2*v,A=c/2*v,E=f+l,P=p+c,T=f+l/2,L=p+c/2;e.moveTo(f,L),e.bezierCurveTo(f,L-A,T-g,p,T,p),e.bezierCurveTo(T+g,p,E,L-A,E,L),e.bezierCurveTo(E,L+A,T+g,P,T,P),e.bezierCurveTo(T-g,P,f,L+A,f,L),e.closePath()}else if(s.type===de.RREC){var m=s.x,I=s.y,y=s.width,w=s.height,O=s.radius,d=Math.min(y,w)/2|0;O=O>d?d:O,e.moveTo(m,I+O),e.lineTo(m,I+w-O),e.quadraticCurveTo(m,I+w,m+O,I+w),e.lineTo(m+y-O,I+w),e.quadraticCurveTo(m+y,I+w,m+y,I+w-O),e.lineTo(m+y,I+O),e.quadraticCurveTo(m+y,I,m+y-O,I),e.lineTo(m+O,I),e.quadraticCurveTo(m,I,m,I+O),e.closePath()}}},i.prototype.popMask=function(r){r.context.restore(),r.invalidateBlendMode()},i.prototype.destroy=function(){},i}();function sl(i){var r=document.createElement("canvas");r.width=6,r.height=1;var e=r.getContext("2d");return e.fillStyle=i,e.fillRect(0,0,6,1),r}function Gc(){if(typeof document>"u")return!1;var i=sl("#ff00ff"),r=sl("#ffff00"),e=document.createElement("canvas");e.width=6,e.height=1;var t=e.getContext("2d");t.globalCompositeOperation="multiply",t.drawImage(i,0,0),t.drawImage(r,2,0);var n=t.getImageData(2,0,1,1);if(!n)return!1;var a=n.data;return a[0]===255&&a[1]===0&&a[2]===0}function rA(i){return i===void 0&&(i=[]),Gc()?(i[q.NORMAL]="source-over",i[q.ADD]="lighter",i[q.MULTIPLY]="multiply",i[q.SCREEN]="screen",i[q.OVERLAY]="overlay",i[q.DARKEN]="darken",i[q.LIGHTEN]="lighten",i[q.COLOR_DODGE]="color-dodge",i[q.COLOR_BURN]="color-burn",i[q.HARD_LIGHT]="hard-light",i[q.SOFT_LIGHT]="soft-light",i[q.DIFFERENCE]="difference",i[q.EXCLUSION]="exclusion",i[q.HUE]="hue",i[q.SATURATION]="saturate",i[q.COLOR]="color",i[q.LUMINOSITY]="luminosity"):(i[q.NORMAL]="source-over",i[q.ADD]="lighter",i[q.MULTIPLY]="source-over",i[q.SCREEN]="source-over",i[q.OVERLAY]="source-over",i[q.DARKEN]="source-over",i[q.LIGHTEN]="source-over",i[q.COLOR_DODGE]="source-over",i[q.COLOR_BURN]="source-over",i[q.HARD_LIGHT]="source-over",i[q.SOFT_LIGHT]="source-over",i[q.DIFFERENCE]="source-over",i[q.EXCLUSION]="source-over",i[q.HUE]="source-over",i[q.SATURATION]="source-over",i[q.COLOR]="source-over",i[q.LUMINOSITY]="source-over"),i[q.NORMAL_NPM]=i[q.NORMAL],i[q.ADD_NPM]=i[q.ADD],i[q.SCREEN_NPM]=i[q.SCREEN],i[q.SRC_IN]="source-in",i[q.SRC_OUT]="source-out",i[q.SRC_ATOP]="source-atop",i[q.DST_OVER]="destination-over",i[q.DST_IN]="destination-in",i[q.DST_OUT]="destination-out",i[q.DST_ATOP]="destination-atop",i[q.XOR]="xor",i[q.SUBTRACT]="source-over",i}var iA=new ye,St=function(i){eA(r,i);function r(e){var t=i.call(this,Rr.CANVAS,e)||this;if(t.rootContext=t.view.getContext("2d",{alpha:t.transparent}),t.context=t.rootContext,t.refresh=!0,t.maskManager=new tA(t),t.smoothProperty="imageSmoothingEnabled",!t.rootContext.imageSmoothingEnabled){var n=t.rootContext;n.webkitImageSmoothingEnabled?t.smoothProperty="webkitImageSmoothingEnabled":n.mozImageSmoothingEnabled?t.smoothProperty="mozImageSmoothingEnabled":n.oImageSmoothingEnabled?t.smoothProperty="oImageSmoothingEnabled":n.msImageSmoothingEnabled&&(t.smoothProperty="msImageSmoothingEnabled")}return t.initPlugins(r.__plugins),t.blendModes=rA(),t._activeBlendMode=null,t._outerBlend=!1,t._projTransform=null,t.renderingToScreen=!1,Es("Canvas"),t.resize(t.options.width,t.options.height),t}return r.prototype.render=function(e,t,n,a,o){if(this.view){this.renderingToScreen=!t,this.emit("prerender");var s=this.resolution;t?(t=t.castToBaseTexture(),t._canvasRenderTarget||(t._canvasRenderTarget=new qr(t.width,t.height,t.resolution),t.resource=new _f.CanvasResource(t._canvasRenderTarget.canvas),t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext;var u=this.context;if(this._projTransform=a||null,t||(this._lastObjectRendered=e),!o){var h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}if(u.save(),u.setTransform(1,0,0,1,0,0),u.globalAlpha=1,this._activeBlendMode=q.NORMAL,this._outerBlend=!1,u.globalCompositeOperation=this.blendModes[q.NORMAL],n!==void 0?n:this.clearBeforeRender)if(this.renderingToScreen)this.transparent?u.clearRect(0,0,this.width,this.height):(u.fillStyle=this._backgroundColorString,u.fillRect(0,0,this.width,this.height));else{t=t,t._canvasRenderTarget.clear();var l=t.clearColor;l[3]>0&&(u.fillStyle=Un(_s(l)),u.fillRect(0,0,t.realWidth,t.realHeight))}var c=this.context;this.context=u,e.renderCanvas(this),this.context=c,u.restore(),this.resolution=s,this._projTransform=null,this.emit("postrender")}},r.prototype.setContextTransform=function(e,t,n){var a=e,o=this._projTransform,s=this.resolution;n=n||s,o&&(a=iA,a.copyFrom(e),a.prepend(o)),t?this.context.setTransform(a.a*n,a.b*n,a.c*n,a.d*n,a.tx*s|0,a.ty*s|0):this.context.setTransform(a.a*n,a.b*n,a.c*n,a.d*n,a.tx*s,a.ty*s)},r.prototype.clear=function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)},r.prototype.setBlendMode=function(e,t){var n=e===q.SRC_IN||e===q.SRC_OUT||e===q.DST_IN||e===q.DST_ATOP;!t&&n&&(e=q.NORMAL),this._activeBlendMode!==e&&(this._activeBlendMode=e,this._outerBlend=n,this.context.globalCompositeOperation=this.blendModes[e])},r.prototype.destroy=function(e){i.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},r.prototype.resize=function(e,t){i.prototype.resize.call(this,e,t),this.smoothProperty&&(this.rootContext[this.smoothProperty]=ne.SCALE_MODE===ut.LINEAR)},r.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},r.registerPlugin=function(e,t){r.__plugins=r.__plugins||{},r.__plugins[e]=t},r}(Bs),Oe={canvas:null,getTintedCanvas:function(i,r){var e=i.texture;r=Oe.roundColor(r);var t="#"+("00000"+(r|0).toString(16)).substr(-6);e.tintCache=e.tintCache||{};var n=e.tintCache[t],a;if(n){if(n.tintId===e._updateID)return e.tintCache[t];a=e.tintCache[t]}else a=document.createElement("canvas");if(Oe.tintMethod(e,r,a),a.tintId=e._updateID,Oe.convertTintToImage){var o=new Image;o.src=a.toDataURL(),e.tintCache[t]=o}else e.tintCache[t]=a;return a},getTintedPattern:function(i,r){r=Oe.roundColor(r);var e="#"+("00000"+(r|0).toString(16)).substr(-6);i.patternCache=i.patternCache||{};var t=i.patternCache[e];return t&&t.tintId===i._updateID||(Oe.canvas||(Oe.canvas=document.createElement("canvas")),Oe.tintMethod(i,r,Oe.canvas),t=Oe.canvas.getContext("2d").createPattern(Oe.canvas,"repeat"),t.tintId=i._updateID,i.patternCache[e]=t),t},tintWithMultiply:function(i,r,e){var t=e.getContext("2d"),n=i._frame.clone(),a=i.baseTexture.resolution;n.x*=a,n.y*=a,n.width*=a,n.height*=a,e.width=Math.ceil(n.width),e.height=Math.ceil(n.height),t.save(),t.fillStyle="#"+("00000"+(r|0).toString(16)).substr(-6),t.fillRect(0,0,n.width,n.height),t.globalCompositeOperation="multiply";var o=i.baseTexture.getDrawableSource();t.drawImage(o,n.x,n.y,n.width,n.height,0,0,n.width,n.height),t.globalCompositeOperation="destination-atop",t.drawImage(o,n.x,n.y,n.width,n.height,0,0,n.width,n.height),t.restore()},tintWithOverlay:function(i,r,e){var t=e.getContext("2d"),n=i._frame.clone(),a=i.baseTexture.resolution;n.x*=a,n.y*=a,n.width*=a,n.height*=a,e.width=Math.ceil(n.width),e.height=Math.ceil(n.height),t.save(),t.globalCompositeOperation="copy",t.fillStyle="#"+("00000"+(r|0).toString(16)).substr(-6),t.fillRect(0,0,n.width,n.height),t.globalCompositeOperation="destination-atop",t.drawImage(i.baseTexture.getDrawableSource(),n.x,n.y,n.width,n.height,0,0,n.width,n.height),t.restore()},tintWithPerPixel:function(i,r,e){var t=e.getContext("2d"),n=i._frame.clone(),a=i.baseTexture.resolution;n.x*=a,n.y*=a,n.width*=a,n.height*=a,e.width=Math.ceil(n.width),e.height=Math.ceil(n.height),t.save(),t.globalCompositeOperation="copy",t.drawImage(i.baseTexture.getDrawableSource(),n.x,n.y,n.width,n.height,0,0,n.width,n.height),t.restore();for(var o=kt(r),s=o[0],u=o[1],h=o[2],l=t.getImageData(0,0,n.width,n.height),c=l.data,f=0;f<c.length;f+=4)c[f+0]*=s,c[f+1]*=u,c[f+2]*=h;t.putImageData(l,0,0)},roundColor:function(i){var r=Oe.cacheStepsPerColorChannel,e=kt(i);return e[0]=Math.min(255,e[0]/r*r),e[1]=Math.min(255,e[1]/r*r),e[2]=Math.min(255,e[2]/r*r),_s(e)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:Gc(),tintMethod:null};Oe.tintMethod=Oe.canUseMultiply?Oe.tintWithMultiply:Oe.tintWithPerPixel;var nA=At.create;At.create=function(r){var e=r&&r.forceCanvas;if(!e)try{return nA(r)}catch{}return new St(r)};Ae.prototype.getDrawableSource=function(){var r=this.resource;return r?r.bitmap||r.source:null};Vr.prototype._canvasRenderTarget=null;se.prototype.patternCache=null;se.prototype.tintCache=null;/*!
 * @pixi/canvas-mesh - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/canvas-mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Hc=function(){function i(r){this.renderer=r}return i.prototype.render=function(r){var e=this.renderer,t=r.worldTransform;e.context.globalAlpha=r.worldAlpha,e.setBlendMode(r.blendMode),e.setContextTransform(t,r.roundPixels),r.drawMode!==et.TRIANGLES?this._renderTriangleMesh(r):this._renderTriangles(r)},i.prototype._renderTriangleMesh=function(r){for(var e=r.geometry.buffers[0].data.length,t=0;t<e-2;t++){var n=t*2;this._renderDrawTriangle(r,n,n+2,n+4)}},i.prototype._renderTriangles=function(r){for(var e=r.geometry.getIndex().data,t=e.length,n=0;n<t;n+=3){var a=e[n]*2,o=e[n+1]*2,s=e[n+2]*2;this._renderDrawTriangle(r,a,o,s)}},i.prototype._renderDrawTriangle=function(r,e,t,n){var a=this.renderer.context,o=r.geometry.buffers[0].data,s=r.uvs,u=r.texture;if(u.valid){var h=r.tint!==16777215,l=u.baseTexture,c=l.width,f=l.height;h&&r._cachedTint!==r.tint&&(r._cachedTint=r.tint,r._tintedCanvas=Oe.getTintedCanvas(r,r.tint));var p=h?r._tintedCanvas:l.getDrawableSource(),v=s[e]*l.width,g=s[t]*l.width,A=s[n]*l.width,E=s[e+1]*l.height,P=s[t+1]*l.height,T=s[n+1]*l.height,L=o[e],m=o[t],I=o[n],y=o[e+1],w=o[t+1],O=o[n+1],d=r.canvasPadding/this.renderer.resolution;if(d>0){var K=d/Math.abs(r.worldTransform.a),b=d/Math.abs(r.worldTransform.d),R=(L+m+I)/3,B=(y+w+O)/3,F=L-R,S=y-B,_=Math.sqrt(F*F+S*S);L=R+F/_*(_+K),y=B+S/_*(_+b),F=m-R,S=w-B,_=Math.sqrt(F*F+S*S),m=R+F/_*(_+K),w=B+S/_*(_+b),F=I-R,S=O-B,_=Math.sqrt(F*F+S*S),I=R+F/_*(_+K),O=B+S/_*(_+b)}a.save(),a.beginPath(),a.moveTo(L,y),a.lineTo(m,w),a.lineTo(I,O),a.closePath(),a.clip();var x=v*P+E*A+g*T-P*A-E*g-v*T,D=L*P+E*I+m*T-P*I-E*m-L*T,N=v*m+L*A+g*I-m*A-L*g-v*I,C=v*P*I+E*m*A+L*g*T-L*P*A-E*g*I-v*m*T,M=y*P+E*O+w*T-P*O-E*w-y*T,U=v*w+y*A+g*O-w*A-y*g-v*O,k=v*P*O+E*w*A+y*g*T-y*P*A-E*g*O-v*w*T;a.transform(D/x,M/x,N/x,U/x,C/x,k/x),a.drawImage(p,0,0,c*l.resolution,f*l.resolution,0,0,c,f),a.restore(),this.renderer.invalidateBlendMode()}},i.prototype.renderMeshFlat=function(r){var e=this.renderer.context,t=r.geometry.getBuffer("aVertexPosition").data,n=t.length/2;e.beginPath();for(var a=1;a<n-2;++a){var o=a*2,s=t[o],u=t[o+1],h=t[o+2],l=t[o+3],c=t[o+4],f=t[o+5];e.moveTo(s,u),e.lineTo(h,l),e.lineTo(c,f)}e.fillStyle="#FF0000",e.fill(),e.closePath()},i.prototype.destroy=function(){this.renderer=null},i}();ne.MESH_CANVAS_PADDING=0;oi.prototype._renderCanvas=function(r,e){r.plugins.mesh.render(e)};zi.prototype._cachedTint=16777215;zi.prototype._tintedCanvas=null;zi.prototype._canvasUvs=null;zi.prototype._renderCanvas=function(r){var e=r.context,t=this.worldTransform,n=this.tint!==16777215,a=this.texture;if(a.valid){n&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=Oe.getTintedCanvas(this,this.tint));var o=n?this._tintedCanvas:a.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var s=this.vertices,u=this._canvasUvs,h=n?0:a.frame.x,l=n?0:a.frame.y,c=h+a.frame.width,f=l+a.frame.height;u[0]=h,u[1]=h+this._leftWidth,u[2]=c-this._rightWidth,u[3]=c,u[4]=l,u[5]=l+this._topHeight,u[6]=f-this._bottomHeight,u[7]=f;for(var p=0;p<8;p++)u[p]*=a.baseTexture.resolution;e.globalAlpha=this.worldAlpha,r.setBlendMode(this.blendMode),r.setContextTransform(t,this.roundPixels);for(var v=0;v<3;v++)for(var g=0;g<3;g++){var A=g*2+v*8,E=Math.max(1,u[g+1]-u[g]),P=Math.max(1,u[v+5]-u[v+4]),T=Math.max(1,s[A+10]-s[A]),L=Math.max(1,s[A+11]-s[A+1]);e.drawImage(o,u[g],u[v+4],E,P,s[A],s[A+1],T,L)}}};var ul=!1;gt.prototype._cachedTint=16777215;gt.prototype._tintedCanvas=null;gt.prototype._renderCanvas=function(r){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(r,this):ul||(ul=!0,window.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))};gt.prototype._canvasPadding=null;Object.defineProperty(gt.prototype,"canvasPadding",{get:function(){return this._canvasPadding!==null?this._canvasPadding:ne.MESH_CANVAS_PADDING},set:function(i){this._canvasPadding=i}});Bc.prototype._renderCanvas=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(r,this)};Uc.prototype._renderCanvas=function(r){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(r,this)};/*!
 * @pixi/canvas-graphics - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/canvas-graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var kc=function(){function i(r){this.renderer=r,this._svgMatrix=null,this._tempMatrix=new ye}return i.prototype._calcCanvasStyle=function(r,e){var t;return r.texture&&r.texture.baseTexture!==se.WHITE.baseTexture?r.texture.valid?(t=Oe.getTintedPattern(r.texture,e),this.setPatternTransform(t,r.matrix||ye.IDENTITY)):t="#808080":t="#"+("00000"+(e|0).toString(16)).substr(-6),t},i.prototype.render=function(r){var e=this.renderer,t=e.context,n=r.worldAlpha,a=r.transform.worldTransform;e.setContextTransform(a),e.setBlendMode(r.blendMode);for(var o=r.geometry.graphicsData,s,u,h=(r.tint>>16&255)/255,l=(r.tint>>8&255)/255,c=(r.tint&255)/255,f=0;f<o.length;f++){var p=o[f],v=p.shape,g=p.fillStyle,A=p.lineStyle,E=p.fillStyle.color|0,P=p.lineStyle.color|0;if(p.matrix&&e.setContextTransform(a.copyTo(this._tempMatrix).append(p.matrix)),g.visible){var T=((E>>16&255)/255*h*255<<16)+((E>>8&255)/255*l*255<<8)+(E&255)/255*c*255;s=this._calcCanvasStyle(g,T)}if(A.visible){var L=((P>>16&255)/255*h*255<<16)+((P>>8&255)/255*l*255<<8)+(P&255)/255*c*255;u=this._calcCanvasStyle(A,L)}if(t.lineWidth=A.width,t.lineCap=A.cap,t.lineJoin=A.join,t.miterLimit=A.miterLimit,p.type===de.POLY){t.beginPath();var m=v,I=m.points,y=p.holes,w=void 0,O=void 0,d=void 0,K=void 0;t.moveTo(I[0],I[1]);for(var b=2;b<I.length;b+=2)t.lineTo(I[b],I[b+1]);if(m.closeStroke&&t.closePath(),y.length>0){w=0,d=I[0],K=I[1];for(var b=2;b+2<I.length;b+=2)w+=(I[b]-d)*(I[b+3]-K)-(I[b+2]-d)*(I[b+1]-K);for(var R=0;R<y.length;R++)if(I=y[R].shape.points,!!I){O=0,d=I[0],K=I[1];for(var b=2;b+2<I.length;b+=2)O+=(I[b]-d)*(I[b+3]-K)-(I[b+2]-d)*(I[b+1]-K);if(O*w<0){t.moveTo(I[0],I[1]);for(var b=2;b<I.length;b+=2)t.lineTo(I[b],I[b+1])}else{t.moveTo(I[I.length-2],I[I.length-1]);for(var b=I.length-4;b>=0;b-=2)t.lineTo(I[b],I[b+1])}y[R].shape.closeStroke&&t.closePath()}}g.visible&&(t.globalAlpha=g.alpha*n,t.fillStyle=s,t.fill()),A.visible&&(t.globalAlpha=A.alpha*n,t.strokeStyle=u,t.stroke())}else if(p.type===de.RECT){var m=v;g.visible&&(t.globalAlpha=g.alpha*n,t.fillStyle=s,t.fillRect(m.x,m.y,m.width,m.height)),A.visible&&(t.globalAlpha=A.alpha*n,t.strokeStyle=u,t.strokeRect(m.x,m.y,m.width,m.height))}else if(p.type===de.CIRC){var m=v;t.beginPath(),t.arc(m.x,m.y,m.radius,0,2*Math.PI),t.closePath(),g.visible&&(t.globalAlpha=g.alpha*n,t.fillStyle=s,t.fill()),A.visible&&(t.globalAlpha=A.alpha*n,t.strokeStyle=u,t.stroke())}else if(p.type===de.ELIP){var m=v,B=m.width*2,F=m.height*2,S=m.x-B/2,_=m.y-F/2;t.beginPath();var x=.5522848,D=B/2*x,N=F/2*x,C=S+B,M=_+F,U=S+B/2,k=_+F/2;t.moveTo(S,k),t.bezierCurveTo(S,k-N,U-D,_,U,_),t.bezierCurveTo(U+D,_,C,k-N,C,k),t.bezierCurveTo(C,k+N,U+D,M,U,M),t.bezierCurveTo(U-D,M,S,k+N,S,k),t.closePath(),g.visible&&(t.globalAlpha=g.alpha*n,t.fillStyle=s,t.fill()),A.visible&&(t.globalAlpha=A.alpha*n,t.strokeStyle=u,t.stroke())}else if(p.type===de.RREC){var m=v,X=m.x,W=m.y,z=m.width,$=m.height,G=m.radius,j=Math.min(z,$)/2|0;G=G>j?j:G,t.beginPath(),t.moveTo(X,W+G),t.lineTo(X,W+$-G),t.quadraticCurveTo(X,W+$,X+G,W+$),t.lineTo(X+z-G,W+$),t.quadraticCurveTo(X+z,W+$,X+z,W+$-G),t.lineTo(X+z,W+G),t.quadraticCurveTo(X+z,W,X+z-G,W),t.lineTo(X+G,W),t.quadraticCurveTo(X,W,X,W+G),t.closePath(),g.visible&&(t.globalAlpha=g.alpha*n,t.fillStyle=s,t.fill()),A.visible&&(t.globalAlpha=A.alpha*n,t.strokeStyle=u,t.stroke())}}},i.prototype.setPatternTransform=function(r,e){if(this._svgMatrix!==!1){if(!this._svgMatrix){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");if(t&&t.createSVGMatrix&&(this._svgMatrix=t.createSVGMatrix()),!this._svgMatrix||!r.setTransform){this._svgMatrix=!1;return}}this._svgMatrix.a=e.a,this._svgMatrix.b=e.b,this._svgMatrix.c=e.c,this._svgMatrix.d=e.d,this._svgMatrix.e=e.tx,this._svgMatrix.f=e.ty,r.setTransform(this._svgMatrix.inverse())}},i.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},i}(),go,_i=new ye;ai.prototype.generateCanvasTexture=function(r,e){e===void 0&&(e=1);var t=this.getLocalBounds(),n=Nt.create({width:t.width,height:t.height,scaleMode:r,resolution:e});go||(go=new St),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(_i),_i.invert(),_i.tx-=t.x,_i.ty-=t.y,go.render(this,n,!0,_i);var a=se.from(n.baseTexture._canvasRenderTarget.canvas,{scaleMode:r});return a.baseTexture.setResolution(e),a};ai.prototype.cachedGraphicsData=[];ai.prototype._renderCanvas=function(r){this.isMask!==!0&&(this.finishPoly(),r.plugins.graphics.render(this))};/*!
 * @pixi/canvas-sprite - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/canvas-sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var hl=new ye,Vc=function(){function i(r){this.renderer=r}return i.prototype.render=function(r){var e=r._texture,t=this.renderer,n=t.context,a=e._frame.width,o=e._frame.height,s=r.transform.worldTransform,u=0,h=0,l=e.baseTexture.getDrawableSource();if(!(e.orig.width<=0||e.orig.height<=0||!e.valid||!l)&&e.valid){t.setBlendMode(r.blendMode,!0),t.context.globalAlpha=r.worldAlpha;var c=e.baseTexture.scaleMode===ut.LINEAR;t.smoothProperty&&t.context[t.smoothProperty]!==c&&(n[t.smoothProperty]=c),e.trim?(u=e.trim.width/2+e.trim.x-r.anchor.x*e.orig.width,h=e.trim.height/2+e.trim.y-r.anchor.y*e.orig.height):(u=(.5-r.anchor.x)*e.orig.width,h=(.5-r.anchor.y)*e.orig.height),e.rotate&&(s.copyTo(hl),s=hl,Se.matrixAppendRotationInv(s,e.rotate,u,h),u=0,h=0),u-=a/2,h-=o/2,t.setContextTransform(s,r.roundPixels,1),r.roundPixels&&(u=u|0,h=h|0);var f=e.baseTexture.resolution,p=t._outerBlend;p&&(n.save(),n.beginPath(),n.rect(u*t.resolution,h*t.resolution,a*t.resolution,o*t.resolution),n.clip()),r.tint!==16777215?((r._cachedTint!==r.tint||r._tintedCanvas.tintId!==r._texture._updateID)&&(r._cachedTint=r.tint,r._tintedCanvas=Oe.getTintedCanvas(r,r.tint)),n.drawImage(r._tintedCanvas,0,0,Math.floor(a*f),Math.floor(o*f),Math.floor(u*t.resolution),Math.floor(h*t.resolution),Math.floor(a*t.resolution),Math.floor(o*t.resolution))):n.drawImage(l,e._frame.x*f,e._frame.y*f,Math.floor(a*f),Math.floor(o*f),Math.floor(u*t.resolution),Math.floor(h*t.resolution),Math.floor(a*t.resolution),Math.floor(o*t.resolution)),p&&n.restore(),t.setBlendMode(q.NORMAL)}},i.prototype.destroy=function(){this.renderer=null},i}();jt.prototype._tintedCanvas=null;jt.prototype._renderCanvas=function(r){r.plugins.sprite.render(this)};/*!
 * @pixi/canvas-extract - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/canvas-extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ll=new pe,Xc=function(){function i(r){this.renderer=r}return i.prototype.image=function(r,e,t){var n=new Image;return n.src=this.base64(r,e,t),n},i.prototype.base64=function(r,e,t){return this.canvas(r).toDataURL(e,t)},i.prototype.canvas=function(r){var e=this.renderer,t,n,a,o;r&&(r instanceof Nt?o=r:o=e.generateTexture(r)),o?(t=o.baseTexture._canvasRenderTarget.context,n=o.baseTexture._canvasRenderTarget.resolution,a=o.frame):(t=e.rootContext,n=e.resolution,a=ll,a.width=this.renderer.width,a.height=this.renderer.height);var s=Math.floor(a.width*n+1e-4),u=Math.floor(a.height*n+1e-4),h=new qr(s,u,1),l=t.getImageData(a.x*n,a.y*n,s,u);return h.context.putImageData(l,0,0),h.canvas},i.prototype.pixels=function(r){var e=this.renderer,t,n,a,o;return r&&(r instanceof Nt?o=r:o=e.generateTexture(r)),o?(t=o.baseTexture._canvasRenderTarget.context,n=o.baseTexture._canvasRenderTarget.resolution,a=o.frame):(t=e.rootContext,a=ll,a.width=e.width,a.height=e.height),t.getImageData(0,0,a.width*n,a.height*n).data},i.prototype.destroy=function(){this.renderer=null},i}();Object.defineProperty(St.prototype,"extract",{get:function(){return J("v5.3.0","CanvasRenderer#extract is deprecated, use CanvasRenderer#plugins.extract"),this.plugins.extract}});/*!
 * @pixi/canvas-prepare - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/canvas-prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var cs=function(i,r){return cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},cs(i,r)};function aA(i,r){cs(i,r);function e(){this.constructor=i}i.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var fl=16;function oA(i,r){var e=i;if(r instanceof Ae){var t=r.source,n=t.width===0?e.canvas.width:Math.min(e.canvas.width,t.width),a=t.height===0?e.canvas.height:Math.min(e.canvas.height,t.height);return e.ctx.drawImage(t,0,0,n,a,0,0,e.canvas.width,e.canvas.height),!0}return!1}var jc=function(i){aA(r,i);function r(e){var t=i.call(this,e)||this;return t.uploadHookHelper=t,t.canvas=document.createElement("canvas"),t.canvas.width=fl,t.canvas.height=fl,t.ctx=t.canvas.getContext("2d"),t.registerUploadHook(oA),t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.ctx=null,this.canvas=null},r}(Xs);/*!
 * @pixi/canvas-sprite-tiling - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/canvas-sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */bc.prototype._renderCanvas=function(r){var e=this._texture;if(e.baseTexture.valid){var t=r.context,n=this.worldTransform,a=e.baseTexture,o=a.getDrawableSource(),s=a.resolution,u=this.tilePosition.x/this.tileScale.x%e._frame.width*s,h=this.tilePosition.y/this.tileScale.y%e._frame.height*s;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new qr(e._frame.width,e._frame.height,s);this.tint!==16777215?(this._tintedCanvas=Oe.getTintedCanvas(this,this.tint),l.context.drawImage(this._tintedCanvas,0,0)):l.context.drawImage(o,-e._frame.x*s,-e._frame.y*s),this._cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}t.globalAlpha=this.worldAlpha,r.setBlendMode(this.blendMode),r.setContextTransform(n),t.fillStyle=this._canvasPattern,t.scale(this.tileScale.x/s,this.tileScale.y/s);var c=this.anchor.x*-this._width,f=this.anchor.y*-this._height;this.uvRespectAnchor?(t.translate(u,h),t.fillRect(-u+c,-h+f,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s)):(t.translate(u+c,h+f),t.fillRect(-u,-h,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s))}};/*!
 * @pixi/canvas-particles - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/canvas-particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */cc.prototype.renderCanvas=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)){var e=r.context,t=this.worldTransform,n=!0,a=0,o=0,s=0,u=0;r.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var h=0;h<this.children.length;++h){var l=this.children[h];if(l.visible&&l._texture.valid){var c=l._texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(Math.PI*2)===0)n&&(r.setContextTransform(t,!1,1),n=!1),a=l.anchor.x*(-c.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-c.height*l.scale.y)+l.position.y+.5,s=c.width*l.scale.x,u=c.height*l.scale.y;else{n||(n=!0),l.displayObjectUpdateTransform();var f=l.worldTransform;r.setContextTransform(f,this.roundPixels,1),a=l.anchor.x*-c.width+.5,o=l.anchor.y*-c.height+.5,s=c.width,u=c.height}var p=l._texture.baseTexture.resolution;e.drawImage(l._texture.baseTexture.getDrawableSource(),c.x*p,c.y*p,c.width*p,c.height*p,a*r.resolution,o*r.resolution,s*r.resolution,u*r.resolution)}}}};/*!
 * @pixi/canvas-display - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/canvas-display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */tt.prototype._renderCanvas=function(r){};tt.prototype.renderCanvas=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable)){this._mask&&r.maskManager.pushMask(this._mask),this._renderCanvas(r);for(var e=0,t=this.children.length;e<t;++e)this.children[e].renderCanvas(r);this._mask&&r.maskManager.popMask(r)}};xe.prototype.renderCanvas=function(r){};/*!
 * @pixi/canvas-text - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/canvas-text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Vn.prototype._renderCanvas=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),jt.prototype._renderCanvas.call(this,r)};/*!
 * pixi.js-legacy - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * pixi.js-legacy is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */St.registerPlugin("accessibility",ws);St.registerPlugin("extract",Xc);St.registerPlugin("graphics",kc);St.registerPlugin("interaction",Ns);St.registerPlugin("mesh",Hc);St.registerPlugin("prepare",jc);St.registerPlugin("sprite",Vc);const sA=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Ht},AbstractBatchRenderer:rc,AbstractRenderer:Bs,AccessibilityManager:ws,AnimatedSprite:$g,AppLoaderPlugin:lc,Application:Xi,Attribute:Fo,get BLEND_MODES(){return q},get BUFFER_BITS(){return Ni},BasePrepare:Xs,BaseRenderTexture:Vr,BaseTexture:Ae,BatchDrawCall:Rn,BatchGeometry:Hs,BatchPluginFactory:nc,BatchRenderer:ac,BatchShaderGenerator:ic,BatchTextureArray:bn,BitmapFont:rr,BitmapFontData:Ki,BitmapFontLoader:Nc,BitmapText:Og,Bounds:Di,Buffer:Pe,get CLEAR_MODES(){return dt},CanvasExtract:Xc,CanvasGraphicsRenderer:kc,CanvasMeshRenderer:Hc,CanvasPrepare:jc,CanvasRenderer:St,CanvasSpriteRenderer:Vc,Circle:ff,Container:tt,CountLimiter:Ec,DEG_TO_RAD:lf,get DRAW_MODES(){return et},DisplayObject:xe,get ENV(){return Lt},Ellipse:cf,Extract:oc,get FORMATS(){return Wr},FillStyle:ks,Filter:Xt,FilterState:bf,Framebuffer:xn,get GC_MODES(){return _n},GLFramebuffer:Nf,GLProgram:Yf,GLTexture:In,GRAPHICS_CURVES:Zr,Geometry:ni,Graphics:ai,GraphicsData:zo,GraphicsGeometry:mc,IGLUniformData:Av,InteractionData:Do,InteractionEvent:Af,InteractionManager:Ns,InteractionTrackingData:yn,get LINE_CAP(){return Ft},get LINE_JOIN(){return Ut},LineStyle:Ic,Loader:Lr,LoaderResource:wi,get MASK_TYPES(){return We},get MIPMAP_MODES(){return Yr},get MSAA_QUALITY(){return br},MaskData:Df,Matrix:ye,Mesh:gt,MeshBatchUvs:Lc,MeshGeometry:ji,MeshMaterial:oi,NineSlicePlane:zi,ObjectRenderer:ki,ObservablePoint:_r,PI_2:$r,get PRECISION(){return pt},ParticleContainer:cc,ParticleRenderer:dc,PlaneGeometry:Dc,Point:Ne,Polygon:kr,Prepare:_c,Program:Vi,Quad:Rf,QuadUv:Fs,RAD_TO_DEG:hf,get RENDERER_TYPE(){return Rr},Rectangle:pe,RenderTexture:Nt,RenderTexturePool:Of,Renderer:At,RopeGeometry:Kc,RoundedRectangle:df,Runner:De,get SCALE_MODES(){return ut},get SHAPES(){return de},Shader:ar,SimpleMesh:Bc,SimplePlane:Fc,SimpleRope:Uc,Sprite:jt,SpriteMaskFilter:Hf,Spritesheet:Oc,SpritesheetLoader:xc,State:sr,System:qe,get TARGETS(){return ir},get TEXT_GRADIENT(){return Qr},get TYPES(){return Re},TemporaryDisplayObject:Ls,Text:Vn,TextMetrics:ht,TextStyle:wr,Texture:se,TextureLoader:hc,TextureMatrix:Hn,TextureUvs:Us,Ticker:Le,TickerPlugin:gf,TilingSprite:bc,TilingSpriteRenderer:Pc,TimeLimiter:pg,Transform:bs,get UPDATE_PRIORITY(){return wt},UniformGroup:nr,VERSION:Zg,ViewableBuffer:tc,get WRAP_MODES(){return Bt},accessibleTarget:vf,autoDetectRenderer:Qf,canvasUtils:Oe,checkMaxIfStatementsInShader:Gf,defaultFilterVertex:Gs,defaultVertex:ec,filters:Qg,graphicsUtils:qv,groupD8:Se,interactiveTarget:Sf,isMobile:st,resources:_f,settings:ne,systems:Ov,uniformParsers:mn,useDeprecated:Jg,utils:Cp},Symbol.toStringTag,{value:"Module"})),yt=Hi(sA);/*!
 * @pixi/unsafe-eval - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * @pixi/unsafe-eval is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var uA={float:function(i,r,e,t){e!==t&&(e.v=t,i.uniform1f(r,t))},vec2:function(i,r,e,t){(e[0]!==t[0]||e[1]!==t[1])&&(e[0]=t[0],e[1]=t[1],i.uniform2f(r,t[0],t[1]))},vec3:function(i,r,e,t){(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2])&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],i.uniform3f(r,t[0],t[1],t[2]))},int:function(i,r,e,t){i.uniform1i(r,t)},ivec2:function(i,r,e,t){i.uniform2i(r,t[0],t[1])},ivec3:function(i,r,e,t){i.uniform3i(r,t[0],t[1],t[2])},ivec4:function(i,r,e,t){i.uniform4i(r,t[0],t[1],t[2],t[3])},bool:function(i,r,e,t){i.uniform1i(r,t)},bvec2:function(i,r,e,t){i.uniform2i(r,t[0],t[1])},bvec3:function(i,r,e,t){i.uniform3i(r,t[0],t[1],t[2])},bvec4:function(i,r,e,t){i.uniform4i(r,t[0],t[1],t[2],t[3])},mat2:function(i,r,e,t){i.uniformMatrix2fv(r,!1,t)},mat3:function(i,r,e,t){i.uniformMatrix3fv(r,!1,t)},mat4:function(i,r,e,t){i.uniformMatrix4fv(r,!1,t)},sampler2D:function(i,r,e,t){i.uniform1i(r,t)},samplerCube:function(i,r,e,t){i.uniform1i(r,t)},sampler2DArray:function(i,r,e,t){i.uniform1i(r,t)}},hA={float:function(i,r,e,t){i.uniform1fv(r,t)},vec2:function(i,r,e,t){i.uniform2fv(r,t)},vec3:function(i,r,e,t){i.uniform3fv(r,t)},vec4:function(i,r,e,t){i.uniform4fv(r,t)},int:function(i,r,e,t){i.uniform1iv(r,t)},ivec2:function(i,r,e,t){i.uniform2iv(r,t)},ivec3:function(i,r,e,t){i.uniform3iv(r,t)},ivec4:function(i,r,e,t){i.uniform4iv(r,t)},bool:function(i,r,e,t){i.uniform1iv(r,t)},bvec2:function(i,r,e,t){i.uniform2iv(r,t)},bvec3:function(i,r,e,t){i.uniform3iv(r,t)},bvec4:function(i,r,e,t){i.uniform4iv(r,t)},sampler2D:function(i,r,e,t){i.uniform1iv(r,t)},samplerCube:function(i,r,e,t){i.uniform1iv(r,t)},sampler2DArray:function(i,r,e,t){i.uniform1iv(r,t)}};function lA(i,r,e,t,n){var a=0,o=null,s=null,u=n.gl;for(var h in i.uniforms){var l=r[h],c=t[h],f=e[h],p=i.uniforms[h];if(!l){p.group&&n.shader.syncUniformGroup(c);continue}if(l.type==="float"&&l.size===1)c!==f.value&&(f.value=c,u.uniform1f(f.location,c));else if((l.type==="sampler2D"||l.type==="samplerCube"||l.type==="sampler2DArray")&&l.size===1&&!l.isArray)n.texture.bind(c,a),f.value!==a&&(f.value=a,u.uniform1i(f.location,a)),a++;else if(l.type==="mat3"&&l.size===1)p.a!==void 0?u.uniformMatrix3fv(f.location,!1,c.toArray(!0)):u.uniformMatrix3fv(f.location,!1,c);else if(l.type==="vec2"&&l.size===1)p.x!==void 0?(s=f.value,o=c,(s[0]!==o.x||s[1]!==o.y)&&(s[0]=o.x,s[1]=o.y,u.uniform2f(f.location,o.x,o.y))):(s=f.value,o=c,(s[0]!==o[0]||s[1]!==o[1])&&(s[0]=o[0],s[1]=o[1],u.uniform2f(f.location,o[0],o[1])));else if(l.type==="vec4"&&l.size===1)p.width!==void 0?(s=f.value,o=c,(s[0]!==o.x||s[1]!==o.y||s[2]!==o.width||s[3]!==o.height)&&(s[0]=o.x,s[1]=o.y,s[2]=o.width,s[3]=o.height,u.uniform4f(f.location,o.x,o.y,o.width,o.height))):(s=f.value,o=c,(s[0]!==o[0]||s[1]!==o[1]||s[2]!==o[2]||s[3]!==o[3])&&(s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],u.uniform4f(f.location,o[0],o[1],o[2],o[3])));else{var v=l.size===1?uA:hA;v[l.type].call(null,u,f.location,f.value,c)}}}function fA(i){var r;if(!(!((r=i==null?void 0:i.systems)===null||r===void 0)&&r.ShaderSystem))throw new Error("Unable to patch ShaderSystem, class not found.");var e=i.systems.ShaderSystem,t=!1;try{e.prototype.systemCheck.call(null),t=!1}catch{t=!0}t&&Object.assign(e.prototype,{systemCheck:function(){},syncUniforms:function(n,a){var o=this,s=o.shader,u=o.renderer;lA(n,s.program.uniformData,a.uniformData,n.uniforms,u)}})}const cA=Object.freeze(Object.defineProperty({__proto__:null,install:fA},Symbol.toStringTag,{value:"Module"})),dA=Hi(cA);var Ee={};function ui(i,r,e){i.prototype=r.prototype=e,e.constructor=i}function Wi(i,r){var e=Object.create(i.prototype);for(var t in r)e[t]=r[t];return e}function ur(){}var Nr=.7,ei=1/Nr,Xr="\\s*([+-]?\\d+)\\s*",Fi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pA=/^#([0-9a-f]{3,8})$/,vA=new RegExp("^rgb\\("+[Xr,Xr,Xr]+"\\)$"),gA=new RegExp("^rgb\\("+[Pt,Pt,Pt]+"\\)$"),AA=new RegExp("^rgba\\("+[Xr,Xr,Xr,Fi]+"\\)$"),SA=new RegExp("^rgba\\("+[Pt,Pt,Pt,Fi]+"\\)$"),yA=new RegExp("^hsl\\("+[Fi,Pt,Pt]+"\\)$"),mA=new RegExp("^hsla\\("+[Fi,Pt,Pt,Fi]+"\\)$"),cl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ui(ur,ti,{copy:function(i){return Object.assign(new this.constructor,this,i)},displayable:function(){return this.rgb().displayable()},hex:dl,formatHex:dl,formatHsl:IA,formatRgb:pl,toString:pl});function dl(){return this.rgb().formatHex()}function IA(){return zc(this).formatHsl()}function pl(){return this.rgb().formatRgb()}function ti(i){var r,e;return i=(i+"").trim().toLowerCase(),(r=pA.exec(i))?(e=r[1].length,r=parseInt(r[1],16),e===6?vl(r):e===3?new Ke(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):e===8?An(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):e===4?An(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=vA.exec(i))?new Ke(r[1],r[2],r[3],1):(r=gA.exec(i))?new Ke(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=AA.exec(i))?An(r[1],r[2],r[3],r[4]):(r=SA.exec(i))?An(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=yA.exec(i))?Sl(r[1],r[2]/100,r[3]/100,1):(r=mA.exec(i))?Sl(r[1],r[2]/100,r[3]/100,r[4]):cl.hasOwnProperty(i)?vl(cl[i]):i==="transparent"?new Ke(NaN,NaN,NaN,0):null}function vl(i){return new Ke(i>>16&255,i>>8&255,i&255,1)}function An(i,r,e,t){return t<=0&&(i=r=e=NaN),new Ke(i,r,e,t)}function zs(i){return i instanceof ur||(i=ti(i)),i?(i=i.rgb(),new Ke(i.r,i.g,i.b,i.opacity)):new Ke}function Bi(i,r,e,t){return arguments.length===1?zs(i):new Ke(i,r,e,t??1)}function Ke(i,r,e,t){this.r=+i,this.g=+r,this.b=+e,this.opacity=+t}ui(Ke,Bi,Wi(ur,{brighter:function(i){return i=i==null?ei:Math.pow(ei,i),new Ke(this.r*i,this.g*i,this.b*i,this.opacity)},darker:function(i){return i=i==null?Nr:Math.pow(Nr,i),new Ke(this.r*i,this.g*i,this.b*i,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gl,formatHex:gl,formatRgb:Al,toString:Al}));function gl(){return"#"+Ao(this.r)+Ao(this.g)+Ao(this.b)}function Al(){var i=this.opacity;return i=isNaN(i)?1:Math.max(0,Math.min(1,i)),(i===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(i===1?")":", "+i+")")}function Ao(i){return i=Math.max(0,Math.min(255,Math.round(i)||0)),(i<16?"0":"")+i.toString(16)}function Sl(i,r,e,t){return t<=0?i=r=e=NaN:e<=0||e>=1?i=r=NaN:r<=0&&(i=NaN),new Rt(i,r,e,t)}function zc(i){if(i instanceof Rt)return new Rt(i.h,i.s,i.l,i.opacity);if(i instanceof ur||(i=ti(i)),!i)return new Rt;if(i instanceof Rt)return i;i=i.rgb();var r=i.r/255,e=i.g/255,t=i.b/255,n=Math.min(r,e,t),a=Math.max(r,e,t),o=NaN,s=a-n,u=(a+n)/2;return s?(r===a?o=(e-t)/s+(e<t)*6:e===a?o=(t-r)/s+2:o=(r-e)/s+4,s/=u<.5?a+n:2-a-n,o*=60):s=u>0&&u<1?0:o,new Rt(o,s,u,i.opacity)}function Ln(i,r,e,t){return arguments.length===1?zc(i):new Rt(i,r,e,t??1)}function Rt(i,r,e,t){this.h=+i,this.s=+r,this.l=+e,this.opacity=+t}ui(Rt,Ln,Wi(ur,{brighter:function(i){return i=i==null?ei:Math.pow(ei,i),new Rt(this.h,this.s,this.l*i,this.opacity)},darker:function(i){return i=i==null?Nr:Math.pow(Nr,i),new Rt(this.h,this.s,this.l*i,this.opacity)},rgb:function(){var i=this.h%360+(this.h<0)*360,r=isNaN(i)||isNaN(this.s)?0:this.s,e=this.l,t=e+(e<.5?e:1-e)*r,n=2*e-t;return new Ke(So(i>=240?i-240:i+120,n,t),So(i,n,t),So(i<120?i+240:i-120,n,t),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var i=this.opacity;return i=isNaN(i)?1:Math.max(0,Math.min(1,i)),(i===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(i===1?")":", "+i+")")}}));function So(i,r,e){return(i<60?r+(e-r)*i/60:i<180?e:i<240?r+(e-r)*(240-i)/60:r)*255}var Wc=Math.PI/180,Yc=180/Math.PI,wn=18,qc=.96422,$c=1,Jc=.82521,Zc=4/29,jr=6/29,Qc=3*jr*jr,EA=jr*jr*jr;function ed(i){if(i instanceof vt)return new vt(i.l,i.a,i.b,i.opacity);if(i instanceof bt)return rd(i);i instanceof Ke||(i=zs(i));var r=Eo(i.r),e=Eo(i.g),t=Eo(i.b),n=yo((.2225045*r+.7168786*e+.0606169*t)/$c),a,o;return r===e&&e===t?a=o=n:(a=yo((.4360747*r+.3850649*e+.1430804*t)/qc),o=yo((.0139322*r+.0971045*e+.7141733*t)/Jc)),new vt(116*n-16,500*(a-n),200*(n-o),i.opacity)}function TA(i,r){return new vt(i,0,0,r??1)}function Nn(i,r,e,t){return arguments.length===1?ed(i):new vt(i,r,e,t??1)}function vt(i,r,e,t){this.l=+i,this.a=+r,this.b=+e,this.opacity=+t}ui(vt,Nn,Wi(ur,{brighter:function(i){return new vt(this.l+wn*(i??1),this.a,this.b,this.opacity)},darker:function(i){return new vt(this.l-wn*(i??1),this.a,this.b,this.opacity)},rgb:function(){var i=(this.l+16)/116,r=isNaN(this.a)?i:i+this.a/500,e=isNaN(this.b)?i:i-this.b/200;return r=qc*mo(r),i=$c*mo(i),e=Jc*mo(e),new Ke(Io(3.1338561*r-1.6168667*i-.4906146*e),Io(-.9787684*r+1.9161415*i+.033454*e),Io(.0719453*r-.2289914*i+1.4052427*e),this.opacity)}}));function yo(i){return i>EA?Math.pow(i,1/3):i/Qc+Zc}function mo(i){return i>jr?i*i*i:Qc*(i-Zc)}function Io(i){return 255*(i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055)}function Eo(i){return(i/=255)<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function td(i){if(i instanceof bt)return new bt(i.h,i.c,i.l,i.opacity);if(i instanceof vt||(i=ed(i)),i.a===0&&i.b===0)return new bt(NaN,0<i.l&&i.l<100?0:NaN,i.l,i.opacity);var r=Math.atan2(i.b,i.a)*Yc;return new bt(r<0?r+360:r,Math.sqrt(i.a*i.a+i.b*i.b),i.l,i.opacity)}function _A(i,r,e,t){return arguments.length===1?td(i):new bt(e,r,i,t??1)}function Cn(i,r,e,t){return arguments.length===1?td(i):new bt(i,r,e,t??1)}function bt(i,r,e,t){this.h=+i,this.c=+r,this.l=+e,this.opacity=+t}function rd(i){if(isNaN(i.h))return new vt(i.l,0,0,i.opacity);var r=i.h*Wc;return new vt(i.l,Math.cos(r)*i.c,Math.sin(r)*i.c,i.opacity)}ui(bt,Cn,Wi(ur,{brighter:function(i){return new bt(this.h,this.c,this.l+wn*(i??1),this.opacity)},darker:function(i){return new bt(this.h,this.c,this.l-wn*(i??1),this.opacity)},rgb:function(){return rd(this).rgb()}}));var id=-.14861,Ws=1.78277,Ys=-.29227,Xn=-.90649,Gi=1.97294,yl=Gi*Xn,ml=Gi*Ws,Il=Ws*Ys-Xn*id;function OA(i){if(i instanceof xr)return new xr(i.h,i.s,i.l,i.opacity);i instanceof Ke||(i=zs(i));var r=i.r/255,e=i.g/255,t=i.b/255,n=(Il*t+yl*r-ml*e)/(Il+yl-ml),a=t-n,o=(Gi*(e-n)-Ys*a)/Xn,s=Math.sqrt(o*o+a*a)/(Gi*n*(1-n)),u=s?Math.atan2(o,a)*Yc-120:NaN;return new xr(u<0?u+360:u,s,n,i.opacity)}function Mn(i,r,e,t){return arguments.length===1?OA(i):new xr(i,r,e,t??1)}function xr(i,r,e,t){this.h=+i,this.s=+r,this.l=+e,this.opacity=+t}ui(xr,Mn,Wi(ur,{brighter:function(i){return i=i==null?ei:Math.pow(ei,i),new xr(this.h,this.s,this.l*i,this.opacity)},darker:function(i){return i=i==null?Nr:Math.pow(Nr,i),new xr(this.h,this.s,this.l*i,this.opacity)},rgb:function(){var i=isNaN(this.h)?0:(this.h+120)*Wc,r=+this.l,e=isNaN(this.s)?0:this.s*r*(1-r),t=Math.cos(i),n=Math.sin(i);return new Ke(255*(r+e*(id*t+Ws*n)),255*(r+e*(Ys*t+Xn*n)),255*(r+e*(Gi*t)),this.opacity)}}));const xA=Object.freeze(Object.defineProperty({__proto__:null,color:ti,cubehelix:Mn,gray:TA,hcl:Cn,hsl:Ln,lab:Nn,lch:_A,rgb:Bi},Symbol.toStringTag,{value:"Module"}));function nd(i,r,e,t,n){var a=i*i,o=a*i;return((1-3*i+3*a-o)*r+(4-6*a+3*o)*e+(1+3*i+3*a-3*o)*t+o*n)/6}function ad(i){var r=i.length-1;return function(e){var t=e<=0?e=0:e>=1?(e=1,r-1):Math.floor(e*r),n=i[t],a=i[t+1],o=t>0?i[t-1]:2*n-a,s=t<r-1?i[t+2]:2*a-n;return nd((e-t/r)*r,o,n,a,s)}}function od(i){var r=i.length;return function(e){var t=Math.floor(((e%=1)<0?++e:e)*r),n=i[(t+r-1)%r],a=i[t%r],o=i[(t+1)%r],s=i[(t+2)%r];return nd((e-t/r)*r,n,a,o,s)}}function jn(i){return function(){return i}}function sd(i,r){return function(e){return i+e*r}}function RA(i,r,e){return i=Math.pow(i,e),r=Math.pow(r,e)-i,e=1/e,function(t){return Math.pow(i+t*r,e)}}function zn(i,r){var e=r-i;return e?sd(i,e>180||e<-180?e-360*Math.round(e/360):e):jn(isNaN(i)?r:i)}function bA(i){return(i=+i)==1?we:function(r,e){return e-r?RA(r,e,i):jn(isNaN(r)?e:r)}}function we(i,r){var e=r-i;return e?sd(i,e):jn(isNaN(i)?r:i)}const ds=function i(r){var e=bA(r);function t(n,a){var o=e((n=Bi(n)).r,(a=Bi(a)).r),s=e(n.g,a.g),u=e(n.b,a.b),h=we(n.opacity,a.opacity);return function(l){return n.r=o(l),n.g=s(l),n.b=u(l),n.opacity=h(l),n+""}}return t.gamma=i,t}(1);function ud(i){return function(r){var e=r.length,t=new Array(e),n=new Array(e),a=new Array(e),o,s;for(o=0;o<e;++o)s=Bi(r[o]),t[o]=s.r||0,n[o]=s.g||0,a[o]=s.b||0;return t=i(t),n=i(n),a=i(a),s.opacity=1,function(u){return s.r=t(u),s.g=n(u),s.b=a(u),s+""}}}var PA=ud(ad),LA=ud(od);function qs(i,r){r||(r=[]);var e=i?Math.min(r.length,i.length):0,t=r.slice(),n;return function(a){for(n=0;n<e;++n)t[n]=i[n]*(1-a)+r[n]*a;return t}}function hd(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function wA(i,r){return(hd(r)?qs:ld)(i,r)}function ld(i,r){var e=r?r.length:0,t=i?Math.min(e,i.length):0,n=new Array(t),a=new Array(e),o;for(o=0;o<t;++o)n[o]=$s(i[o],r[o]);for(;o<e;++o)a[o]=r[o];return function(s){for(o=0;o<t;++o)a[o]=n[o](s);return a}}function fd(i,r){var e=new Date;return i=+i,r=+r,function(t){return e.setTime(i*(1-t)+r*t),e}}function xt(i,r){return i=+i,r=+r,function(e){return i*(1-e)+r*e}}function cd(i,r){var e={},t={},n;(i===null||typeof i!="object")&&(i={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in i?e[n]=$s(i[n],r[n]):t[n]=r[n];return function(a){for(n in e)t[n]=e[n](a);return t}}var ps=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,To=new RegExp(ps.source,"g");function NA(i){return function(){return i}}function CA(i){return function(r){return i(r)+""}}function dd(i,r){var e=ps.lastIndex=To.lastIndex=0,t,n,a,o=-1,s=[],u=[];for(i=i+"",r=r+"";(t=ps.exec(i))&&(n=To.exec(r));)(a=n.index)>e&&(a=r.slice(e,a),s[o]?s[o]+=a:s[++o]=a),(t=t[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,u.push({i:o,x:xt(t,n)})),e=To.lastIndex;return e<r.length&&(a=r.slice(e),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?CA(u[0].x):NA(r):(r=u.length,function(h){for(var l=0,c;l<r;++l)s[(c=u[l]).i]=c.x(h);return s.join("")})}function $s(i,r){var e=typeof r,t;return r==null||e==="boolean"?jn(r):(e==="number"?xt:e==="string"?(t=ti(r))?(r=t,ds):dd:r instanceof ti?ds:r instanceof Date?fd:hd(r)?qs:Array.isArray(r)?ld:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?cd:xt)(i,r)}function MA(i){var r=i.length;return function(e){return i[Math.max(0,Math.min(r-1,Math.floor(e*r)))]}}function DA(i,r){var e=zn(+i,+r);return function(t){var n=e(t);return n-360*Math.floor(n/360)}}function KA(i,r){return i=+i,r=+r,function(e){return Math.round(i*(1-e)+r*e)}}var El=180/Math.PI,vs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pd(i,r,e,t,n,a){var o,s,u;return(o=Math.sqrt(i*i+r*r))&&(i/=o,r/=o),(u=i*e+r*t)&&(e-=i*u,t-=r*u),(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s,u/=s),i*t<r*e&&(i=-i,r=-r,u=-u,o=-o),{translateX:n,translateY:a,rotate:Math.atan2(r,i)*El,skewX:Math.atan(u)*El,scaleX:o,scaleY:s}}var Oi,_o,Tl,Sn;function UA(i){return i==="none"?vs:(Oi||(Oi=document.createElement("DIV"),_o=document.documentElement,Tl=document.defaultView),Oi.style.transform=i,i=Tl.getComputedStyle(_o.appendChild(Oi),null).getPropertyValue("transform"),_o.removeChild(Oi),i=i.slice(7,-1).split(","),pd(+i[0],+i[1],+i[2],+i[3],+i[4],+i[5]))}function FA(i){return i==null||(Sn||(Sn=document.createElementNS("http://www.w3.org/2000/svg","g")),Sn.setAttribute("transform",i),!(i=Sn.transform.baseVal.consolidate()))?vs:(i=i.matrix,pd(i.a,i.b,i.c,i.d,i.e,i.f))}function vd(i,r,e,t){function n(h){return h.length?h.pop()+" ":""}function a(h,l,c,f,p,v){if(h!==c||l!==f){var g=p.push("translate(",null,r,null,e);v.push({i:g-4,x:xt(h,c)},{i:g-2,x:xt(l,f)})}else(c||f)&&p.push("translate("+c+r+f+e)}function o(h,l,c,f){h!==l?(h-l>180?l+=360:l-h>180&&(h+=360),f.push({i:c.push(n(c)+"rotate(",null,t)-2,x:xt(h,l)})):l&&c.push(n(c)+"rotate("+l+t)}function s(h,l,c,f){h!==l?f.push({i:c.push(n(c)+"skewX(",null,t)-2,x:xt(h,l)}):l&&c.push(n(c)+"skewX("+l+t)}function u(h,l,c,f,p,v){if(h!==c||l!==f){var g=p.push(n(p)+"scale(",null,",",null,")");v.push({i:g-4,x:xt(h,c)},{i:g-2,x:xt(l,f)})}else(c!==1||f!==1)&&p.push(n(p)+"scale("+c+","+f+")")}return function(h,l){var c=[],f=[];return h=i(h),l=i(l),a(h.translateX,h.translateY,l.translateX,l.translateY,c,f),o(h.rotate,l.rotate,c,f),s(h.skewX,l.skewX,c,f),u(h.scaleX,h.scaleY,l.scaleX,l.scaleY,c,f),h=l=null,function(p){for(var v=-1,g=f.length,A;++v<g;)c[(A=f[v]).i]=A.x(p);return c.join("")}}}var BA=vd(UA,"px, ","px)","deg)"),GA=vd(FA,", ",")",")"),xi=Math.SQRT2,Oo=2,_l=4,HA=1e-12;function Ol(i){return((i=Math.exp(i))+1/i)/2}function kA(i){return((i=Math.exp(i))-1/i)/2}function VA(i){return((i=Math.exp(2*i))-1)/(i+1)}function XA(i,r){var e=i[0],t=i[1],n=i[2],a=r[0],o=r[1],s=r[2],u=a-e,h=o-t,l=u*u+h*h,c,f;if(l<HA)f=Math.log(s/n)/xi,c=function(P){return[e+P*u,t+P*h,n*Math.exp(xi*P*f)]};else{var p=Math.sqrt(l),v=(s*s-n*n+_l*l)/(2*n*Oo*p),g=(s*s-n*n-_l*l)/(2*s*Oo*p),A=Math.log(Math.sqrt(v*v+1)-v),E=Math.log(Math.sqrt(g*g+1)-g);f=(E-A)/xi,c=function(P){var T=P*f,L=Ol(A),m=n/(Oo*p)*(L*VA(xi*T+A)-kA(A));return[e+m*u,t+m*h,n*L/Ol(xi*T+A)]}}return c.duration=f*1e3,c}function gd(i){return function(r,e){var t=i((r=Ln(r)).h,(e=Ln(e)).h),n=we(r.s,e.s),a=we(r.l,e.l),o=we(r.opacity,e.opacity);return function(s){return r.h=t(s),r.s=n(s),r.l=a(s),r.opacity=o(s),r+""}}}const jA=gd(zn);var zA=gd(we);function WA(i,r){var e=we((i=Nn(i)).l,(r=Nn(r)).l),t=we(i.a,r.a),n=we(i.b,r.b),a=we(i.opacity,r.opacity);return function(o){return i.l=e(o),i.a=t(o),i.b=n(o),i.opacity=a(o),i+""}}function Ad(i){return function(r,e){var t=i((r=Cn(r)).h,(e=Cn(e)).h),n=we(r.c,e.c),a=we(r.l,e.l),o=we(r.opacity,e.opacity);return function(s){return r.h=t(s),r.c=n(s),r.l=a(s),r.opacity=o(s),r+""}}}const YA=Ad(zn);var qA=Ad(we);function Sd(i){return function r(e){e=+e;function t(n,a){var o=i((n=Mn(n)).h,(a=Mn(a)).h),s=we(n.s,a.s),u=we(n.l,a.l),h=we(n.opacity,a.opacity);return function(l){return n.h=o(l),n.s=s(l),n.l=u(Math.pow(l,e)),n.opacity=h(l),n+""}}return t.gamma=r,t}(1)}const $A=Sd(zn);var JA=Sd(we);function ZA(i,r){for(var e=0,t=r.length-1,n=r[0],a=new Array(t<0?0:t);e<t;)a[e]=i(n,n=r[++e]);return function(o){var s=Math.max(0,Math.min(t-1,Math.floor(o*=t)));return a[s](o-s)}}function QA(i,r){for(var e=new Array(r),t=0;t<r;++t)e[t]=i(t/(r-1));return e}const eS=Object.freeze(Object.defineProperty({__proto__:null,interpolate:$s,interpolateArray:wA,interpolateBasis:ad,interpolateBasisClosed:od,interpolateCubehelix:$A,interpolateCubehelixLong:JA,interpolateDate:fd,interpolateDiscrete:MA,interpolateHcl:YA,interpolateHclLong:qA,interpolateHsl:jA,interpolateHslLong:zA,interpolateHue:DA,interpolateLab:WA,interpolateNumber:xt,interpolateNumberArray:qs,interpolateObject:cd,interpolateRgb:ds,interpolateRgbBasis:PA,interpolateRgbBasisClosed:LA,interpolateRound:KA,interpolateString:dd,interpolateTransformCss:BA,interpolateTransformSvg:GA,interpolateZoom:XA,piecewise:ZA,quantize:QA},Symbol.toStringTag,{value:"Module"})),tS=Hi(eS);var xl;function Js(){if(xl)return Ee;xl=1;var i=Ee.__read||function(f,p){var v=typeof Symbol=="function"&&f[Symbol.iterator];if(!v)return f;var g=v.call(f),A,E=[],P;try{for(;(p===void 0||p-- >0)&&!(A=g.next()).done;)E.push(A.value)}catch(T){P={error:T}}finally{try{A&&!A.done&&(v=g.return)&&v.call(g)}finally{if(P)throw P.error}}return E},r=Ee.__spread||function(){for(var f=[],p=0;p<arguments.length;p++)f=f.concat(i(arguments[p]));return f};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.interpolate=Ee.interpolateDuration=Ee.interpolateInterval=Ee.identity=Ee.throttleAnimationFrame=Ee.animationFrameLoop=Ee.batch=Ee.throttle=Ee.noop=void 0;var e=tS,t=function(){};Ee.noop=t;var n=function(f,p){var v=!0;return function(){for(var g=[],A=0;A<arguments.length;A++)g[A]=arguments[A];v&&(setTimeout(function(){f.apply(void 0,r(g)),v=!0},p),v=!1)}};Ee.throttle=n;var a=function(f,p){var v=[],g=!0;return function(A){g&&(setTimeout(function(){f(v),v=[],g=!0},p),g=!1),v.push(A)}};Ee.batch=a;var o=function(f){var p,v=function(g){p=requestAnimationFrame(v),f(g)};return p=requestAnimationFrame(v),function(){return cancelAnimationFrame(p)}};Ee.animationFrameLoop=o;var s=function(f){var p,v=!0;return function(){for(var g=[],A=0;A<arguments.length;A++)g[A]=arguments[A];v?(v=!1,f.apply(void 0,r(g)),requestAnimationFrame(function(){p&&f.apply(void 0,r(p)),p=void 0,v=!0})):p=g}};Ee.throttleAnimationFrame=s;var u=function(f){return f};Ee.identity=u;var h=function(f,p){var v=0,g=void 0;return function(A){g!==void 0&&(clearInterval(g),v=0),g=setInterval(function(){v++>=f-1&&(clearInterval(g),g=void 0),A(v/f)},p/f)}};Ee.interpolateInterval=h;var l=function(f){var p,v,g;return function(A){g!==void 0&&cancelAnimationFrame(g),p=performance.now(),v=p+f;var E=function(){var P=performance.now();if(P>v){cancelAnimationFrame(g),g=void 0,A(1);return}A((P-p)/(v-p)),g=requestAnimationFrame(E)};g=requestAnimationFrame(E)}};Ee.interpolateDuration=l;var c=function(f,p,v,g){var A=0,E=g,P=e.interpolateNumber(f,p),T=e.interpolateBasis([f,P(.7),P(.95),p]);return function(L){var m=Math.max(20,L-E);return A+=m,E=L,A>=v?{done:!0,value:p}:{done:!1,value:T(A/v)}}};return Ee.interpolate=c,Ee}var ct={},xo={};const rS=Hi(xA);var Rl;function hi(){return Rl||(Rl=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.RADIANS_PER_DEGREE=i.THREE_HALF_PI=i.TWO_PI=i.HALF_PI=i.pointerKeysFromEvent=i.clientPositionFromEvent=i.angle=i.length=i.midPoint=i.movePoint=i.parentInFront=i.colorToNumber=void 0;var r=rS,e=function(l){var c=r.color(l);return c===null?0:parseInt(c.hex().slice(1),16)};i.colorToNumber=e;var t=function(l,c){for(;c;){if(l.hoveredNode===c)return!0;c=c.parent}return!1};i.parentInFront=t;var n=function(l,c,f,p){return[l+Math.cos(f)*p,c+Math.sin(f)*p]};i.movePoint=n;var a=function(l,c,f,p){return[(l+f)/2,(c+p)/2]};i.midPoint=a;var o=function(l,c,f,p){return Math.hypot(f-l,p-c)};i.length=o;var s=function(l,c,f,p){var v=Math.atan2(c-p,l-f);return v<0?v+i.TWO_PI:v};i.angle=s;var u=function(l){return l instanceof MouseEvent||l instanceof PointerEvent?{x:l.clientX,y:l.clientY}:l.type==="touchend"?{x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY}:{x:l.touches[0].clientX,y:l.touches[0].clientY}};i.clientPositionFromEvent=u;var h=function(l){return l instanceof MouseEvent||l instanceof PointerEvent?{altKey:l.altKey,ctrlKey:l.ctrlKey,metaKey:l.metaKey,shiftKey:l.shiftKey}:{}};i.pointerKeysFromEvent=h,i.HALF_PI=Math.PI/2,i.TWO_PI=Math.PI*2,i.THREE_HALF_PI=i.HALF_PI*3,i.RADIANS_PER_DEGREE=Math.PI/180}(xo)),xo}var qt={},bl;function yd(){if(bl)return qt;bl=1;var i=qt.__createBinding||(Object.create?function(a,o,s,u){u===void 0&&(u=s),Object.defineProperty(a,u,{enumerable:!0,get:function(){return o[s]}})}:function(a,o,s,u){u===void 0&&(u=s),a[u]=o[s]}),r=qt.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),e=qt.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&i(o,a,s);return r(o,a),o};Object.defineProperty(qt,"__esModule",{value:!0}),qt.CircleSprite=void 0;var t=e(yt),n=function(){function a(o){this.texture=o.app.renderer.generateTexture(new t.Graphics().beginFill(16777215).drawCircle(0,0,a.radius),t.SCALE_MODES.LINEAR,2)}return a.prototype.create=function(){var o=new t.Sprite(this.texture);return o.anchor.set(.5),o},a.prototype.delete=function(){this.texture.destroy()},a.radius=500,a}();return qt.CircleSprite=n,qt}var Pl;function iS(){if(Pl)return ct;Pl=1;var i=ct.__assign||function(){return i=Object.assign||function(I){for(var y,w=1,O=arguments.length;w<O;w++){y=arguments[w];for(var d in y)Object.prototype.hasOwnProperty.call(y,d)&&(I[d]=y[d])}return I},i.apply(this,arguments)},r=ct.__createBinding||(Object.create?function(I,y,w,O){O===void 0&&(O=w),Object.defineProperty(I,O,{enumerable:!0,get:function(){return y[w]}})}:function(I,y,w,O){O===void 0&&(O=w),I[O]=y[w]}),e=ct.__setModuleDefault||(Object.create?function(I,y){Object.defineProperty(I,"default",{enumerable:!0,value:y})}:function(I,y){I.default=y}),t=ct.__importStar||function(I){if(I&&I.__esModule)return I;var y={};if(I!=null)for(var w in I)w!=="default"&&Object.prototype.hasOwnProperty.call(I,w)&&r(y,I,w);return e(y,I),y},n=ct.__values||function(I){var y=typeof Symbol=="function"&&Symbol.iterator,w=y&&I[y],O=0;if(w)return w.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&O>=I.length&&(I=void 0),{value:I&&I[O++],done:!I}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},a=ct.__read||function(I,y){var w=typeof Symbol=="function"&&I[Symbol.iterator];if(!w)return I;var O=w.call(I),d,K=[],b;try{for(;(y===void 0||y-- >0)&&!(d=O.next()).done;)K.push(d.value)}catch(R){b={error:R}}finally{try{d&&!d.done&&(w=O.return)&&w.call(O)}finally{if(b)throw b.error}}return K};Object.defineProperty(ct,"__esModule",{value:!0}),ct.NodeRenderer=void 0;var o=t(yt),s=hi(),u=Vl(),h=Js(),l=yd(),c=2,f=s.colorToNumber("#666"),p=s.colorToNumber("#aaa"),v=2,g="Helvetica",A=s.colorToNumber("#444"),E=11,P=18,T=8,L=2,m=function(){function I(y,w,O,d,K,b){var R=this;this.strokeWidth=0,this.subgraphNodes={},this.dirty=!1,this.nodeContainer=new o.Container,this.strokeSpriteContainer=[],this.strokeSprites=[],this.badgeSprites=[],this.labelContainer=new o.Container,this.badgeIconLoader=[],this.doubleClick=!1,this.nodeMoveXOffset=0,this.nodeMoveYOffset=0,this.pointerEnter=function(B){var F,S;if(!(R.renderer.hoveredNode===R||R.renderer.clickedNode!==void 0||R.renderer.dragging)){R.renderer.hoveredNode=R,R.dirty=!0,R.renderer.dirty=!0,R.renderer.nodesLayer.removeChild(R.nodeContainer),R.renderer.labelsLayer.removeChild(R.labelContainer),R.renderer.frontNodeLayer.addChild(R.nodeContainer),R.renderer.frontLabelLayer.addChild(R.labelContainer);for(var _ in R.subgraphNodes)R.renderer.nodesLayer.removeChild(R.subgraphNodes[_].nodeContainer),R.renderer.labelsLayer.removeChild(R.subgraphNodes[_].labelContainer),R.renderer.frontNodeLayer.addChild(R.subgraphNodes[_].nodeContainer),R.renderer.frontLabelLayer.addChild(R.subgraphNodes[_].labelContainer);var x=R.renderer.root.toLocal(B.data.global),D=x.x,N=x.y,C=s.clientPositionFromEvent(B.data.originalEvent);(S=(F=R.renderer).onNodePointerEnter)===null||S===void 0||S.call(F,i({type:"nodePointer",x:D,y:N,clientX:C.x,clientY:C.y,target:R.node},s.pointerKeysFromEvent(B.data.originalEvent)))}},this.pointerDown=function(B){var F,S;R.doubleClickTimeout===void 0?R.doubleClickTimeout=setTimeout(R.clearDoubleClick,500):R.doubleClick=!0,R.renderer.clickedNode=R,R.renderer.app.renderer.plugins.interaction.on("pointermove",R.pointerMove),R.renderer.zoomInteraction.pause(),R.renderer.dragInteraction.pause(),R.renderer.decelerateInteraction.pause();var _=R.renderer.root.toLocal(B.data.global),x=_.x,D=_.y,N=s.clientPositionFromEvent(B.data.originalEvent);R.nodeMoveXOffset=x-R.x,R.nodeMoveYOffset=D-R.y,(S=(F=R.renderer).onNodePointerDown)===null||S===void 0||S.call(F,i({type:"nodePointer",x,y:D,clientX:N.x,clientY:N.y,target:R.node},s.pointerKeysFromEvent(B.data.originalEvent)))},this.pointerMove=function(B){var F,S,_,x;if(R.renderer.clickedNode!==void 0){var D=R.renderer.root.toLocal(B.data.global),N=D.x,C=D.y,M=s.clientPositionFromEvent(B.data.originalEvent),U=N-R.nodeMoveXOffset,k=C-R.nodeMoveYOffset;R.expectedNodeXPosition=U,R.expectedNodeYPosition=k,R.renderer.dragging||(R.renderer.dragging=!0,(S=(F=R.renderer).onNodeDragStart)===null||S===void 0||S.call(F,{type:"nodeDrag",x:N,y:C,clientX:M.x,clientY:M.y,nodeX:U,nodeY:k,target:R.node,altKey:R.renderer.altKey,ctrlKey:R.renderer.ctrlKey,metaKey:R.renderer.metaKey,shiftKey:R.renderer.shiftKey})),(x=(_=R.renderer).onNodeDrag)===null||x===void 0||x.call(_,{type:"nodeDrag",x:N,y:C,clientX:M.x,clientY:M.y,nodeX:U,nodeY:k,target:R.node,altKey:R.renderer.altKey,ctrlKey:R.renderer.ctrlKey,metaKey:R.renderer.metaKey,shiftKey:R.renderer.shiftKey})}},this.pointerUp=function(B){var F,S,_,x,D,N,C,M,U,k;if(R.renderer.clickedNode!==void 0){R.renderer.clickedNode=void 0,R.renderer.app.renderer.plugins.interaction.off("pointermove",R.pointerMove),R.renderer.zoomInteraction.resume(),R.renderer.dragInteraction.resume(),R.renderer.decelerateInteraction.resume(),R.nodeMoveXOffset=0,R.nodeMoveYOffset=0;var X=R.renderer.root.toLocal(B.data.global),W=X.x,z=X.y,$=s.clientPositionFromEvent(B.data.originalEvent);R.renderer.dragging?(R.renderer.dragging=!1,(S=(F=R.renderer).onNodeDragEnd)===null||S===void 0||S.call(F,{type:"nodeDrag",x:W,y:z,clientX:$.x,clientY:$.y,nodeX:(_=R.node.x)!==null&&_!==void 0?_:0,nodeY:(x=R.node.y)!==null&&x!==void 0?x:0,target:R.node,altKey:R.renderer.altKey,ctrlKey:R.renderer.ctrlKey,metaKey:R.renderer.metaKey,shiftKey:R.renderer.shiftKey})):((N=(D=R.renderer).onNodePointerUp)===null||N===void 0||N.call(D,i({type:"nodePointer",x:W,y:z,clientX:$.x,clientY:$.y,target:R.node},s.pointerKeysFromEvent(B.data.originalEvent))),(M=(C=R.renderer).onNodeClick)===null||M===void 0||M.call(C,i({type:"nodePointer",x:W,y:z,clientX:$.x,clientY:$.y,target:R.node},s.pointerKeysFromEvent(B.data.originalEvent))),R.doubleClick&&(R.doubleClick=!1,R.doubleClickTimeout=void 0,(k=(U=R.renderer).onNodeDoubleClick)===null||k===void 0||k.call(U,i({type:"nodePointer",x:W,y:z,clientX:$.x,clientY:$.y,target:R.node},s.pointerKeysFromEvent(B.data.originalEvent)))))}},this.pointerLeave=function(B){var F,S;if(!(R.renderer.clickedNode!==void 0||R.renderer.hoveredNode!==R||R.renderer.dragging)){R.renderer.hoveredNode=void 0,R.dirty=!0,R.renderer.dirty=!0,R.renderer.frontNodeLayer.removeChild(R.nodeContainer),R.renderer.frontLabelLayer.removeChild(R.labelContainer),R.renderer.nodesLayer.addChild(R.nodeContainer),R.renderer.labelsLayer.addChild(R.labelContainer);for(var _ in R.subgraphNodes)R.renderer.frontNodeLayer.removeChild(R.subgraphNodes[_].nodeContainer),R.renderer.frontLabelLayer.removeChild(R.subgraphNodes[_].labelContainer),R.renderer.nodesLayer.addChild(R.subgraphNodes[_].nodeContainer),R.renderer.labelsLayer.addChild(R.subgraphNodes[_].labelContainer);var x=R.renderer.root.toLocal(B.data.global),D=x.x,N=x.y,C=s.clientPositionFromEvent(B.data.originalEvent);(S=(F=R.renderer).onNodePointerLeave)===null||S===void 0||S.call(F,i({type:"nodePointer",x:D,y:N,clientX:C.x,clientY:C.y,target:R.node},s.pointerKeysFromEvent(B.data.originalEvent)))}},this.clearDoubleClick=function(){R.doubleClickTimeout=void 0,R.doubleClick=!1},this.renderer=y,this.parent=b,this.depth=b?b.depth+1:0,this.fillSprite=this.renderer.circle.create(),this.nodeContainer.interactive=!0,this.nodeContainer.buttonMode=!0,this.nodeContainer.zIndex=this.depth,this.nodeContainer.on("pointerover",this.pointerEnter).on("pointerout",this.pointerLeave).on("pointerdown",this.pointerDown).on("pointerup",this.pointerUp).on("pointerupoutside",this.pointerUp).on("pointercancel",this.pointerUp).addChild(this.fillSprite),s.parentInFront(this.renderer,this.parent)?(this.renderer.frontNodeLayer.addChild(this.nodeContainer),this.renderer.frontLabelLayer.addChild(this.labelContainer)):(this.renderer.nodesLayer.addChild(this.nodeContainer),this.renderer.labelsLayer.addChild(this.labelContainer)),this.node=w,this.targetX=this.x=O,this.targetY=this.y=d,this.targetRadius=this.radius=K??P,this.update(w)}return I.prototype.update=function(y){var w,O,d,K,b,R,B,F,S=this,_,x,D,N,C,M,U,k,X,W,z,$,G,j,Z,Y,te,ie,Q,ee,he,Ie,me,Ve,Ce,$e,rt;this.node=y,this.dirty=!0;var Fe=(_=this.node.x)!==null&&_!==void 0?_:0;Fe!==this.targetX&&(Fe===this.expectedNodeXPosition||!this.renderer.animateNodePosition||this.renderer.clickedNode?(this.interpolateX=void 0,this.x=Fe):this.interpolateX=h.interpolate(this.x,Fe,this.renderer.animateNodePosition,this.renderer.time),this.expectedNodeXPosition=void 0,this.targetX=Fe);var mt=(x=this.node.y)!==null&&x!==void 0?x:0;mt!==this.targetY&&(mt===this.expectedNodeYPosition||!this.renderer.animateNodePosition||this.renderer.clickedNode?(this.interpolateY=void 0,this.y=mt):this.interpolateY=h.interpolate(this.y,mt,this.renderer.animateNodePosition,this.renderer.time),this.expectedNodeYPosition=void 0,this.targetY=mt);var It=this.node.radius;It!==this.targetRadius&&(this.renderer.animateNodeRadius?this.interpolateRadius=h.interpolate(this.radius,It,this.renderer.animateNodeRadius,this.renderer.time):(this.interpolateRadius=void 0,this.radius=It),this.targetRadius=It),this.fillSprite.tint=((D=this.node.style)===null||D===void 0?void 0:D.color)===void 0?f:s.colorToNumber((N=this.node.style)===null||N===void 0?void 0:N.color);var hr=(M=(C=y.style)===null||C===void 0?void 0:C.labelFamily)!==null&&M!==void 0?M:g,lt=((U=y.style)===null||U===void 0?void 0:U.labelColor)===void 0?A:s.colorToNumber((k=y.style)===null||k===void 0?void 0:k.labelColor),Ct=(W=(X=y.style)===null||X===void 0?void 0:X.labelSize)!==null&&W!==void 0?W:E,Et=(z=y.style)===null||z===void 0?void 0:z.labelWordWrap,lr=($=y.style)===null||$===void 0?void 0:$.labelBackground;if((y.label!==this.label||hr!==this.labelFamily||lt!==this.labelColor||Ct!==this.labelSize||Et!==this.labelWordWrap||lr!==this.labelBackground)&&(this.label=y.label,this.labelFamily=hr,this.labelColor=lt,this.labelSize=Ct,this.labelWordWrap=Et,this.labelBackground=lr,this.labelContainer.removeChildren(),(G=this.labelSprite)===null||G===void 0||G.destroy(),this.labelSprite=void 0,(j=this.labelLoader)===null||j===void 0||j.call(this),this.label&&(this.labelLoader=this.renderer.fontLoader.load(this.labelFamily,"normal")(function(ae){var Te;S.label===void 0||S.labelFamily!==ae||(S.dirty=!0,S.renderer.dirty=!0,S.labelSprite=new o.Text(S.label,{fontFamily:S.labelFamily,fontSize:((Te=S.labelSize)!==null&&Te!==void 0?Te:E)*2.5,fill:S.labelColor,lineJoin:"round",stroke:S.labelBackground===void 0?"#fff":void 0,strokeThickness:S.labelBackground===void 0?2.5*2.5:0,align:"center",wordWrap:Et!==void 0,wordWrapWidth:Et}),S.labelSprite.anchor.set(.5,0),S.labelSprite.scale.set(.4),S.labelContainer.addChild(S.labelSprite),S.labelBackground&&(S.labelBackgroundSprite=new o.Sprite(o.Texture.WHITE),S.labelBackgroundSprite.width=S.labelSprite.width+4,S.labelBackgroundSprite.height=S.labelSprite.height,S.labelBackgroundSprite.tint=s.colorToNumber(S.labelBackground),S.labelBackgroundSprite.anchor.set(.5,0),S.labelContainer.addChild(S.labelBackgroundSprite)),S.labelContainer.addChild(S.labelSprite))}))),!u.equals((Z=y.style)===null||Z===void 0?void 0:Z.stroke,this.stroke)){this.stroke=(Y=y.style)===null||Y===void 0?void 0:Y.stroke;try{for(var Mt=n(this.strokeSpriteContainer),it=Mt.next();!it.done;it=Mt.next()){var Je=it.value;this.nodeContainer.removeChild(Je),Je.destroy({children:!0})}}catch(ae){w={error:ae}}finally{try{it&&!it.done&&(O=Mt.return)&&O.call(Mt)}finally{if(w)throw w.error}}if(this.strokeSprites=[],this.strokeSpriteContainer=[],this.strokeWidth=0,this.stroke){this.strokeWidth=this.stroke.reduce(function(ae,Te){var be=Te.width,He=be===void 0?v:be;return ae+He},0);try{for(var H=n(this.stroke),V=H.next();!V.done;V=H.next()){var fe=V.value,ce=this.renderer.circle.create();ce.tint=fe.color===void 0?p:s.colorToNumber(fe.color),this.strokeSprites.push({sprite:ce,width:(te=fe.width)!==null&&te!==void 0?te:v});var Je=new o.Container;Je.addChild(ce),this.strokeSpriteContainer.push(Je),this.nodeContainer.addChildAt(Je,0)}}catch(ae){d={error:ae}}finally{try{V&&!V.done&&(K=H.return)&&K.call(H)}finally{if(d)throw d.error}}}}if(!u.equals((ie=y.style)===null||ie===void 0?void 0:ie.badge,this.badge)&&(this.badge=(Q=y.style)===null||Q===void 0?void 0:Q.badge,this.badgeIconLoader.forEach(function(ae){return ae()}),this.badgeSpriteContainer!==void 0&&(this.nodeContainer.removeChild(this.badgeSpriteContainer),this.badgeSpriteContainer.destroy({children:!0}),this.badgeSpriteContainer=void 0),this.badgeSprites=[],this.badge!==void 0)){this.badgeSpriteContainer=new o.Container;var ve=function(ae){((ee=ae.icon)===null||ee===void 0?void 0:ee.type)==="textIcon"?ue.badgeIconLoader.push(ue.renderer.fontLoader.load(ae.icon.family,"bold")(function(Te){var be,He,je,Ze;if(!(S.badgeSpriteContainer===void 0||((be=ae.icon)===null||be===void 0?void 0:be.type)!=="textIcon"||((He=ae.icon)===null||He===void 0?void 0:He.family)!==Te)){S.dirty=!0,S.renderer.dirty=!0;var ft=(je=ae.radius)!==null&&je!==void 0?je:T,zt=ft+((Ze=ae.strokeWidth)!==null&&Ze!==void 0?Ze:L),ze=S.renderer.circle.create();ze.tint=ae.color===void 0?f:s.colorToNumber(ae.color),ze.scale.set(ft/l.CircleSprite.radius);var ke=S.renderer.circle.create();ke.tint=ae.stroke===void 0?p:s.colorToNumber(ae.stroke),ke.scale.set(zt/l.CircleSprite.radius);var nt=S.renderer.fontIcon.create(ae.icon.text,ae.icon.family,ae.icon.size,"bold",ae.icon.color);S.badgeSprites.push({fill:ze,stroke:ke,icon:nt,angle:ae.position*s.RADIANS_PER_DEGREE-s.HALF_PI}),S.badgeSpriteContainer.addChild(ke),S.badgeSpriteContainer.addChild(ze),nt!==void 0&&S.badgeSpriteContainer.addChild(nt),S.nodeContainer.addChild(S.badgeSpriteContainer)}})):((he=ae.icon)===null||he===void 0?void 0:he.type)==="imageIcon"&&ue.badgeIconLoader.push(ue.renderer.imageLoader.load(ae.icon.url)(function(Te){var be,He,je,Ze;if(!(S.badgeSpriteContainer===void 0||((be=ae.icon)===null||be===void 0?void 0:be.type)!=="imageIcon"||((He=ae.icon)===null||He===void 0?void 0:He.url)!==Te)){S.dirty=!0,S.renderer.dirty=!0;var ft=(je=ae.radius)!==null&&je!==void 0?je:T,zt=ft+((Ze=ae.strokeWidth)!==null&&Ze!==void 0?Ze:L),ze=S.renderer.circle.create();ze.tint=ae.color===void 0?f:s.colorToNumber(ae.color),ze.scale.set(ft/l.CircleSprite.radius);var ke=S.renderer.circle.create();ke.tint=ae.stroke===void 0?p:s.colorToNumber(ae.stroke),ke.scale.set(zt/l.CircleSprite.radius);var nt=S.renderer.image.create(ae.icon.url,ae.icon.scale,ae.icon.offsetX,ae.icon.offsetY);S.badgeSprites.push({fill:ze,stroke:ke,icon:nt,angle:ae.position*s.RADIANS_PER_DEGREE-s.HALF_PI,iconXOffset:ae.icon.offsetX,iconYOffset:ae.icon.offsetY}),S.badgeSpriteContainer.addChild(ke),S.badgeSpriteContainer.addChild(ze),nt!==void 0&&S.badgeSpriteContainer.addChild(nt),S.nodeContainer.addChild(S.badgeSpriteContainer)}}))},ue=this;try{for(var Ue=n(this.badge),Be=Ue.next();!Be.done;Be=Ue.next()){var Me=Be.value;ve(Me)}}catch(ae){b={error:ae}}finally{try{Be&&!Be.done&&(R=Ue.return)&&R.call(Ue)}finally{if(b)throw b.error}}}u.equals((Ie=y.style)===null||Ie===void 0?void 0:Ie.icon,this.icon)||(this.icon=(me=y.style)===null||me===void 0?void 0:me.icon,(Ve=this.iconLoader)===null||Ve===void 0||Ve.call(this),this.iconSprite!==void 0&&(this.nodeContainer.removeChild(this.iconSprite),this.iconSprite.destroy(),this.iconSprite=void 0),((Ce=this.icon)===null||Ce===void 0?void 0:Ce.type)==="textIcon"?this.iconLoader=this.renderer.fontLoader.load(this.icon.family,"normal")(function(ae){var Te;((Te=S.icon)===null||Te===void 0?void 0:Te.type)!=="textIcon"||S.icon.family!==ae||(S.dirty=!0,S.renderer.dirty=!0,S.iconSprite=S.renderer.fontIcon.create(S.icon.text,S.icon.family,S.icon.size,"normal",S.icon.color),S.nodeContainer.addChild(S.iconSprite))}):(($e=this.icon)===null||$e===void 0?void 0:$e.type)==="imageIcon"&&(this.iconLoader=this.renderer.imageLoader.load(this.icon.url)(function(ae){var Te;((Te=S.icon)===null||Te===void 0?void 0:Te.type)!=="imageIcon"||S.icon.url!==ae||(S.dirty=!0,S.renderer.dirty=!0,S.iconSprite=S.renderer.image.create(S.icon.url,S.icon.scale,S.icon.offsetX,S.icon.offsetY),S.nodeContainer.addChild(S.iconSprite))})));var Ge={};if(!((rt=y.subgraph)===null||rt===void 0)&&rt.nodes)try{for(var Tt=n(y.subgraph.nodes),Xe=Tt.next();!Xe.done;Xe=Tt.next()){var _e=Xe.value;this.subgraphNodes[_e.id]===void 0?Ge[_e.id]=new I(this.renderer,_e,0,0,_e.radius,this):Ge[_e.id]=this.subgraphNodes[_e.id].update(_e)}}catch(ae){B={error:ae}}finally{try{Xe&&!Xe.done&&(F=Tt.return)&&F.call(Tt)}finally{if(B)throw B.error}}for(var fr in this.subgraphNodes)Ge[fr]===void 0&&this.subgraphNodes[fr].delete();return this.subgraphNodes=Ge,this},I.prototype.render=function(){var y,w,O,d;if(this.dirty=!1,this.interpolateX){var K=this.interpolateX(this.renderer.time),b=K.value,R=K.done;this.x=b,R?this.interpolateX=void 0:this.dirty=!0}if(this.interpolateY){var B=this.interpolateY(this.renderer.time),b=B.value,R=B.done;this.y=b,R?this.interpolateY=void 0:this.dirty=!0}if(this.interpolateRadius){var F=this.interpolateRadius(this.renderer.time),b=F.value,R=F.done;this.radius=b,R?this.interpolateRadius=void 0:this.dirty=!0}this.parent?(this.nodeContainer.x=this.labelContainer.x=this.x+this.parent.x,this.nodeContainer.y=this.labelContainer.y=this.y+this.parent.y):(this.nodeContainer.x=this.labelContainer.x=this.x,this.nodeContainer.y=this.labelContainer.y=this.y),this.fillSprite.scale.set(this.radius/l.CircleSprite.radius);var S=this.radius;if(this.stroke!==void 0)try{for(var _=n(this.strokeSprites),x=_.next();!x.done;x=_.next()){var D=x.value,N=D.sprite,C=D.width;S+=C,N.scale.set(S/l.CircleSprite.radius)}}catch(he){y={error:he}}finally{try{x&&!x.done&&(w=_.return)&&w.call(_)}finally{if(y)throw y.error}}if(this.badge!==void 0)try{for(var M=n(this.badgeSprites),U=M.next();!U.done;U=M.next()){var k=U.value,X=k.fill,W=k.stroke,z=k.icon,$=k.angle,G=k.iconXOffset,j=G===void 0?0:G,Z=k.iconYOffset,Y=Z===void 0?0:Z,te=a(s.movePoint(0,0,$,this.radius+this.strokeWidth),2),ie=te[0],Q=te[1];X.position.set(ie,Q),W.position.set(ie,Q),z==null||z.position.set(ie+j,Q+Y)}}catch(he){O={error:he}}finally{try{U&&!U.done&&(d=M.return)&&d.call(M)}finally{if(O)throw O.error}}this.nodeContainer.hitArea=new o.Circle(0,0,this.radius+this.strokeWidth),this.labelSprite&&(this.labelSprite.y=this.radius+this.strokeWidth+c),this.labelBackgroundSprite&&(this.labelBackgroundSprite.y=this.radius+this.strokeWidth+c);for(var ee in this.subgraphNodes)this.subgraphNodes[ee].render();return this},I.prototype.delete=function(){var y,w;this.doubleClickTimeout&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=void 0),(y=this.labelLoader)===null||y===void 0||y.call(this),this.badgeIconLoader.forEach(function(d){return d()}),(w=this.iconLoader)===null||w===void 0||w.call(this);for(var O in this.subgraphNodes)this.subgraphNodes[O].delete();this.nodeContainer.destroy({children:!0}),this.labelContainer.destroy({children:!0})},I}();return ct.NodeRenderer=m,ct}var at={},$t={},Ll;function md(){if(Ll)return $t;Ll=1;var i=$t.__createBinding||(Object.create?function(a,o,s,u){u===void 0&&(u=s),Object.defineProperty(a,u,{enumerable:!0,get:function(){return o[s]}})}:function(a,o,s,u){u===void 0&&(u=s),a[u]=o[s]}),r=$t.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),e=$t.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&i(o,a,s);return r(o,a),o};Object.defineProperty($t,"__esModule",{value:!0}),$t.ArrowSprite=void 0;var t=e(yt),n=function(){function a(o){this.texture=o.app.renderer.generateTexture(new t.Graphics().beginFill(16777215).lineTo(a.ARROW_HEIGHT*2,a.ARROW_WIDTH).lineTo(a.ARROW_HEIGHT*2,-a.ARROW_WIDTH),t.SCALE_MODES.LINEAR,2)}return a.prototype.create=function(){var o=new t.Sprite(this.texture);return o.anchor.set(0,.5),o.scale.set(.5),o},a.prototype.delete=function(){this.texture.destroy()},a.ARROW_HEIGHT=12,a.ARROW_WIDTH=6,a}();return $t.ArrowSprite=n,$t}var wl;function nS(){if(wl)return at;wl=1;var i=at.__assign||function(){return i=Object.assign||function(T){for(var L,m=1,I=arguments.length;m<I;m++){L=arguments[m];for(var y in L)Object.prototype.hasOwnProperty.call(L,y)&&(T[y]=L[y])}return T},i.apply(this,arguments)},r=at.__createBinding||(Object.create?function(T,L,m,I){I===void 0&&(I=m),Object.defineProperty(T,I,{enumerable:!0,get:function(){return L[m]}})}:function(T,L,m,I){I===void 0&&(I=m),T[I]=L[m]}),e=at.__setModuleDefault||(Object.create?function(T,L){Object.defineProperty(T,"default",{enumerable:!0,value:L})}:function(T,L){T.default=L}),t=at.__importStar||function(T){if(T&&T.__esModule)return T;var L={};if(T!=null)for(var m in T)m!=="default"&&Object.prototype.hasOwnProperty.call(T,m)&&r(L,T,m);return e(L,T),L},n=at.__values||function(T){var L=typeof Symbol=="function"&&Symbol.iterator,m=L&&T[L],I=0;if(m)return m.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&I>=T.length&&(T=void 0),{value:T&&T[I++],done:!T}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")},a=at.__read||function(T,L){var m=typeof Symbol=="function"&&T[Symbol.iterator];if(!m)return T;var I=m.call(T),y,w=[],O;try{for(;(L===void 0||L-- >0)&&!(y=I.next()).done;)w.push(y.value)}catch(d){O={error:d}}finally{try{y&&!y.done&&(m=I.return)&&m.call(I)}finally{if(O)throw O.error}}return w},o=at.__spread||function(){for(var T=[],L=0;L<arguments.length;L++)T=T.concat(a(arguments[L]));return T};Object.defineProperty(at,"__esModule",{value:!0}),at.EdgeRenderer=void 0;var s=t(yt),u=hi(),h=md(),l=4,c=1,f=u.colorToNumber("#ccc"),p=1,v="Helvetica",g=u.colorToNumber("#444"),A=11,E="none",P=function(){function T(L,m){var I=this;this.width=c,this.stroke=f,this.strokeOpacity=p,this.line=new s.ParticleContainer,this.arrowContainer=new s.Container,this.arrow=E,this.labelContainer=new s.Container,this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.curve=0,this.doubleClick=!1,this.pointerEnter=function(y){var w,O;if(!(I.renderer.clickedEdge!==void 0||I.renderer.hoveredEdge!==void 0||I.renderer.clickedNode!==void 0||I.renderer.dragging)){I.renderer.hoveredEdge=I;var d=I.renderer.root.toLocal(y.data.global),K=d.x,b=d.y,R=u.clientPositionFromEvent(y.data.originalEvent);(O=(w=I.renderer).onEdgePointerEnter)===null||O===void 0||O.call(w,i({type:"edgePointer",x:K,y:b,clientX:R.x,clientY:R.y,target:I.edge},u.pointerKeysFromEvent(y.data.originalEvent)))}},this.pointerLeave=function(y){var w,O;if(!(I.renderer.clickedEdge!==void 0||I.renderer.hoveredEdge!==I||I.renderer.clickedNode!==void 0||I.renderer.dragging)){I.renderer.hoveredEdge=void 0;var d=I.renderer.root.toLocal(y.data.global),K=d.x,b=d.y,R=u.clientPositionFromEvent(y.data.originalEvent);(O=(w=I.renderer).onEdgePointerLeave)===null||O===void 0||O.call(w,i({type:"edgePointer",x:K,y:b,clientX:R.x,clientY:R.y,target:I.edge},u.pointerKeysFromEvent(y.data.originalEvent)))}},this.clearDoubleClick=function(){I.doubleClickTimeout=void 0,I.doubleClick=!1},this.pointerDown=function(y){var w,O;I.doubleClickTimeout===void 0?I.doubleClickTimeout=setTimeout(I.clearDoubleClick,500):I.doubleClick=!0,I.renderer.clickedEdge=I,I.renderer.zoomInteraction.pause(),I.renderer.dragInteraction.pause(),I.renderer.decelerateInteraction.pause();var d=I.renderer.root.toLocal(y.data.global),K=d.x,b=d.y,R=u.clientPositionFromEvent(y.data.originalEvent);(O=(w=I.renderer).onEdgePointerDown)===null||O===void 0||O.call(w,i({type:"edgePointer",x:K,y:b,clientX:R.x,clientY:R.y,target:I.edge},u.pointerKeysFromEvent(y.data.originalEvent)))},this.pointerUp=function(y){var w,O,d,K,b,R;if(I.renderer.clickedEdge!==void 0){I.renderer.clickedEdge=void 0,I.renderer.zoomInteraction.resume(),I.renderer.dragInteraction.resume(),I.renderer.decelerateInteraction.resume();var B=I.renderer.root.toLocal(y.data.global),F=B.x,S=B.y,_=u.clientPositionFromEvent(y.data.originalEvent);(O=(w=I.renderer).onEdgePointerUp)===null||O===void 0||O.call(w,i({type:"edgePointer",x:F,y:S,clientX:_.x,clientY:_.y,target:I.edge},u.pointerKeysFromEvent(y.data.originalEvent))),(K=(d=I.renderer).onEdgeClick)===null||K===void 0||K.call(d,i({type:"edgePointer",x:F,y:S,clientX:_.x,clientY:_.y,target:I.edge},u.pointerKeysFromEvent(y.data.originalEvent))),I.doubleClick&&(I.doubleClick=!1,I.doubleClickTimeout=void 0,(R=(b=I.renderer).onEdgeDoubleClick)===null||R===void 0||R.call(b,i({type:"edgePointer",x:F,y:S,clientX:_.x,clientY:_.y,target:I.edge},u.pointerKeysFromEvent(y.data.originalEvent))))}},this.renderer=L,this.line.interactive=!0,this.line.buttonMode=!0,this.line.on("pointerover",this.pointerEnter).on("pointerout",this.pointerLeave).on("pointerdown",this.pointerDown).on("pointerup",this.pointerUp).on("pointerupoutside",this.pointerUp).on("pointercancel",this.pointerUp),this.renderer.edgesLayer.addChild(this.line),this.renderer.edgesLayer.addChild(this.arrowContainer),this.renderer.edgesLayer.addChild(this.labelContainer),this.edge=m,this.update(m)}return T.prototype.update=function(L){var m,I,y=this,w,O,d,K,b,R,B,F,S,_,x,D,N,C,M,U,k,X,W;this.edge=L,this.width=(O=(w=this.edge.style)===null||w===void 0?void 0:w.width)!==null&&O!==void 0?O:c;var z=(K=(d=L.style)===null||d===void 0?void 0:d.arrow)!==null&&K!==void 0?K:E;this.arrow!==z&&(this.arrow=z,this.arrowContainer.removeChildren(),(b=this.forwardArrow)===null||b===void 0||b.destroy(),(R=this.reverseArrow)===null||R===void 0||R.destroy(),this.forwardArrow=void 0,this.reverseArrow=void 0,this.arrow==="forward"?(this.forwardArrow=this.renderer.arrow.create(),this.forwardArrow.tint=this.stroke,this.forwardArrow.alpha=this.strokeOpacity,this.arrowContainer.addChild(this.forwardArrow)):this.arrow==="reverse"?(this.reverseArrow=this.renderer.arrow.create(),this.reverseArrow.tint=this.stroke,this.reverseArrow.alpha=this.strokeOpacity,this.arrowContainer.addChild(this.reverseArrow)):this.arrow==="both"&&(this.forwardArrow=this.renderer.arrow.create(),this.reverseArrow=this.renderer.arrow.create(),this.forwardArrow.tint=this.stroke,this.forwardArrow.alpha=this.strokeOpacity,this.reverseArrow.tint=this.stroke,this.reverseArrow.alpha=this.strokeOpacity,this.arrowContainer.addChild(this.forwardArrow),this.arrowContainer.addChild(this.reverseArrow)));var $=((B=L.style)===null||B===void 0?void 0:B.stroke)===void 0?f:u.colorToNumber((F=L.style)===null||F===void 0?void 0:F.stroke);this.stroke!==$&&(this.stroke=$,this.arrow==="forward"&&this.forwardArrow!==void 0?this.forwardArrow.tint=this.stroke:this.arrow==="reverse"&&this.reverseArrow!==void 0?this.reverseArrow.tint=this.stroke:this.arrow==="both"&&this.forwardArrow!==void 0&&this.reverseArrow!==void 0&&(this.reverseArrow.tint=this.stroke,this.forwardArrow.tint=this.stroke));var G=(_=(S=L.style)===null||S===void 0?void 0:S.strokeOpacity)!==null&&_!==void 0?_:p;this.strokeOpacity!==G&&(this.strokeOpacity=G,this.arrow==="forward"&&this.forwardArrow!==void 0?this.forwardArrow.alpha=this.strokeOpacity:this.arrow==="reverse"&&this.reverseArrow!==void 0?this.reverseArrow.alpha=this.strokeOpacity:this.arrow==="both"&&this.forwardArrow!==void 0&&this.reverseArrow!==void 0&&(this.reverseArrow.alpha=this.strokeOpacity,this.forwardArrow.alpha=this.strokeOpacity));var j=(D=(x=L.style)===null||x===void 0?void 0:x.labelFamily)!==null&&D!==void 0?D:v,Z=((N=L.style)===null||N===void 0?void 0:N.labelColor)===void 0?g:u.colorToNumber((C=L.style)===null||C===void 0?void 0:C.labelColor),Y=(U=(M=L.style)===null||M===void 0?void 0:M.labelSize)!==null&&U!==void 0?U:A,te=(k=L.style)===null||k===void 0?void 0:k.labelWordWrap;(L.label!==this.label||j!==this.labelFamily||Z!==this.labelColor||Y!==this.labelSize||te!==this.labelWordWrap)&&(this.label=L.label,this.labelFamily=j,this.labelColor=Z,this.labelSize=Y,this.labelWordWrap=te,this.labelContainer.removeChildren(),(X=this.labelSprite)===null||X===void 0||X.destroy(),this.labelSprite=void 0,(W=this.labelLoader)===null||W===void 0||W.call(this),this.label&&(this.labelLoader=this.renderer.fontLoader.load(this.labelFamily,"normal")(function(Ie){var me;y.label===void 0||y.labelFamily!==Ie||(y.renderer.dirty=!0,y.labelSprite=new s.Text(y.label,{fontFamily:y.labelFamily,fontSize:((me=y.labelSize)!==null&&me!==void 0?me:A)*2.5,fill:y.labelColor,lineJoin:"round",stroke:"#fafafa",strokeThickness:2.5*2.5,align:"center",wordWrap:te!==void 0,wordWrapWidth:te}),y.labelSprite.scale.set(.4),y.labelSprite.anchor.set(.5,.5),y.labelContainer.addChild(y.labelSprite))})));var ie=this.renderer.edgeIndex[this.edge.source][this.edge.target];this.curve=this.edge.source===this.edge.target?0:ie.size-1;try{for(var Q=n(ie),ee=Q.next();!ee.done;ee=Q.next()){var he=ee.value;if(he===this.edge.id)break;this.curve-=2}}catch(Ie){m={error:Ie}}finally{try{ee&&!ee.done&&(I=Q.return)&&I.call(Q)}finally{if(m)throw m.error}}return this},T.prototype.render=function(){var L,m,I,y=this.renderer.nodesById[this.edge.source],w=this.renderer.nodesById[this.edge.target],O=y.radius+y.strokeWidth,d=w.radius+w.strokeWidth,K=u.angle(y.x,y.y,w.x,w.y),b=u.movePoint(y.x,y.y,K,-O),R=u.movePoint(w.x,w.y,K,d),B=u.midPoint(b[0],b[1],R[0],R[1]);if(y===w){if(this.curve===0){var F=2*O;B=[y.x-F,y.y];var S=new((L=s.Circle).bind.apply(L,o([void 0],B,[F])));this.x0=y.x,this.y0=y.y,this.x1=y.x,this.y1=y.y,this.renderer.edgesGraphic.moveTo(this.x0,this.y0).lineStyle(this.width,this.stroke,this.strokeOpacity).drawShape(S),this.labelContainer.x=B[0]-F,this.labelContainer.y=B[1],((I=(m=this.labelSprite)===null||m===void 0?void 0:m.width)!==null&&I!==void 0?I:0)>2*F&&(this.labelContainer.visible=!1),this.line.hitArea=S}}else if(this.curve===0){var _=this.reverseArrow?u.movePoint(y.x,y.y,K,-O-h.ArrowSprite.ARROW_HEIGHT):b,x=this.forwardArrow?u.movePoint(w.x,w.y,K,d+h.ArrowSprite.ARROW_HEIGHT):R;this.x0=_[0],this.y0=_[1],this.x1=x[0],this.y1=x[1],this.renderer.edgesGraphic.moveTo(this.x0,this.y0).lineStyle(this.width,this.stroke,this.strokeOpacity).lineTo(this.x1,this.y1),this.labelContainer.x=B[0],this.labelContainer.y=B[1],this.labelContainer.rotation=K>u.HALF_PI&&K<u.THREE_HALF_PI?K-Math.PI:K,this.forwardArrow&&(this.forwardArrow.x=R[0],this.forwardArrow.y=R[1],this.forwardArrow.rotation=K),this.reverseArrow&&(this.reverseArrow.x=b[0],this.reverseArrow.y=b[1],this.reverseArrow.rotation=K+Math.PI);var D=Math.max(this.width,l),N=K+u.HALF_PI,C=new Array(8),M=u.movePoint(b[0],b[1],N,D);C[0]=M[0],C[1]=M[1],M=u.movePoint(R[0],R[1],N,D),C[2]=M[0],C[3]=M[1],M=u.movePoint(R[0],R[1],N,-D),C[4]=M[0],C[5]=M[1],M=u.movePoint(b[0],b[1],N,-D),C[6]=M[0],C[7]=M[1],this.line.hitArea=new s.Polygon(C)}else{this.curvePeak=u.movePoint(B[0],B[1],K>u.TWO_PI||K<0?K-u.HALF_PI:K+u.HALF_PI,this.edge.source>this.edge.target?this.curve*10:this.curve*-10);var U=u.angle(y.x,y.y,this.curvePeak[0],this.curvePeak[1]),k=u.angle(this.curvePeak[0],this.curvePeak[1],w.x,w.y),X=this.reverseArrow?u.movePoint(y.x,y.y,U,-O-h.ArrowSprite.ARROW_HEIGHT):u.movePoint(y.x,y.y,U,-O),W=this.forwardArrow?u.movePoint(w.x,w.y,k,d+h.ArrowSprite.ARROW_HEIGHT):u.movePoint(w.x,w.y,k,d);this.x0=X[0],this.y0=X[1],this.x1=W[0],this.y1=W[1];var z=u.length(this.x0,this.y0,this.x1,this.y1);if(this.curveControlPointA=u.movePoint(this.curvePeak[0],this.curvePeak[1],K,z/4),this.curveControlPointB=u.movePoint(this.curvePeak[0],this.curvePeak[1],K,z/-4),this.renderer.edgesGraphic.moveTo(this.x0,this.y0).lineStyle(this.width,this.stroke,this.strokeOpacity).bezierCurveTo(this.x0,this.y0,this.curveControlPointA[0],this.curveControlPointA[1],this.curvePeak[0],this.curvePeak[1]).bezierCurveTo(this.curveControlPointB[0],this.curveControlPointB[1],this.x1,this.y1,this.x1,this.y1),this.labelContainer.x=this.curvePeak[0],this.labelContainer.y=this.curvePeak[1],this.labelContainer.rotation=K>u.HALF_PI&&K<u.THREE_HALF_PI?K-Math.PI:K,this.forwardArrow){var $=a(u.movePoint(w.x,w.y,k,d),2),G=$[0],j=$[1];this.forwardArrow.x=G,this.forwardArrow.y=j,this.forwardArrow.rotation=k}if(this.reverseArrow){var Z=a(u.movePoint(y.x,y.y,U,-O),2),G=Z[0],j=Z[1];this.reverseArrow.x=G,this.reverseArrow.y=j,this.reverseArrow.rotation=U+Math.PI}var D=Math.max(this.width,l),C=new Array(12),M=u.movePoint(this.x0,this.y0,U+u.HALF_PI,D);C[0]=M[0],C[1]=M[1],M=u.movePoint(this.curvePeak[0],this.curvePeak[1],K+u.HALF_PI,D),C[2]=M[0],C[3]=M[1],M=u.movePoint(this.x1,this.y1,k+u.HALF_PI,D),C[4]=M[0],C[5]=M[1],M=u.movePoint(this.x1,this.y1,K+u.HALF_PI,-D),C[6]=M[0],C[7]=M[1],M=u.movePoint(this.curvePeak[0],this.curvePeak[1],K+u.HALF_PI,-D),C[8]=M[0],C[9]=M[1],M=u.movePoint(this.x0,this.y0,U+u.HALF_PI,-D),C[10]=M[0],C[11]=M[1],this.line.hitArea=new s.Polygon(C)}if(this.label&&this.labelSprite){var z=u.length(this.x0,this.y0,this.x1,this.y1);this.labelSprite.width>z&&this.edge.target!==this.edge.source?this.labelSprite.visible=!1:this.labelSprite.visible=!0}},T.prototype.delete=function(){var L;this.doubleClickTimeout&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=void 0),(L=this.labelLoader)===null||L===void 0||L.call(this),this.line.destroy(),this.arrowContainer.destroy(),this.labelContainer.destroy(),delete this.renderer.edgesById[this.edge.id]},T}();return at.EdgeRenderer=P,at}var Ri={},Nl;function aS(){if(Nl)return Ri;Nl=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.Drag=void 0;var i=hi(),r=function(){function e(t){var n=this;this.paused=!1,this.moved=!1,this.down=function(a){n.paused||(n.renderer.container.style.cursor="move",n.last={x:a.data.global.x,y:a.data.global.y},n.current=a.data.pointerId)},this.move=function(a){var o,s,u,h;if(!n.paused&&n.last&&n.current===a.data.pointerId){var l=a.data.global.x,c=a.data.global.y,f=l-n.last.x,p=c-n.last.y;if(n.moved||Math.abs(f)>=5||Math.abs(p)>=5){var v=n.renderer.x+f/n.renderer.zoom,g=n.renderer.y+p/n.renderer.zoom;n.last={x:l,y:c},n.moved=!0,n.renderer.expectedViewportXPosition=v,n.renderer.expectedViewportYPosition=g;var A=n.renderer.root.toLocal(a.data.global),E=i.clientPositionFromEvent(a.data.originalEvent);n.renderer.dragging||(n.renderer.dragging=!0,(s=(o=n.renderer).onViewportDragStart)===null||s===void 0||s.call(o,{type:"viewportDrag",x:A.x,y:A.y,clientX:E.x,clientY:E.y,viewportX:v,viewportY:g,target:{x:n.renderer.x,y:n.renderer.y,zoom:n.renderer.zoom},altKey:n.renderer.altKey,ctrlKey:n.renderer.ctrlKey,metaKey:n.renderer.metaKey,shiftKey:n.renderer.shiftKey})),(h=(u=n.renderer).onViewportDrag)===null||h===void 0||h.call(u,{type:"viewportDrag",x:A.x,y:A.y,clientX:E.x,clientY:E.y,viewportX:v,viewportY:g,target:{x:n.renderer.x,y:n.renderer.y,zoom:n.renderer.zoom},altKey:n.renderer.altKey,ctrlKey:n.renderer.ctrlKey,metaKey:n.renderer.metaKey,shiftKey:n.renderer.shiftKey})}}},this.up=function(){n.paused||(n.renderer.container.style.cursor="auto",n.last=void 0,n.moved=!1)},this.renderer=t}return e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},e}();return Ri.Drag=r,Ri}var Gr={},Cl;function oS(){if(Cl)return Gr;Cl=1;var i=Gr.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Decelerate=void 0;var r=function(){function e(t){var n=this;this.paused=!1,this.saved=[],this.minSpeed=.01,this.down=function(){n.saved=[],n.x=n.y=void 0},this.move=function(){n.paused||(n.saved.push({x:n.renderer.x,y:n.renderer.y,time:performance.now()}),n.saved.length>60&&n.saved.splice(0,30))},this.up=function(){var a,o;if(n.saved.length){var s=performance.now();try{for(var u=i(n.saved),h=u.next();!h.done;h=u.next()){var l=h.value;if(l.time>=s-100){var c=s-l.time;n.x=(n.renderer.x-l.x)/c,n.y=(n.renderer.y-l.y)/c,n.percentChangeX=n.percentChangeY=n.renderer.dragInertia;break}}}catch(f){a={error:f}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}}},this.update=function(a){var o,s;if(!(n.paused||n.renderer.dragInertia===0)){var u,h;n.x&&(u=n.renderer.x+n.x*a,n.x*=n.percentChangeX,Math.abs(n.x)<n.minSpeed&&(n.x=0)),n.y&&(h=n.renderer.y+n.y*a,n.y*=n.percentChangeY,Math.abs(n.y)<n.minSpeed&&(n.y=0)),(u||h)&&(n.renderer.expectedViewportXPosition=u??n.renderer.x,n.renderer.expectedViewportYPosition=h??n.renderer.y,(s=(o=n.renderer).onViewportDrag)===null||s===void 0||s.call(o,{type:"viewportDragDecelarate",viewportX:u??n.renderer.x,viewportY:h??n.renderer.y,target:{x:n.renderer.x,y:n.renderer.y,zoom:n.renderer.zoom}}))}},this.renderer=t,this.percentChangeX=t.dragInertia,this.percentChangeY=t.dragInertia}return e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},e}();return Gr.Decelerate=r,Gr}var Jt={},Ml;function sS(){if(Ml)return Jt;Ml=1;var i=Jt.__createBinding||(Object.create?function(a,o,s,u){u===void 0&&(u=s),Object.defineProperty(a,u,{enumerable:!0,get:function(){return o[s]}})}:function(a,o,s,u){u===void 0&&(u=s),a[u]=o[s]}),r=Jt.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),e=Jt.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&i(o,a,s);return r(o,a),o};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.Zoom=void 0;var t=e(yt),n=function(){function a(o){var s=this;this.paused=!1,this.wheel=function(u){var h,l;if(s.renderer.onViewportWheel!==void 0&&u.preventDefault(),!s.paused){var c=-u.deltaY*(u.deltaMode?20:1)/500,f=Math.pow(2,1.1*c),p=s.renderer.zoom,v=Math.max(s.renderer.minZoom,Math.min(s.renderer.maxZoom,p*f));if(!(c>0&&p>=s.renderer.maxZoom||c<0&&p<=s.renderer.minZoom)){var g=new t.Point;s.renderer.app.renderer.plugins.interaction.mapPositionToPoint(g,u.clientX,u.clientY);var A=s.renderer.root.toLocal(g);s.renderer.root.scale.set(v);var E=s.renderer.root.toGlobal(A),P=s.renderer.root.x+g.x-E.x,T=s.renderer.root.y+g.y-E.y;s.renderer.root.scale.set(p);var L=(P-s.renderer.width/2)/v,m=(T-s.renderer.height/2)/v;s.renderer.expectedViewportXPosition=L,s.renderer.expectedViewportYPosition=m,s.renderer.expectedViewportZoom=v,(l=(h=s.renderer).onViewportWheel)===null||l===void 0||l.call(h,{type:"viewportWheel",x:A.x,y:A.y,clientX:u.clientX,clientY:u.clientY,viewportX:L,viewportY:m,viewportZoom:v,target:{x:s.renderer.x,y:s.renderer.y,zoom:s.renderer.zoom}})}}},this.renderer=o}return a.prototype.pause=function(){this.paused=!0},a.prototype.resume=function(){this.paused=!1},a}();return Jt.Zoom=n,Jt}var Zt={},Dl;function uS(){if(Dl)return Zt;Dl=1;var i=Zt.__createBinding||(Object.create?function(a,o,s,u){u===void 0&&(u=s),Object.defineProperty(a,u,{enumerable:!0,get:function(){return o[s]}})}:function(a,o,s,u){u===void 0&&(u=s),a[u]=o[s]}),r=Zt.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),e=Zt.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&i(o,a,s);return r(o,a),o};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.ImageSprite=void 0;var t=e(yt),n=function(){function a(){this.cache={}}return a.prototype.create=function(o,s,u,h){s===void 0&&(s=1),u===void 0&&(u=0),h===void 0&&(h=0),this.cache[o]===void 0&&(this.cache[o]=t.Sprite.from(o).texture);var l=new t.Sprite(this.cache[o]);return l.position.set(u,h),l.anchor.set(.5),l.scale.set(s),l},a.prototype.delete=function(){Object.values(this.cache).forEach(function(o){return o.destroy()}),this.cache={}},a}();return Zt.ImageSprite=n,Zt}var Qt={},Kl;function hS(){if(Kl)return Qt;Kl=1;var i=Qt.__createBinding||(Object.create?function(a,o,s,u){u===void 0&&(u=s),Object.defineProperty(a,u,{enumerable:!0,get:function(){return o[s]}})}:function(a,o,s,u){u===void 0&&(u=s),a[u]=o[s]}),r=Qt.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),e=Qt.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&i(o,a,s);return r(o,a),o};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.FontIconSprite=void 0;var t=e(yt),n=function(){function a(){this.cache={}}return a.prototype.create=function(o,s,u,h,l){var c=o+"-"+s+"-"+u+"-"+h+"-"+l;if(this.cache[c]===void 0){var f=new t.Text(o,{fontFamily:s,fontSize:u*4,fontWeight:h,fill:l});f.updateText(!0),this.cache[c]=f.texture}var p=new t.Sprite(this.cache[c]);return p.position.set(0,0),p.anchor.set(.5),p.scale.set(.25),p},a.prototype.delete=function(){Object.values(this.cache).forEach(function(o){return o.destroy()}),this.cache={}},a}();return Qt.FontIconSprite=n,Qt}var Sr={},Ro={exports:{}},Ul;function lS(){return Ul||(Ul=1,function(i){(function(){function r(g,A){document.addEventListener?g.addEventListener("scroll",A,!1):g.attachEvent("scroll",A)}function e(g){document.body?g():document.addEventListener?document.addEventListener("DOMContentLoaded",function A(){document.removeEventListener("DOMContentLoaded",A),g()}):document.attachEvent("onreadystatechange",function A(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",A),g())})}function t(g){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(g)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(g,A){g.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+A+";"}function a(g){var A=g.g.offsetWidth,E=A+100;return g.j.style.width=E+"px",g.i.scrollLeft=E,g.h.scrollLeft=g.h.scrollWidth+100,g.l!==A?(g.l=A,!0):!1}function o(g,A){function E(){var T=P;a(T)&&T.g.parentNode!==null&&A(T.l)}var P=g;r(g.h,E),r(g.i,E),a(g)}function s(g,A,E){A=A||{},E=E||window,this.family=g,this.style=A.style||"normal",this.weight=A.weight||"normal",this.stretch=A.stretch||"normal",this.context=E}var u=null,h=null,l=null,c=null;function f(g){return h===null&&(p(g)&&/Apple/.test(window.navigator.vendor)?(g=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),h=!!g&&603>parseInt(g[1],10)):h=!1),h}function p(g){return c===null&&(c=!!g.document.fonts),c}function v(g,A){var E=g.style,P=g.weight;if(l===null){var T=document.createElement("div");try{T.style.font="condensed 100px sans-serif"}catch{}l=T.style.font!==""}return[E,P,l?g.stretch:"","100px",A].join(" ")}s.prototype.load=function(g,A){var E=this,P=g||"BESbswy",T=0,L=A||3e3,m=new Date().getTime();return new Promise(function(I,y){if(p(E.context)&&!f(E.context)){var w=new Promise(function(d,K){function b(){new Date().getTime()-m>=L?K(Error(""+L+"ms timeout exceeded")):E.context.document.fonts.load(v(E,'"'+E.family+'"'),P).then(function(R){1<=R.length?d():setTimeout(b,25)},K)}b()}),O=new Promise(function(d,K){T=setTimeout(function(){K(Error(""+L+"ms timeout exceeded"))},L)});Promise.race([O,w]).then(function(){clearTimeout(T),I(E)},y)}else e(function(){function d(){var M;(M=F!=-1&&S!=-1||F!=-1&&_!=-1||S!=-1&&_!=-1)&&((M=F!=S&&F!=_&&S!=_)||(u===null&&(M=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!M&&(536>parseInt(M[1],10)||parseInt(M[1],10)===536&&11>=parseInt(M[2],10))),M=u&&(F==x&&S==x&&_==x||F==D&&S==D&&_==D||F==N&&S==N&&_==N)),M=!M),M&&(C.parentNode!==null&&C.parentNode.removeChild(C),clearTimeout(T),I(E))}function K(){if(new Date().getTime()-m>=L)C.parentNode!==null&&C.parentNode.removeChild(C),y(Error(""+L+"ms timeout exceeded"));else{var M=E.context.document.hidden;(M===!0||M===void 0)&&(F=b.g.offsetWidth,S=R.g.offsetWidth,_=B.g.offsetWidth,d()),T=setTimeout(K,50)}}var b=new t(P),R=new t(P),B=new t(P),F=-1,S=-1,_=-1,x=-1,D=-1,N=-1,C=document.createElement("div");C.dir="ltr",n(b,v(E,"sans-serif")),n(R,v(E,"serif")),n(B,v(E,"monospace")),C.appendChild(b.g),C.appendChild(R.g),C.appendChild(B.g),E.context.document.body.appendChild(C),x=b.g.offsetWidth,D=R.g.offsetWidth,N=B.g.offsetWidth,K(),o(b,function(M){F=M,d()}),n(b,v(E,'"'+E.family+'",sans-serif')),o(R,function(M){S=M,d()}),n(R,v(E,'"'+E.family+'",serif')),o(B,function(M){_=M,d()}),n(B,v(E,'"'+E.family+'",monospace'))})})},i.exports=s})()}(Ro)),Ro.exports}var Fl;function fS(){return Fl||(Fl=1,function(i){var r=Sr.__createBinding||(Object.create?function(f,p,v,g){g===void 0&&(g=v),Object.defineProperty(f,g,{enumerable:!0,get:function(){return p[v]}})}:function(f,p,v,g){g===void 0&&(g=v),f[g]=p[v]}),e=Sr.__setModuleDefault||(Object.create?function(f,p){Object.defineProperty(f,"default",{enumerable:!0,value:p})}:function(f,p){f.default=p}),t=Sr.__importStar||function(f){if(f&&f.__esModule)return f;var p={};if(f!=null)for(var v in f)v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)&&r(p,f,v);return e(p,f),p},n=Sr.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.ImageLoader=i.FontLoader=i.Async=void 0;var a=t(yt),o=n(lS()),s=Js(),u=s.throttle(function(f){return console.warn(f)},0),h=function(f){return function(p){var v=!1;return f(function(g){v||p(g)}),function(){v=!0}}};i.Async=h;var l=function(){var f={},p=0,v=new Set;return{load:function(g,A){var E,P;if(f[g])return i.Async(function(L){return L(g)});if(!((P=(E=document)===null||E===void 0?void 0:E.fonts)===null||P===void 0)&&P.load){var T=p++;return v.add(T),i.Async(function(L){document.fonts.load(A+" 1em "+g).then(function(){f[g]=!0,v.delete(T),L(g)})})}else return i.Async(function(L){var m=p++;v.add(m),new o.default(g).load().then(function(){f[g]=!0,v.delete(m),L(g)}).catch(function(I){u(I),f[g]=!0,v.delete(m),L(g)})})},loading:function(){return v.size>0}}};i.FontLoader=l;var c=function(){var f={},p=0,v=new Set;return{load:function(g){return f[g]===void 0&&(f[g]=new a.Loader().add(g)),i.Async(function(A){var E=p++;v.add(E),f[g].load(function(){v.delete(E),A(g)})})},loading:function(){return v.size>0}}};i.ImageLoader=c}(Sr)),Sr}var er={},Bl;function cS(){if(Bl)return er;Bl=1;var i=er.__createBinding||(Object.create?function(o,s,u,h){h===void 0&&(h=u),Object.defineProperty(o,h,{enumerable:!0,get:function(){return s[u]}})}:function(o,s,u,h){h===void 0&&(h=u),o[h]=s[u]}),r=er.__setModuleDefault||(Object.create?function(o,s){Object.defineProperty(o,"default",{enumerable:!0,value:s})}:function(o,s){o.default=s}),e=er.__importStar||function(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var u in o)u!=="default"&&Object.prototype.hasOwnProperty.call(o,u)&&i(s,o,u);return r(s,o),s};Object.defineProperty(er,"__esModule",{value:!0}),er.CircleAnnotationRenderer=void 0;var t=e(yt),n=hi(),a=function(){function o(s,u){this.circleGraphic=new t.Graphics,this.renderer=s,this.circle=u,this.renderer.annotationsBottomLayer.addChild(this.circleGraphic),this.update(u)}return o.prototype.update=function(s){return this.circle=s,this.circleGraphic.clear().beginFill(n.colorToNumber(this.circle.style.color)).lineStyle(this.circle.style.stroke.width,n.colorToNumber(this.circle.style.stroke.color)).drawCircle(this.circle.x,this.circle.y,this.circle.radius).endFill(),this},o.prototype.delete=function(){this.circleGraphic.destroy()},o}();return er.CircleAnnotationRenderer=a,er}var tr={},Gl;function dS(){if(Gl)return tr;Gl=1;var i=tr.__createBinding||(Object.create?function(o,s,u,h){h===void 0&&(h=u),Object.defineProperty(o,h,{enumerable:!0,get:function(){return s[u]}})}:function(o,s,u,h){h===void 0&&(h=u),o[h]=s[u]}),r=tr.__setModuleDefault||(Object.create?function(o,s){Object.defineProperty(o,"default",{enumerable:!0,value:s})}:function(o,s){o.default=s}),e=tr.__importStar||function(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var u in o)u!=="default"&&Object.prototype.hasOwnProperty.call(o,u)&&i(s,o,u);return r(s,o),s};Object.defineProperty(tr,"__esModule",{value:!0}),tr.RectangleAnnotationRenderer=void 0;var t=e(yt),n=hi(),a=function(){function o(s,u){this.rectangleGraphic=new t.Graphics,this.renderer=s,this.rectangle=u,this.renderer.annotationsBottomLayer.addChild(this.rectangleGraphic),this.update(u)}return o.prototype.update=function(s){return this.rectangle=s,this.rectangleGraphic.clear().beginFill(n.colorToNumber(this.rectangle.style.color)).lineStyle(this.rectangle.style.stroke.width,n.colorToNumber(this.rectangle.style.stroke.color)).drawRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height).endFill(),this},o.prototype.delete=function(){this.rectangleGraphic.destroy()},o}();return tr.RectangleAnnotationRenderer=a,tr}var Hl;function pS(){return Hl||(Hl=1,function(i){var r=Yt.__assign||function(){return r=Object.assign||function(w){for(var O,d=1,K=arguments.length;d<K;d++){O=arguments[d];for(var b in O)Object.prototype.hasOwnProperty.call(O,b)&&(w[b]=O[b])}return w},r.apply(this,arguments)},e=Yt.__createBinding||(Object.create?function(w,O,d,K){K===void 0&&(K=d),Object.defineProperty(w,K,{enumerable:!0,get:function(){return O[d]}})}:function(w,O,d,K){K===void 0&&(K=d),w[K]=O[d]}),t=Yt.__setModuleDefault||(Object.create?function(w,O){Object.defineProperty(w,"default",{enumerable:!0,value:O})}:function(w,O){w.default=O}),n=Yt.__importStar||function(w){if(w&&w.__esModule)return w;var O={};if(w!=null)for(var d in w)d!=="default"&&Object.prototype.hasOwnProperty.call(w,d)&&e(O,w,d);return t(O,w),O},a=Yt.__values||function(w){var O=typeof Symbol=="function"&&Symbol.iterator,d=O&&w[O],K=0;if(d)return d.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&K>=w.length&&(w=void 0),{value:w&&w[K++],done:!w}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(i,"__esModule",{value:!0}),i.Renderer=i.InternalRenderer=i.RENDERER_OPTIONS=void 0;var o=n(yt),s=dA,u=Js(),h=iS(),l=nS(),c=aS(),f=oS(),p=sS(),v=md(),g=yd(),A=uS(),E=hS(),P=fS(),T=cS(),L=hi(),m=dS();s.install(o),i.RENDERER_OPTIONS={width:800,height:600,x:0,y:0,zoom:1,minZoom:.1,maxZoom:2.5,animateViewportPosition:600,animateViewportZoom:600,animateNodePosition:800,animateNodeRadius:800,dragInertia:.88,nodesEqual:function(){return!1},edgesEqual:function(){return!1},nodeIsEqual:function(){return!1},edgeIsEqual:function(){return!1}},o.utils.skipHello();var I=function(){function w(O){var d=this;if(this.width=i.RENDERER_OPTIONS.width,this.height=i.RENDERER_OPTIONS.height,this.minZoom=i.RENDERER_OPTIONS.minZoom,this.maxZoom=i.RENDERER_OPTIONS.maxZoom,this.x=i.RENDERER_OPTIONS.x,this.y=i.RENDERER_OPTIONS.y,this.zoom=i.RENDERER_OPTIONS.zoom,this.animateViewportPosition=i.RENDERER_OPTIONS.animateViewportPosition,this.animateViewportZoom=i.RENDERER_OPTIONS.animateViewportZoom,this.animateNodePosition=i.RENDERER_OPTIONS.animateNodePosition,this.animateNodeRadius=i.RENDERER_OPTIONS.animateNodeRadius,this.dragInertia=i.RENDERER_OPTIONS.dragInertia,this.dragging=!1,this.dirty=!1,this.viewportDirty=!1,this.time=performance.now(),this.annotationsBottomLayer=new o.Container,this.edgesLayer=new o.Container,this.nodesLayer=new o.Container,this.labelsLayer=new o.Container,this.frontNodeLayer=new o.Container,this.frontLabelLayer=new o.Container,this.edgesGraphic=new o.Graphics,this.nodes=[],this.edges=[],this.nodesById={},this.edgesById={},this.annotationsById={},this.edgeIndex={},this.root=new o.Container,this.fontLoader=P.FontLoader(),this.imageLoader=P.ImageLoader(),this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1,this.clickedContainer=!1,this.previousTime=performance.now(),this.targetX=i.RENDERER_OPTIONS.x,this.targetY=i.RENDERER_OPTIONS.y,this.targetZoom=i.RENDERER_OPTIONS.zoom,this.firstRender=!0,this.doubleClick=!1,this.onKeyDown=function(b){var R=b.altKey,B=b.ctrlKey,F=b.metaKey,S=b.shiftKey;d.altKey=R,d.ctrlKey=B,d.metaKey=F,d.shiftKey=S},this.onKeyUp=function(){d.altKey=!1,d.ctrlKey=!1,d.metaKey=!1,d.shiftKey=!1},this._update=function(b){var R,B,F,S,_,x,D,N,C,M,U,k,X,W=b.nodes,z=b.edges,$=b.options,G=$===void 0?i.RENDERER_OPTIONS:$,j=G.width,Z=j===void 0?i.RENDERER_OPTIONS.width:j,Y=G.height,te=Y===void 0?i.RENDERER_OPTIONS.height:Y,ie=G.x,Q=ie===void 0?i.RENDERER_OPTIONS.x:ie,ee=G.y,he=ee===void 0?i.RENDERER_OPTIONS.y:ee,Ie=G.zoom,me=Ie===void 0?i.RENDERER_OPTIONS.zoom:Ie,Ve=G.minZoom,Ce=Ve===void 0?i.RENDERER_OPTIONS.minZoom:Ve,$e=G.maxZoom,rt=$e===void 0?i.RENDERER_OPTIONS.maxZoom:$e,Fe=G.cursor,mt=G.animateNodePosition,It=mt===void 0?i.RENDERER_OPTIONS.animateNodePosition:mt,hr=G.animateNodeRadius,lt=hr===void 0?i.RENDERER_OPTIONS.animateNodeRadius:hr,Ct=G.animateViewportPosition,Et=Ct===void 0?i.RENDERER_OPTIONS.animateViewportPosition:Ct,lr=G.animateViewportZoom,Mt=lr===void 0?i.RENDERER_OPTIONS.animateViewportZoom:lr,it=G.dragInertia,Je=it===void 0?i.RENDERER_OPTIONS.dragInertia:it,H=G.nodesEqual,V=H===void 0?i.RENDERER_OPTIONS.nodesEqual:H,fe=G.edgesEqual,ce=fe===void 0?i.RENDERER_OPTIONS.edgesEqual:fe,ve=G.nodeIsEqual,ue=ve===void 0?i.RENDERER_OPTIONS.nodeIsEqual:ve,Ue=G.edgeIsEqual,Be=Ue===void 0?i.RENDERER_OPTIONS.edgeIsEqual:Ue,Me=G.onNodePointerEnter,Ge=G.onNodePointerDown,Tt=G.onNodeDragStart,Xe=G.onNodeDrag,_e=G.onNodeDragEnd,fr=G.onNodePointerUp,ae=G.onNodeClick,Te=G.onNodeDoubleClick,be=G.onNodePointerLeave,He=G.onEdgePointerEnter,je=G.onEdgePointerDown,Ze=G.onEdgePointerUp,ft=G.onEdgeClick,zt=G.onEdgeDoubleClick,ze=G.onEdgePointerLeave,ke=G.onViewportPointerEnter,nt=G.onViewportPointerDown,li=G.onViewportDragStart,Yi=G.onViewportDrag,Wn=G.onViewportDragEnd,fi=G.onViewportPointerMove,Wt=G.onViewportPointerUp,Cr=G.onViewportClick,Yn=G.onViewportDoubleClick,qi=G.onViewportPointerLeave,Td=G.onViewportWheel,_d=b.annotations;d.onNodePointerEnter=Me,d.onNodePointerDown=Ge,d.onNodeDragStart=Tt,d.onNodeDrag=Xe,d.onNodeDragEnd=_e,d.onNodePointerUp=fr,d.onNodeClick=ae,d.onNodeDoubleClick=Te,d.onNodePointerLeave=be,d.onEdgePointerEnter=He,d.onEdgePointerDown=je,d.onEdgePointerUp=Ze,d.onEdgeClick=ft,d.onEdgeDoubleClick=zt,d.onEdgePointerLeave=ze,d.onViewportPointerEnter=ke,d.onViewportPointerDown=nt,d.onViewportDragStart=li,d.onViewportDrag=Yi,d.onViewportDragEnd=Wn,d.onViewportPointerMove=fi,d.onViewportClick=Cr,d.onViewportDoubleClick=Yn,d.onViewportPointerUp=Wt,d.onViewportPointerLeave=qi,d.onViewportWheel=Td,d.animateViewportPosition=Et===!0?i.RENDERER_OPTIONS.animateViewportPosition:Et,d.animateViewportZoom=Mt===!0?i.RENDERER_OPTIONS.animateViewportZoom:Mt,d.animateNodePosition=It===!0?i.RENDERER_OPTIONS.animateNodePosition:It,d.animateNodeRadius=lt===!0?i.RENDERER_OPTIONS.animateNodeRadius:lt,d.dragInertia=Je,d.minZoom=Ce,d.maxZoom=rt,Fe!==void 0&&(d.container.style.cursor=Fe),(Z!==d.width||te!==d.height)&&(d.width=Z,d.height=te,d.app.renderer.resize(d.width,d.height),d.viewportDirty=!0),me!==d.targetZoom&&(me===d.expectedViewportZoom||!d.animateViewportZoom||d.firstRender?(d.interpolateZoom=void 0,d.zoom=me,d.root.scale.set(Math.max(d.minZoom,Math.min(d.maxZoom,d.zoom)))):d.interpolateZoom=u.interpolate(d.zoom,me,d.animateViewportZoom,d.time),d.expectedViewportZoom=void 0,d.targetZoom=me,d.viewportDirty=!0),Q!==d.targetX&&(Q===d.expectedViewportXPosition||!d.animateViewportPosition||d.firstRender?(d.interpolateX=void 0,d.x=Q):d.interpolateX=u.interpolate(d.x,Q,d.animateViewportPosition,d.time),d.expectedViewportXPosition=void 0,d.targetX=Q,d.viewportDirty=!0),he!==d.targetY&&(he===d.expectedViewportYPosition||!d.animateViewportPosition||d.firstRender?(d.interpolateY=void 0,d.y=he):d.interpolateY=u.interpolate(d.y,he,d.animateViewportPosition,d.time),d.expectedViewportYPosition=void 0,d.targetY=he,d.viewportDirty=!0),d.root.x=d.x*d.zoom+d.width/2,d.root.y=d.y*d.zoom+d.height/2;var eu=ce(d.edges,z),Od=V(d.nodes,W);if(!eu){d.edgeIndex={};try{for(var $i=a(z),ci=$i.next();!ci.done;ci=$i.next()){var ge=ci.value;d.edgeIndex[ge.source]===void 0&&(d.edgeIndex[ge.source]={}),d.edgeIndex[ge.target]===void 0&&(d.edgeIndex[ge.target]={}),d.edgeIndex[ge.source][ge.target]===void 0&&(d.edgeIndex[ge.source][ge.target]=new Set),d.edgeIndex[ge.target][ge.source]===void 0&&(d.edgeIndex[ge.target][ge.source]=new Set),d.edgeIndex[ge.source][ge.target].add(ge.id),d.edgeIndex[ge.target][ge.source].add(ge.id)}}catch(Ot){R={error:Ot}}finally{try{ci&&!ci.done&&(B=$i.return)&&B.call($i)}finally{if(R)throw R.error}}}if(!Od){d.nodes=W;var di={};try{for(var Ji=a(W),pi=Ji.next();!pi.done;pi=Ji.next()){var Qe=pi.value;if(d.nodesById[Qe.id]===void 0){var cr=void 0;d.edgeIndex[Qe.id]&&(cr=Object.keys(d.edgeIndex[Qe.id]).find(function(Ot){var qn,$n;return((qn=d.nodesById[Ot])===null||qn===void 0?void 0:qn.node.x)!==void 0&&(($n=d.nodesById[Ot])===null||$n===void 0?void 0:$n.node.y)!==void 0})),di[Qe.id]=new h.NodeRenderer(d,Qe,(M=(C=d.nodesById[cr??""])===null||C===void 0?void 0:C.x)!==null&&M!==void 0?M:0,(k=(U=d.nodesById[cr??""])===null||U===void 0?void 0:U.y)!==null&&k!==void 0?k:0,Qe.radius),d.dirty=!0}else ue(d.nodesById[Qe.id].node,Qe)?di[Qe.id]=d.nodesById[Qe.id]:(di[Qe.id]=d.nodesById[Qe.id].update(Qe),d.dirty=!0)}}catch(Ot){F={error:Ot}}finally{try{pi&&!pi.done&&(S=Ji.return)&&S.call(Ji)}finally{if(F)throw F.error}}for(var tu in d.nodesById)di[tu]===void 0&&(d.nodesById[tu].delete(),d.dirty=!0);d.nodesById=di}if(!eu){d.edges=z;var vi={};try{for(var Zi=a(z),gi=Zi.next();!gi.done;gi=Zi.next()){var ge=gi.value;d.edgesById[ge.id]===void 0?(vi[ge.id]=new l.EdgeRenderer(d,ge),d.dirty=!0):Be(d.edgesById[ge.id].edge,ge)?vi[ge.id]=d.edgesById[ge.id]:(vi[ge.id]=d.edgesById[ge.id].update(ge),d.dirty=!0)}}catch(Ot){_={error:Ot}}finally{try{gi&&!gi.done&&(x=Zi.return)&&x.call(Zi)}finally{if(_)throw _.error}}for(var ru in d.edgesById)vi[ru]===void 0&&(d.edgesById[ru].delete(),d.dirty=!0);d.edgesById=vi}d.annotations=_d;var Mr={};try{for(var Qi=a((X=d.annotations)!==null&&X!==void 0?X:[]),Ai=Qi.next();!Ai.done;Ai=Qi.next()){var _t=Ai.value,dr=""+_t.type+_t.id;d.annotationsById[dr]===void 0?(_t.type==="circle"?Mr[dr]=new T.CircleAnnotationRenderer(d,_t):_t.type==="rectangle"&&(Mr[dr]=new m.RectangleAnnotationRenderer(d,_t)),d.dirty=!0):((_t.type==="circle"||_t.type==="rectangle")&&(Mr[dr]=d.annotationsById[dr].update(_t)),d.dirty=!0)}}catch(Ot){D={error:Ot}}finally{try{Ai&&!Ai.done&&(N=Qi.return)&&N.call(Qi)}finally{if(D)throw D.error}}for(var iu in d.annotationsById)Mr[iu]===void 0&&(d.annotationsById[iu].delete(),d.dirty=!0);return d.annotationsById=Mr,d.firstRender=!1,d},this.render=function(b){d.time=b;var R=d.time-d.previousTime;if(d.previousTime=d.time,d.decelerateInteraction.update(R),d.interpolateZoom){var B=d.interpolateZoom(d.time),F=B.value,S=B.done;d.zoom=F,d.root.scale.set(Math.max(d.minZoom,Math.min(d.maxZoom,d.zoom))),S&&(d.interpolateZoom=void 0),d.viewportDirty=!0}if(d.interpolateX){var _=d.interpolateX(d.time),F=_.value,S=_.done;d.x=F,S&&(d.interpolateX=void 0),d.viewportDirty=!0}if(d.interpolateY){var x=d.interpolateY(d.time),F=x.value,S=x.done;d.y=F,S&&(d.interpolateY=void 0),d.viewportDirty=!0}var D=!1;if(d.dirty){for(var N in d.nodesById)d.nodesById[N].dirty&&(d.nodesById[N].render(),D=D||d.nodesById[N].dirty);d.edgesGraphic.clear();for(var C in d.edgesById)d.edgesById[C].render()}(d.viewportDirty||d.dirty)&&(d.root.x=d.x*d.zoom+d.width/2,d.root.y=d.y*d.zoom+d.height/2,d.app.render()),d.viewportDirty=!1,d.dirty=D},this._debugUpdate=function(b){d._measurePerformance&&performance.measure("external","external"),performance.mark("update"),d._update(b),performance.measure("update","update")},this.debugRender=function(b){var R,B,F,S,_;(S=(F=d.debug)===null||F===void 0?void 0:F.stats)===null||S===void 0||S.update(),d.time=b;var x=d.time-d.previousTime;if(d.previousTime=d.time,d.decelerateInteraction.update(x),d.interpolateZoom){var D=d.interpolateZoom(d.time),N=D.value,C=D.done;d.zoom=N,d.root.scale.set(Math.max(d.minZoom,Math.min(d.maxZoom,d.zoom))),C&&(d.interpolateZoom=void 0),d.viewportDirty=!0}if(d.interpolateX){var M=d.interpolateX(d.time),N=M.value,C=M.done;d.x=N,C&&(d.interpolateX=void 0),d.viewportDirty=!0}if(d.interpolateY){var U=d.interpolateY(d.time),N=U.value,C=U.done;d.y=N,C&&(d.interpolateY=void 0),d.viewportDirty=!0}var k=!1;if(d.dirty){performance.mark("render");for(var X in d.nodesById)d.nodesById[X].dirty&&(d.nodesById[X].render(),k=k||d.nodesById[X].dirty);d.edgesGraphic.clear();for(var W in d.edgesById)d.edgesById[W].render();performance.measure("render","render")}if((d.viewportDirty||d.dirty)&&(performance.mark("draw"),d.root.x=d.x*d.zoom+d.width/2,d.root.y=d.y*d.zoom+d.height/2,d.app.render(),performance.measure("draw","draw")),d._measurePerformance&&performance.measure("total","total"),!((_=d.debug)===null||_===void 0)&&_.logPerformance&&(d.dirty||d.viewportDirty)){var z=0,$=0,G=0,j=0,Z=0;try{for(var Y=a(performance.getEntriesByType("measure")),te=Y.next();!te.done;te=Y.next()){var ie=te.value;ie.name==="update"?$=ie.duration:ie.name==="render"?G=ie.duration:ie.name==="draw"?j=ie.duration:ie.name==="external"?z=ie.duration:ie.name==="total"&&(Z=ie.duration)}}catch(Q){R={error:Q}}finally{try{te&&!te.done&&(B=Y.return)&&B.call(Y)}finally{if(R)throw R.error}}console.log("%c"+Z.toFixed(1)+"ms%c (update: %c"+$.toFixed(1)+"%c, render: %c"+G.toFixed(1)+"%c, draw: %c"+j.toFixed(1)+"%c, external: %c"+z.toFixed(1)+"%c)","color: "+(Z<=20?"#6c6":Z<=33?"#f88":Z<=50?"#e22":"#a00"),"color: #666","color: "+($<=5?"#6c6":$<=10?"#f88":$<=20?"#e22":"#a00"),"color: #666","color: "+(G<=5?"#6c6":G<=10?"#f88":G<=20?"#e22":"#a00"),"color: #666","color: "+(j<=5?"#6c6":j<=10?"#f88":j<=20?"#e22":"#a00"),"color: #666","color: "+(z<=5?"#6c6":z<=10?"#f88":z<=20?"#e22":"#a00"),"color: #666")}d.viewportDirty=!1,d.dirty=k,performance.clearMarks(),performance.clearMeasures(),performance.mark("external"),performance.mark("total"),d._measurePerformance=!0},this.delete=function(){d.doubleClickTimeout&&(clearTimeout(d.doubleClickTimeout),d.doubleClickTimeout=void 0),document.body.removeEventListener("keydown",d.onKeyDown),document.body.removeEventListener("keyup",d.onKeyUp),d.cancelAnimationLoop(),d.app.destroy(!0,{children:!0,texture:!0,baseTexture:!0}),d.circle.delete(),d.arrow.delete(),d.image.delete(),d.fontIcon.delete()},this.base64=function(b,R){return b===void 0&&(b=2),R===void 0&&(R="image/jpeg"),new Promise(function(B,F){var S=u.animationFrameLoop(function(_){if(!(d.fontLoader.loading()||d.imageLoader.loading())){S();try{d.render(_);var x=new o.Graphics().beginFill(16777215).drawRect(-d.x*d.zoom-d.width/2,-d.y*d.zoom-d.height/2,d.width,d.height).endFill();d.root.addChildAt(x,0);var D=d.app.renderer.generateTexture(d.root,o.SCALE_MODES.LINEAR,b??2),N=d.app.renderer.plugins.extract.base64(D,R);D.destroy(),d.root.removeChild(x),x.destroy(),B(N)}catch(C){F(C)}}})})},this.pointerEnter=function(b){var R,B=d.root.toLocal(b.data.global),F=B.x,S=B.y,_=L.clientPositionFromEvent(b.data.originalEvent);(R=d.onViewportPointerEnter)===null||R===void 0||R.call(d,r({type:"viewportPointer",x:F,y:S,clientX:_.x,clientY:_.y,target:{x:d.x,y:d.y,zoom:d.zoom}},L.pointerKeysFromEvent(b.data.originalEvent)))},this.pointerDown=function(b){var R;if(d.doubleClickTimeout===void 0?d.doubleClickTimeout=setTimeout(d.clearDoubleClick,500):d.doubleClick=!0,d.dragInteraction.down(b),d.decelerateInteraction.down(),d.hoveredNode===void 0&&d.clickedNode===void 0&&d.hoveredEdge===void 0&&d.clickedEdge===void 0){d.clickedContainer=!0;var B=d.root.toLocal(b.data.global),F=B.x,S=B.y,_=L.clientPositionFromEvent(b.data.originalEvent);(R=d.onViewportPointerDown)===null||R===void 0||R.call(d,r({type:"viewportPointer",x:F,y:S,clientX:_.x,clientY:_.y,target:{x:d.x,y:d.y,zoom:d.zoom}},L.pointerKeysFromEvent(b.data.originalEvent)))}},this.pointerMove=function(b){var R;d.dragInteraction.move(b),d.decelerateInteraction.move();var B=d.root.toLocal(b.data.global),F=B.x,S=B.y,_=L.clientPositionFromEvent(b.data.originalEvent);(R=d.onViewportPointerMove)===null||R===void 0||R.call(d,r({type:"viewportPointer",x:F,y:S,clientX:_.x,clientY:_.y,target:{x:d.x,y:d.y,zoom:d.zoom}},L.pointerKeysFromEvent(b.data.originalEvent)))},this.pointerUp=function(b){var R,B,F,S;d.dragInteraction.up(),d.decelerateInteraction.up();var _=d.root.toLocal(b.data.global),x=_.x,D=_.y,N=L.clientPositionFromEvent(b.data.originalEvent);d.dragging?(d.dragging=!1,d.clickedContainer=!1,(R=d.onViewportDragEnd)===null||R===void 0||R.call(d,r({type:"viewportDrag",x,y:D,clientX:N.x,clientY:N.y,viewportX:d.x,viewportY:d.y,target:{x:d.x,y:d.y,zoom:d.zoom},altKey:d.altKey,ctrlKey:d.ctrlKey,metaKey:d.metaKey,shiftKey:d.shiftKey},L.pointerKeysFromEvent(b.data.originalEvent)))):d.clickedContainer&&(d.clickedContainer=!1,(B=d.onViewportPointerUp)===null||B===void 0||B.call(d,r({type:"viewportPointer",x,y:D,clientX:N.x,clientY:N.y,target:{x:d.x,y:d.y,zoom:d.zoom}},L.pointerKeysFromEvent(b.data.originalEvent))),(F=d.onViewportClick)===null||F===void 0||F.call(d,r({type:"viewportPointer",x,y:D,clientX:N.x,clientY:N.y,target:{x:d.x,y:d.y,zoom:d.zoom}},L.pointerKeysFromEvent(b.data.originalEvent))),d.doubleClick&&(d.doubleClick=!1,d.doubleClickTimeout=void 0,(S=d.onViewportDoubleClick)===null||S===void 0||S.call(d,r({type:"viewportPointer",x,y:D,clientX:N.x,clientY:N.y,target:{x:d.x,y:d.y,zoom:d.zoom}},L.pointerKeysFromEvent(b.data.originalEvent)))))},this.pointerLeave=function(b){var R,B=d.root.toLocal(b.data.global),F=B.x,S=B.y,_=L.clientPositionFromEvent(b.data.originalEvent);(R=d.onViewportPointerLeave)===null||R===void 0||R.call(d,r({type:"viewportPointer",x:F,y:S,clientX:_.x,clientY:_.y,target:{x:d.x,y:d.y,zoom:d.zoom}},L.pointerKeysFromEvent(b.data.originalEvent)))},this.clearDoubleClick=function(){d.doubleClickTimeout=void 0,d.doubleClick=!1},!(O.container instanceof HTMLDivElement))throw new Error("container must be an instance of HTMLDivElement");var K=document.createElement("canvas");K.onselectstart=function(){return!1},O.container.appendChild(K),this.container=O.container,this.app=new o.Application({view:K,width:this.width,height:this.height,resolution:2,antialias:!0,autoDensity:!0,autoStart:!1,powerPreference:"high-performance",preserveDrawingBuffer:!1,transparent:!0}),this.labelsLayer.interactiveChildren=!1,this.nodesLayer.sortableChildren=!0,this.app.stage.addChild(this.root),this.root.addChild(this.annotationsBottomLayer),this.root.addChild(this.edgesGraphic),this.root.addChild(this.edgesLayer),this.root.addChild(this.nodesLayer),this.root.addChild(this.labelsLayer),this.root.addChild(this.frontNodeLayer),this.root.addChild(this.frontLabelLayer),this.zoomInteraction=new p.Zoom(this),this.dragInteraction=new c.Drag(this),this.decelerateInteraction=new f.Decelerate(this),this.app.renderer.plugins.interaction.on("pointerenter",this.pointerEnter).on("pointerdown",this.pointerDown).on("pointermove",this.pointerMove).on("pointerup",this.pointerUp).on("pointerupoutside",this.pointerUp).on("pointercancel",this.pointerUp).on("pointerleave",this.pointerLeave),this.app.view.addEventListener("wheel",this.zoomInteraction.wheel),this.arrow=new v.ArrowSprite(this),this.circle=new g.CircleSprite(this),this.image=new A.ImageSprite,this.fontIcon=new E.FontIconSprite,document.body.addEventListener("keydown",this.onKeyDown),document.body.addEventListener("keyup",this.onKeyUp),this.debug=O.debug,this.debug?(this.cancelAnimationLoop=u.animationFrameLoop(this.debugRender),this.update=this._debugUpdate):(this.cancelAnimationLoop=u.animationFrameLoop(this.render),this.update=this._update)}return w}();i.InternalRenderer=I;var y=function(w){var O=new I(w),d=function(K){O.update(K)};return d.delete=O.delete,d};i.Renderer=y}(Yt)),Yt}var Zs=pS();const vS=or(Zs),gS=As({__proto__:null,default:vS},[Zs]);var bo={},kl;function AS(){return kl||(kl=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Layout=i.LAYOUT_OPTIONS=void 0,i.LAYOUT_OPTIONS={nodeStrength:-600,linkDistance:180,linkStrength:void 0,centerStrength:.02,nodePadding:8,tick:300};var r=`
// https://d3js.org/d3-dispatch/ v1.0.5 Copyright 2018 Mike Bostock
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.d3=n.d3||{})}(this,function(n){"use strict";var e={value:function(){}};function t(){for(var n,e=0,t=arguments.length,o={};e<t;++e){if(!(n=arguments[e]+"")||n in o)throw new Error("illegal type: "+n);o[n]=[]}return new r(o)}function r(n){this._=n}function o(n,e){for(var t,r=0,o=n.length;r<o;++r)if((t=n[r]).name===e)return t.value}function i(n,t,r){for(var o=0,i=n.length;o<i;++o)if(n[o].name===t){n[o]=e,n=n.slice(0,o).concat(n.slice(o+1));break}return null!=r&&n.push({name:t,value:r}),n}r.prototype=t.prototype={constructor:r,on:function(n,e){var t,r,f=this._,l=(r=f,(n+"").trim().split(/^|s+/).map(function(n){var e="",t=n.indexOf(".");if(t>=0&&(e=n.slice(t+1),n=n.slice(0,t)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:e}})),a=-1,u=l.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<u;)if(t=(n=l[a]).type)f[t]=i(f[t],n.name,e);else if(null==e)for(t in f)f[t]=i(f[t],n.name,null);return this}for(;++a<u;)if((t=(n=l[a]).type)&&(t=o(f[t],n.name)))return t},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new r(n)},call:function(n,e){if((t=arguments.length-2)>0)for(var t,r,o=new Array(t),i=0;i<t;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,t=(r=this._[n]).length;i<t;++i)r[i].value.apply(e,o)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],o=0,i=r.length;o<i;++o)r[o].value.apply(e,t)}},n.dispatch=t,Object.defineProperty(n,"__esModule",{value:!0})});
// https://d3js.org/d3-quadtree/ v1.0.6 Copyright 2019 Mike Bostock
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i(t.d3=t.d3||{})}(this,function(t){"use strict";function i(t,i,r,n){if(isNaN(i)||isNaN(r))return t;var e,s,h,o,a,u,l,_,f,c=t._root,x={data:n},y=t._x0,d=t._y0,v=t._x1,p=t._y1;if(!c)return t._root=x,t;for(;c.length;)if((u=i>=(s=(y+v)/2))?y=s:v=s,(l=r>=(h=(d+p)/2))?d=h:p=h,e=c,!(c=c[_=l<<1|u]))return e[_]=x,t;if(o=+t._x.call(null,c.data),a=+t._y.call(null,c.data),i===o&&r===a)return x.next=c,e?e[_]=x:t._root=x,t;do{e=e?e[_]=new Array(4):t._root=new Array(4),(u=i>=(s=(y+v)/2))?y=s:v=s,(l=r>=(h=(d+p)/2))?d=h:p=h}while((_=l<<1|u)==(f=(a>=h)<<1|o>=s));return e[f]=c,e[_]=x,t}function r(t,i,r,n,e){this.node=t,this.x0=i,this.y0=r,this.x1=n,this.y1=e}function n(t){return t[0]}function e(t){return t[1]}function s(t,i,r){var s=new h(null==i?n:i,null==r?e:r,NaN,NaN,NaN,NaN);return null==t?s:s.addAll(t)}function h(t,i,r,n,e,s){this._x=t,this._y=i,this._x0=r,this._y0=n,this._x1=e,this._y1=s,this._root=void 0}function o(t){for(var i={data:t.data},r=i;t=t.next;)r=r.next={data:t.data};return i}var a=s.prototype=h.prototype;a.copy=function(){var t,i,r=new h(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=o(n),r;for(t=[{source:n,target:r._root=new Array(4)}];n=t.pop();)for(var e=0;e<4;++e)(i=n.source[e])&&(i.length?t.push({source:i,target:n.target[e]=new Array(4)}):n.target[e]=o(i));return r},a.add=function(t){var r=+this._x.call(null,t),n=+this._y.call(null,t);return i(this.cover(r,n),r,n,t)},a.addAll=function(t){var r,n,e,s,h=t.length,o=new Array(h),a=new Array(h),u=1/0,l=1/0,_=-1/0,f=-1/0;for(n=0;n<h;++n)isNaN(e=+this._x.call(null,r=t[n]))||isNaN(s=+this._y.call(null,r))||(o[n]=e,a[n]=s,e<u&&(u=e),e>_&&(_=e),s<l&&(l=s),s>f&&(f=s));if(u>_||l>f)return this;for(this.cover(u,l).cover(_,f),n=0;n<h;++n)i(this,o[n],a[n],t[n]);return this},a.cover=function(t,i){if(isNaN(t=+t)||isNaN(i=+i))return this;var r=this._x0,n=this._y0,e=this._x1,s=this._y1;if(isNaN(r))e=(r=Math.floor(t))+1,s=(n=Math.floor(i))+1;else{for(var h,o,a=e-r,u=this._root;r>t||t>=e||n>i||i>=s;)switch(o=(i<n)<<1|t<r,(h=new Array(4))[o]=u,u=h,a*=2,o){case 0:e=r+a,s=n+a;break;case 1:r=e-a,s=n+a;break;case 2:e=r+a,n=s-a;break;case 3:r=e-a,n=s-a}this._root&&this._root.length&&(this._root=u)}return this._x0=r,this._y0=n,this._x1=e,this._y1=s,this},a.data=function(){var t=[];return this.visit(function(i){if(!i.length)do{t.push(i.data)}while(i=i.next)}),t},a.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},a.find=function(t,i,n){var e,s,h,o,a,u,l,_=this._x0,f=this._y0,c=this._x1,x=this._y1,y=[],d=this._root;for(d&&y.push(new r(d,_,f,c,x)),null==n?n=1/0:(_=t-n,f=i-n,c=t+n,x=i+n,n*=n);u=y.pop();)if(!(!(d=u.node)||(s=u.x0)>c||(h=u.y0)>x||(o=u.x1)<_||(a=u.y1)<f))if(d.length){var v=(s+o)/2,p=(h+a)/2;y.push(new r(d[3],v,p,o,a),new r(d[2],s,p,v,a),new r(d[1],v,h,o,p),new r(d[0],s,h,v,p)),(l=(i>=p)<<1|t>=v)&&(u=y[y.length-1],y[y.length-1]=y[y.length-1-l],y[y.length-1-l]=u)}else{var w=t-+this._x.call(null,d.data),N=i-+this._y.call(null,d.data),g=w*w+N*N;if(g<n){var A=Math.sqrt(n=g);_=t-A,f=i-A,c=t+A,x=i+A,e=d.data}}return e},a.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var i,r,n,e,s,h,o,a,u,l,_,f,c=this._root,x=this._x0,y=this._y0,d=this._x1,v=this._y1;if(!c)return this;if(c.length)for(;;){if((u=s>=(o=(x+d)/2))?x=o:d=o,(l=h>=(a=(y+v)/2))?y=a:v=a,i=c,!(c=c[_=l<<1|u]))return this;if(!c.length)break;(i[_+1&3]||i[_+2&3]||i[_+3&3])&&(r=i,f=_)}for(;c.data!==t;)if(n=c,!(c=c.next))return this;return(e=c.next)&&delete c.next,n?(e?n.next=e:delete n.next,this):i?(e?i[_]=e:delete i[_],(c=i[0]||i[1]||i[2]||i[3])&&c===(i[3]||i[2]||i[1]||i[0])&&!c.length&&(r?r[f]=c:this._root=c),this):(this._root=e,this)},a.removeAll=function(t){for(var i=0,r=t.length;i<r;++i)this.remove(t[i]);return this},a.root=function(){return this._root},a.size=function(){var t=0;return this.visit(function(i){if(!i.length)do{++t}while(i=i.next)}),t},a.visit=function(t){var i,n,e,s,h,o,a=[],u=this._root;for(u&&a.push(new r(u,this._x0,this._y0,this._x1,this._y1));i=a.pop();)if(!t(u=i.node,e=i.x0,s=i.y0,h=i.x1,o=i.y1)&&u.length){var l=(e+h)/2,_=(s+o)/2;(n=u[3])&&a.push(new r(n,l,_,h,o)),(n=u[2])&&a.push(new r(n,e,_,l,o)),(n=u[1])&&a.push(new r(n,l,s,h,_)),(n=u[0])&&a.push(new r(n,e,s,l,_))}return this},a.visitAfter=function(t){var i,n=[],e=[];for(this._root&&n.push(new r(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var s=i.node;if(s.length){var h,o=i.x0,a=i.y0,u=i.x1,l=i.y1,_=(o+u)/2,f=(a+l)/2;(h=s[0])&&n.push(new r(h,o,a,_,f)),(h=s[1])&&n.push(new r(h,_,a,u,f)),(h=s[2])&&n.push(new r(h,o,f,_,l)),(h=s[3])&&n.push(new r(h,_,f,u,l))}e.push(i)}for(;i=e.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this},a.x=function(t){return arguments.length?(this._x=t,this):this._x},a.y=function(t){return arguments.length?(this._y=t,this):this._y},t.quadtree=s,Object.defineProperty(t,"__esModule",{value:!0})});
// https://d3js.org/d3-timer/ v1.0.9 Copyright 2018 Mike Bostock
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})}(this,function(t){"use strict";var n,e,o=0,i=0,r=0,u=1e3,l=0,c=0,a=0,f="object"==typeof performance&&performance.now?performance:Date,s="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _(){return c||(s(m),c=f.now()+a)}function m(){c=0}function p(){this._call=this._time=this._next=null}function w(t,n,e){var o=new p;return o.restart(t,n,e),o}function d(){_(),++o;for(var t,e=n;e;)(t=c-e._time)>=0&&e._call.call(null,t),e=e._next;--o}function h(){c=(l=f.now())+a,o=i=0;try{d()}finally{o=0,function(){var t,o,i=n,r=1/0;for(;i;)i._call?(r>i._time&&(r=i._time),t=i,i=i._next):(o=i._next,i._next=null,i=t?t._next=o:n=o);e=t,v(r)}(),c=0}}function y(){var t=f.now(),n=t-l;n>u&&(a-=n,l=t)}function v(t){o||(i&&(i=clearTimeout(i)),t-c>24?(t<1/0&&(i=setTimeout(h,t-f.now()-a)),r&&(r=clearInterval(r))):(r||(l=f.now(),r=setInterval(y,u)),o=1,s(h)))}p.prototype=w.prototype={constructor:p,restart:function(t,o,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?_():+i)+(null==o?0:+o),this._next||e===this||(e?e._next=this:n=this,e=this),this._call=t,this._time=i,v()},stop:function(){this._call&&(this._call=null,this._time=1/0,v())}},t.now=_,t.timer=w,t.timerFlush=d,t.timeout=function(t,n,e){var o=new p;return n=null==n?0:+n,o.restart(function(e){o.stop(),t(e+n)},n,e),o},t.interval=function(t,n,e){var o=new p,i=n;return null==n?(o.restart(t,n,e),o):(n=+n,e=null==e?_():+e,o.restart(function r(u){u+=i,o.restart(r,i+=n,e),t(u)},n,e),o)},Object.defineProperty(t,"__esModule",{value:!0})});
// https://d3js.org/d3-force/ v2.0.1 Copyright 2019 Mike Bostock
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3-quadtree"),require("d3-dispatch"),require("d3-timer")):"function"==typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],t):t(n.d3=n.d3||{},n.d3,n.d3,n.d3)}(this,function(n,t,r,e){"use strict";function i(n){return function(){return n}}function u(){return 1e-6*(Math.random()-.5)}function o(n){return n.x+n.vx}function f(n){return n.y+n.vy}function a(n){return n.index}function c(n,t){var r=n.get(t);if(!r)throw new Error("missing: "+t);return r}function l(n){return n.x}function h(n){return n.y}var v=10,y=Math.PI*(3-Math.sqrt(5));n.forceCenter=function(n,t){var r;function e(){var e,i,u=r.length,o=0,f=0;for(e=0;e<u;++e)o+=(i=r[e]).x,f+=i.y;for(o=o/u-n,f=f/u-t,e=0;e<u;++e)(i=r[e]).x-=o,i.y-=f}return null==n&&(n=0),null==t&&(t=0),e.initialize=function(n){r=n},e.x=function(t){return arguments.length?(n=+t,e):n},e.y=function(n){return arguments.length?(t=+n,e):t},e},n.forceCollide=function(n){var r,e,a=1,c=1;function l(){for(var n,i,l,v,y,d,x,g=r.length,s=0;s<c;++s)for(i=t.quadtree(r,o,f).visitAfter(h),n=0;n<g;++n)l=r[n],d=e[l.index],x=d*d,v=l.x+l.vx,y=l.y+l.vy,i.visit(p);function p(n,t,r,e,i){var o=n.data,f=n.r,c=d+f;if(!o)return t>v+c||e<v-c||r>y+c||i<y-c;if(o.index>l.index){var h=v-o.x-o.vx,g=y-o.y-o.vy,s=h*h+g*g;s<c*c&&(0===h&&(s+=(h=u())*h),0===g&&(s+=(g=u())*g),s=(c-(s=Math.sqrt(s)))/s*a,l.vx+=(h*=s)*(c=(f*=f)/(x+f)),l.vy+=(g*=s)*c,o.vx-=h*(c=1-c),o.vy-=g*c)}}}function h(n){if(n.data)return n.r=e[n.data.index];for(var t=n.r=0;t<4;++t)n[t]&&n[t].r>n.r&&(n.r=n[t].r)}function v(){if(r){var t,i,u=r.length;for(e=new Array(u),t=0;t<u;++t)i=r[t],e[i.index]=+n(i,t,r)}}return"function"!=typeof n&&(n=i(null==n?1:+n)),l.initialize=function(n){r=n,v()},l.iterations=function(n){return arguments.length?(c=+n,l):c},l.strength=function(n){return arguments.length?(a=+n,l):a},l.radius=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),v(),l):n},l},n.forceLink=function(n){var t,r,e,o,f,l=a,h=function(n){return 1/Math.min(o[n.source.index],o[n.target.index])},v=i(30),y=1;function d(e){for(var i=0,o=n.length;i<y;++i)for(var a,c,l,h,v,d,x,g=0;g<o;++g)c=(a=n[g]).source,h=(l=a.target).x+l.vx-c.x-c.vx||u(),v=l.y+l.vy-c.y-c.vy||u(),h*=d=((d=Math.sqrt(h*h+v*v))-r[g])/d*e*t[g],v*=d,l.vx-=h*(x=f[g]),l.vy-=v*x,c.vx+=h*(x=1-x),c.vy+=v*x}function x(){if(e){var i,u,a=e.length,h=n.length,v=new Map(e.map((n,t)=>[l(n,t,e),n]));for(i=0,o=new Array(a);i<h;++i)(u=n[i]).index=i,"object"!=typeof u.source&&(u.source=c(v,u.source)),"object"!=typeof u.target&&(u.target=c(v,u.target)),o[u.source.index]=(o[u.source.index]||0)+1,o[u.target.index]=(o[u.target.index]||0)+1;for(i=0,f=new Array(h);i<h;++i)u=n[i],f[i]=o[u.source.index]/(o[u.source.index]+o[u.target.index]);t=new Array(h),g(),r=new Array(h),s()}}function g(){if(e)for(var r=0,i=n.length;r<i;++r)t[r]=+h(n[r],r,n)}function s(){if(e)for(var t=0,i=n.length;t<i;++t)r[t]=+v(n[t],t,n)}return null==n&&(n=[]),d.initialize=function(n){e=n,x()},d.links=function(t){return arguments.length?(n=t,x(),d):n},d.id=function(n){return arguments.length?(l=n,d):l},d.iterations=function(n){return arguments.length?(y=+n,d):y},d.strength=function(n){return arguments.length?(h="function"==typeof n?n:i(+n),g(),d):h},d.distance=function(n){return arguments.length?(v="function"==typeof n?n:i(+n),s(),d):v},d},n.forceManyBody=function(){var n,r,e,o,f=i(-30),a=1,c=1/0,v=.81;function y(i){var u,o=n.length,f=t.quadtree(n,l,h).visitAfter(x);for(e=i,u=0;u<o;++u)r=n[u],f.visit(g)}function d(){if(n){var t,r,e=n.length;for(o=new Array(e),t=0;t<e;++t)r=n[t],o[r.index]=+f(r,t,n)}}function x(n){var t,r,e,i,u,f=0,a=0;if(n.length){for(e=i=u=0;u<4;++u)(t=n[u])&&(r=Math.abs(t.value))&&(f+=t.value,a+=r,e+=r*t.x,i+=r*t.y);n.x=e/a,n.y=i/a}else{(t=n).x=t.data.x,t.y=t.data.y;do{f+=o[t.data.index]}while(t=t.next)}n.value=f}function g(n,t,i,f){if(!n.value)return!0;var l=n.x-r.x,h=n.y-r.y,y=f-t,d=l*l+h*h;if(y*y/v<d)return d<c&&(0===l&&(d+=(l=u())*l),0===h&&(d+=(h=u())*h),d<a&&(d=Math.sqrt(a*d)),r.vx+=l*n.value*e/d,r.vy+=h*n.value*e/d),!0;if(!(n.length||d>=c)){(n.data!==r||n.next)&&(0===l&&(d+=(l=u())*l),0===h&&(d+=(h=u())*h),d<a&&(d=Math.sqrt(a*d)));do{n.data!==r&&(y=o[n.data.index]*e/d,r.vx+=l*y,r.vy+=h*y)}while(n=n.next)}}return y.initialize=function(t){n=t,d()},y.strength=function(n){return arguments.length?(f="function"==typeof n?n:i(+n),d(),y):f},y.distanceMin=function(n){return arguments.length?(a=n*n,y):Math.sqrt(a)},y.distanceMax=function(n){return arguments.length?(c=n*n,y):Math.sqrt(c)},y.theta=function(n){return arguments.length?(v=n*n,y):Math.sqrt(v)},y},n.forceRadial=function(n,t,r){var e,u,o,f=i(.1);function a(n){for(var i=0,f=e.length;i<f;++i){var a=e[i],c=a.x-t||1e-6,l=a.y-r||1e-6,h=Math.sqrt(c*c+l*l),v=(o[i]-h)*u[i]*n/h;a.vx+=c*v,a.vy+=l*v}}function c(){if(e){var t,r=e.length;for(u=new Array(r),o=new Array(r),t=0;t<r;++t)o[t]=+n(e[t],t,e),u[t]=isNaN(o[t])?0:+f(e[t],t,e)}}return"function"!=typeof n&&(n=i(+n)),null==t&&(t=0),null==r&&(r=0),a.initialize=function(n){e=n,c()},a.strength=function(n){return arguments.length?(f="function"==typeof n?n:i(+n),c(),a):f},a.radius=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),c(),a):n},a.x=function(n){return arguments.length?(t=+n,a):t},a.y=function(n){return arguments.length?(r=+n,a):r},a},n.forceSimulation=function(n){var t,i=1,u=.001,o=1-Math.pow(u,1/300),f=0,a=.6,c=new Map,l=e.timer(d),h=r.dispatch("tick","end");function d(){x(),h.call("tick",t),i<u&&(l.stop(),h.call("end",t))}function x(r){var e,u,l=n.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(i+=(f-i)*o,c.forEach(function(n){n(i)}),e=0;e<l;++e)null==(u=n[e]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return t}function g(){for(var t,r=0,e=n.length;r<e;++r){if((t=n[r]).index=r,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=v*Math.sqrt(r),u=r*y;t.x=i*Math.cos(u),t.y=i*Math.sin(u)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function s(t){return t.initialize&&t.initialize(n),t}return null==n&&(n=[]),g(),t={tick:x,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(r){return arguments.length?(n=r,g(),c.forEach(s),t):n},alpha:function(n){return arguments.length?(i=+n,t):i},alphaMin:function(n){return arguments.length?(u=+n,t):u},alphaDecay:function(n){return arguments.length?(o=+n,t):+o},alphaTarget:function(n){return arguments.length?(f=+n,t):f},velocityDecay:function(n){return arguments.length?(a=1-n,t):1-a},force:function(n,r){return arguments.length>1?(null==r?c.delete(n):c.set(n,s(r)),t):c.get(n)},find:function(t,r,e){var i,u,o,f,a,c=0,l=n.length;for(null==e?e=1/0:e*=e,c=0;c<l;++c)(o=(i=t-(f=n[c]).x)*i+(u=r-f.y)*u)<e&&(a=f,e=o);return a},on:function(n,r){return arguments.length>1?(h.on(n,r),t):h.on(n)}}},n.forceX=function(n){var t,r,e,u=i(.1);function o(n){for(var i,u=0,o=t.length;u<o;++u)(i=t[u]).vx+=(e[u]-i.x)*r[u]*n}function f(){if(t){var i,o=t.length;for(r=new Array(o),e=new Array(o),i=0;i<o;++i)r[i]=isNaN(e[i]=+n(t[i],i,t))?0:+u(t[i],i,t)}}return"function"!=typeof n&&(n=i(null==n?0:+n)),o.initialize=function(n){t=n,f()},o.strength=function(n){return arguments.length?(u="function"==typeof n?n:i(+n),f(),o):u},o.x=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),f(),o):n},o},n.forceY=function(n){var t,r,e,u=i(.1);function o(n){for(var i,u=0,o=t.length;u<o;++u)(i=t[u]).vy+=(e[u]-i.y)*r[u]*n}function f(){if(t){var i,o=t.length;for(r=new Array(o),e=new Array(o),i=0;i<o;++i)r[i]=isNaN(e[i]=+n(t[i],i,t))?0:+u(t[i],i,t)}}return"function"!=typeof n&&(n=i(null==n?0:+n)),o.initialize=function(n){t=n,f()},o.strength=function(n){return arguments.length?(u="function"==typeof n?n:i(+n),f(),o):u},o.y=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),f(),o):n},o},Object.defineProperty(n,"__esModule",{value:!0})});
`,e=function(a){var o=function(s){var u=s.nodes,h=s.edges,l=s.options,c=l===void 0?a:l,f=c.nodeStrength,p=f===void 0?a.nodeStrength:f,v=c.linkDistance,g=v===void 0?a.linkDistance:v,A=c.linkStrength,E=A===void 0?a.linkStrength:A,P=c.centerStrength,T=P===void 0?a.centerStrength:P,L=c.nodePadding,m=L===void 0?a.nodePadding:L,I=c.tick,y=I===void 0?a.tick:I;return d3.forceSimulation().force("charge",d3.forceManyBody().distanceMax(4e3).theta(.5).strength(p)).force("collision",d3.forceCollide().radius(function(w){return w.radius+m})).force("x",d3.forceX(0).strength(T)).force("y",d3.forceY(0).strength(T)).force("center",d3.forceCenter()).nodes(u).force("link",E===void 0?d3.forceLink().id(function(w){return w.id}).distance(g).links(h):d3.forceLink().id(function(w){return w.id}).distance(g).strength(E).links(h)).stop().tick(y),u};self.onmessage=function(s){var u=s.data;self.postMessage({nodes:o(u),v:u.v})}},t=new Blob([r+"("+e+")("+JSON.stringify(i.LAYOUT_OPTIONS)+")"],{type:"application/javascript"}),n=function(){var a=URL.createObjectURL(t),o=new Worker(a),s=0,u=function(h){var l=h.edges,c=s++;return o.postMessage({nodes:h.nodes,edges:h.edges,options:h.options,v:c}),new Promise(function(f,p){var v=function(g){var A=g.data;A.v===c&&(o.removeEventListener("message",v),f({nodes:A.nodes,edges:l}))};o.addEventListener("message",v),o.onerror=p})};return u.delete=function(){o.terminate(),URL.revokeObjectURL(a)},u};i.Layout=n}(bo)),bo}var Qs=AS();const SS=or(Qs),yS=As({__proto__:null,default:SS},[Qs]),mS=JSON.parse('[{"id":"KPMG BALTICS O"},{"id":"OSAHING KPMG RAAMATUPIDAMISTEENUSED"},{"id":"AKTSIASELTS KAUPMEES & KO"},{"id":"AKTSIASELTS KEEMIAKAUBANDUS"},{"id":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"id":"AKTSIASELTS MAREN INVEST"},{"id":"AKTSIASELTS MARSTEN MARKETING"},{"id":"AKTSIASELTS MATUREKS"},{"id":"AKTSIASELTS MIKSKAAR"},{"id":"AKTSIASELTS MISTRA-AUTEX"},{"id":"AKTSIASELTS NITROFERT"},{"id":"KPMG OY AB"},{"id":"ALLIKSAAR INDREK"},{"id":"VEETAMM HELEN"},{"id":"KAUP EERO"},{"id":"JEGERS ANDRIS"},{"id":"RANDMANN LIINA"},{"id":"ZERNASK JOEL"},{"id":"TOIGER TARMO"},{"id":"LINDPERE HANNO"},{"id":"LEPPIK MAIKE"},{"id":"AKTSIASELTS OLEREX"},{"id":"AKTSIASELTS PAFER"},{"id":"AKTSIASELTS PAULIG BALTIC"},{"id":"AKTSIASELTS PEPSICO EESTI"},{"id":"AKTSIASELTS PINUS"},{"id":"AKTSIASELTS PLUSPLUS CAPITAL"},{"id":"AKTSIASELTS PRIKE"},{"id":"AKTSIASELTS PURMO GROUP ESTONIA"},{"id":"AKTSIASELTS REPO VABRIKUD"},{"id":"AKTSIASELTS SAARTE LIINID"},{"id":"AKTSIASELTS SALUTAGUSE PRMITEHAS"},{"id":"AKTSIASELTS SANTA MARIA"},{"id":"AKTSIASELTS SCHLSSLE HOTEL GROUP"},{"id":"AKTSIASELTS SKINEST RAIL"},{"id":"AKTSIASELTS SORBES ESTONIA"},{"id":"AKTSIASELTS TALLINK"},{"id":"AKTSIASELTS TALLINK DUTY FREE"},{"id":"AKTSIASELTS TALLINK GRUPP"},{"id":"AKTSIASELTS TALLINK SCANDINAVIAN"},{"id":"AKTSIASELTS TALLINK TAKSO"},{"id":"AKTSIASELTS TALLINNA ARENDUSED"},{"id":"AKTSIASELTS TALLINNA JTMETE TAASKASUTUSKESKUS"},{"id":"AKTSIASELTS TALLINNA LINNATRANSPORT"},{"id":"AKTSIASELTS TARA-TORF"},{"id":"AKTSIASELTS TECHNOMAR & ADREM"},{"id":"AKTSIASELTS TIKKURILA"},{"id":"AKTSIASELTS TOFTAN"},{"id":"AKTSIASELTS TOODE"},{"id":"AKTSIASELTS TOOTSI TURVAS"},{"id":"AKTSIASELTS TRIDENS"},{"id":"AKTSIASELTS VABA MAA"},{"id":"AKTSIASELTS VESTMAN ENERGIA"},{"id":"AKTSIASELTS VTSA PRGILA"},{"id":"AKTSIASELTS ANTISTA"},{"id":"AKTSIASELTS BALTEM"},{"id":"AKTSIASELTS BALTFLEX"},{"id":"AKTSIASELTS BALTIKA"},{"id":"AKTSIASELTS BARRUS"},{"id":"AKTSIASELTS ECE EUROPEAN CITY ESTATES"},{"id":"AKTSIASELTS EKSPRESS GRUPP"},{"id":"AKTSIASELTS ESTIKO - PLASTAR"},{"id":"AKTSIASELTS ESTONIAN CELL"},{"id":"AKTSIASELTS FARMI PIIMATSTUS"},{"id":"AKTSIASELTS FEB"},{"id":"AKTSIASELTS FIFAA"},{"id":"AKTSIASELTS GASTROLINK"},{"id":"AKTSIASELTS GLASSENSE"},{"id":"AKTSIASELTS H.T. VALUUTA"},{"id":"AKTSIASELTS INFORTAR"},{"id":"AKTSIASELTS JALAJLG"},{"id":"AKTSIASELTS KAGU-EESTI TURVAS"},{"id":"AGAPICS AS"},{"id":"ALLEPAL O"},{"id":"AQ LASERTOOL O"},{"id":"AQ TRAFOTEK AS"},{"id":"ALTEAMS EESTI O"},{"id":"AMBIENT SOUND INVESTMENTS O"},{"id":"CREDIT CAPITAL O"},{"id":"CREDITSTAR GROUP AS"},{"id":"COMPENSA LIFE VIENNA INSURANCE GROUP SE"},{"id":"DELFI MEEDIA AS"},{"id":"DENISSI APTEEGID O"},{"id":"AS ALFONS HAKANS"},{"id":"AS AREALIS"},{"id":"AS ARSTIKESKUS CONFIDO"},{"id":"AS ATEA"},{"id":"AS AVARON ASSET MANAGEMENT"},{"id":"AS BIRDEYE CAPITAL"},{"id":"AS CONNECTO EESTI"},{"id":"AS DAGPLAST"},{"id":"AS EESTI GAAS"},{"id":"AS EESTI VARUDE KESKUS"},{"id":"AS EG EHITUS"},{"id":"AS E-PIIM TOOTMINE"},{"id":"AS GAASIVRK"},{"id":"AS GLAMOX"},{"id":"AS HOOLEKANDETEENUSED"},{"id":"AS KAUPMEES GRUPP"},{"id":"AS KAUPMEES INVESTEERINGUD"},{"id":"AS KAWE"},{"id":"AS KAWE PLAZA"},{"id":"AS KUUSAKOSKI"},{"id":"AS LANDCREDIT"},{"id":"AS LHV PAYTECH"},{"id":"AS MAAG EESTI"},{"id":"AS MAAG GRUPP"},{"id":"AS NORDIC CONTRACTORS"},{"id":"AS NYNAS"},{"id":"AS OPERAIL"},{"id":"AS OPERAIL LEASING"},{"id":"AS PALMAKO"},{"id":"AS PAROC"},{"id":"AS POCOPAY"},{"id":"AS POSTIMEES GRUPP"},{"id":"AS PRFOODS"},{"id":"AS PRISMA PEREMARKET"},{"id":"AS RANNAROOTSI LIHATSTUS"},{"id":"AS SAAREMAA PIIMATSTUS"},{"id":"AS SHNELLI RIMAJA"},{"id":"AS SKINEST GRUPP"},{"id":"AS SMARTCAP"},{"id":"AS SOKOTEL"},{"id":"AS SOLARIS KESKUS"},{"id":"AS TARISTON"},{"id":"AS TRI KVARTAL"},{"id":"AUTOLINK GROUP AS"},{"id":"AUTOLINK PALDISKI O"},{"id":"AVARON ARENEVA EUROOPA VIKEETTEVTETE FOND MASF"},{"id":"ARCO VARA AS"},{"id":"AREALIS HOLDING AS"},{"id":"ARTEKNO EESTI O"},{"id":"BALTI AUTOOSAD AKTSIASELTS"},{"id":"BALTIC MARITIME LOGISTICS GROUP AS"},{"id":"BALTIC RCC O"},{"id":"BALTIC WORKBOATS AS"},{"id":"BH CC PLAZA O"},{"id":"BESTAIR GROUP O"},{"id":"CLEVON AS"},{"id":"CERE CODE AS"},{"id":"CF&S ESTONIA AS"},{"id":"BONAVENTURA SALES ESTONIA O"},{"id":"BONDORA AS"},{"id":"BONDORA FINANCE AS"},{"id":"BONDORA GROUP AS"},{"id":"CARPENTER ENGINEERED FOAMS O"},{"id":"CASEMET O"},{"id":"BUREAU VERITAS EESTI OSAHING"},{"id":"BRITISH AMERICAN TOBACCO ESTONIA AS"},{"id":"EAST CAPITAL REAL ESTATE AS"},{"id":"DPD EESTI AS"},{"id":"DSV ESTONIA AS"},{"id":"ADIDAS BALTICS SIA EESTI FILIAAL"},{"id":"ABB AKTSIASELTS"},{"id":"EESTI KAUBANDUS-TSTUSKODA"},{"id":"ELENGER MARINE O"},{"id":"ELISA EESTI AS"},{"id":"ESTEVE AS"},{"id":"ESTO AS"},{"id":"ETRA BALTI AS"},{"id":"ETTEVTLUSE JA INNOVATSIOONI SIHTASUTUS"},{"id":"EPF PORTUS O"},{"id":"E-RIIGI AKADEEMIA SIHTASUTUS"},{"id":"ESSVE ESTONIA AS"},{"id":"ENERGATE O"},{"id":"ENERSENSE AKTSIASELTS"},{"id":"FRESH FINANCE O"},{"id":"FRICTAPE NET O"},{"id":"FUSION VARAHALDUSE AS"},{"id":"FAST BUNKERING AS"},{"id":"FISKARS ESTONIA AS"},{"id":"FIVE WIND ENERGY O"},{"id":"FLEXA EESTI AKTSIASELTS"},{"id":"FLIR SYSTEMS ESTONIA O"},{"id":"GPI ESTONIA AS"},{"id":"GPV ESTONIA AS"},{"id":"GREENERGY DATA CENTERS O"},{"id":"GREN VIRU AS"},{"id":"GARDEST O"},{"id":"INTERNA INVEST O"},{"id":"IONISOS BALTICS O"},{"id":"JEWE KESKUSE O"},{"id":"JCDECAUX EESTI O"},{"id":"JAHELOGISTIKA O"},{"id":"JOBBATICAL O"},{"id":"KANTAURO O"},{"id":"KARISMA FOOD O"},{"id":"JTH EESTI O"},{"id":"JYSK LINNEN`N FURNITURE OSAHING"},{"id":"JHVI TSENTRAAL O"},{"id":"LAGEDI KODU O"},{"id":"LENNULIIKLUSTEENINDUSE AKTSIASELTS"},{"id":"LEONES INC O"},{"id":"LARS NORDIC O"},{"id":"LECTRA BALTIC O"},{"id":"LEINONEN GROUP AS"},{"id":"OSAHING HANSALIIN"},{"id":"OSAHING HANSATEE KINNISVARA"},{"id":"OSAHING HERA SALONGID"},{"id":"OSAHING HIIRTE JUUST"},{"id":"OSAHING HT LAEVATEENINDUS"},{"id":"OSAHING HT MEELELAHUTUS"},{"id":"OSAHING ALMARO TRANS"},{"id":"OSAHING ESTOVER"},{"id":"OSAHING ESTOVER PIIMATSTUS"},{"id":"OSAHING EU GIG"},{"id":"OSAHING PRIMOS"},{"id":"OSAHING TLG HOTELL"},{"id":"OSAHING TRANSPORDI VARAHALDUS"},{"id":"OSAHING VKG ENERGIA"},{"id":"OSAHING VKG KAEVANDUSED"},{"id":"OSAHING UNITED ESTOVER GROUP"},{"id":"OSAHING VARA HTG"},{"id":"OSAHING VELLERAND"},{"id":"O BALTIC RETAIL PROPERTIES ESTONIA"},{"id":"O BESTAIR"},{"id":"O BOOMERANG CABLE"},{"id":"O DUARTE GROUP"},{"id":"O EESTI PANDIPAKEND"},{"id":"O EG BIOFOND"},{"id":"O EUROCON"},{"id":"O FAIRFIELD HOLDING"},{"id":"O FINANCIAL AUTOMATION SOLUTIONS"},{"id":"O CITADELE FACTORING"},{"id":"O 3 STEP IT"},{"id":"O AQUABENE"},{"id":"O KALDA KODU"},{"id":"O KAWE CITY"},{"id":"O KAWE CLUB"},{"id":"O KAWE INVEST"},{"id":"O KAWE KODU"},{"id":"O KAWE LOGISTIKA"},{"id":"O KAWE PUIT"},{"id":"O KAWE TOWER"},{"id":"O KAWE RIKESKUS"},{"id":"O INF LIIVALAIA"},{"id":"O INF SADAMA 11"},{"id":"O INF SADAMA 579"},{"id":"O FUTBOL"},{"id":"O GLOBALREADER"},{"id":"O JUVEEL"},{"id":"O KONUVERE MIS"},{"id":"O NOBE"},{"id":"O RTLI MAJAD"},{"id":"O ONOFF EESTI"},{"id":"O PANDIPAKENDI AUTOMATISEERITUD KITLUSSSTEEM"},{"id":"O METSAVEOD GROUP"},{"id":"O TEKNOS"},{"id":"PIXMILL ESTONIA O"},{"id":"PHARMA HOLDING O"},{"id":"PRIKE GROUP O"},{"id":"QUANT ESTONIA O"},{"id":"PROLIS GRUPP O"},{"id":"SIHTASUTUS JRVSELJA PPE- JA KATSEMETSKOND"},{"id":"SIHTASUTUS TALLINNA KULTUURIKATEL"},{"id":"SIHTASUTUS TALLINNA LASTEHAIGLA"},{"id":"SCANFIL OSAHING"},{"id":"SCHCO EESTI O"},{"id":"SCORO SOFTWARE O"},{"id":"SD WORX ESTONIA O"},{"id":"SELECT SERVICE PARTNER EESTI AKTSIASELTS"},{"id":"SANDMANI GRUPI AKTSIASELTS"},{"id":"SATEBA ESTONIA O"},{"id":"SAINT-GOBAIN GLASS ESTONIA SE"},{"id":"SAJAS GROUP ESTONIA O"},{"id":"SALVA KINDLUSTUSE AS"},{"id":"SETIS CAPITAL O"},{"id":"SAUE PRODUCTION OSAHING"},{"id":"O TOOMPUIESTEE BROOHOONE"},{"id":"O SKINEST VEEREMI"},{"id":"O TAE FASHION"},{"id":"O TALLINK TRAVEL CLUB"},{"id":"O TALLINNA OPTIKA"},{"id":"O VIRU RMT"},{"id":"RENTOKIL O"},{"id":"REVELLIS INVEST O"},{"id":"RAMIRENT BALTIC AS"},{"id":"RAMIRENT MODULAR FACTORY AS"},{"id":"RAMIRENT SHARED SERVICES AS"},{"id":"RAKVERE FARMID AKTSIASELTS"},{"id":"SAAREMERE KALA AS"},{"id":"SAARE KALA TOOTMINE O"},{"id":"SAAREMAA PIIMAHISTU"},{"id":"ROCHE EESTI OSAHING"},{"id":"ROOSA TURVAS AS"},{"id":"RIMI EESTI FOOD AS"},{"id":"SK ID SOLUTIONS AS"},{"id":"SKINEST CONNECT O"},{"id":"SKINEST INVESTEERINGUTE OSAHING"},{"id":"SMARTMATIC-CYBERNETICA CENTRE OF EXCELLENCE FOR INTERNET VOTING O"},{"id":"SONEPAR EESTI AKTSIASELTS"},{"id":"SPORTLAND EESTI AKTSIASELTS"},{"id":"SPORTLAND INTERNATIONAL GROUP AKTSIASELTS"},{"id":"SOL BALTICS O"},{"id":"HEA APTEEK O"},{"id":"HEIDELBERG BALTIC FINLAND O"},{"id":"HEIDELBERG MATERIALS BETOON AS"},{"id":"HANSA SHIP MANAGEMENT O"},{"id":"HANSA SHIPPING AS"},{"id":"HAAPSALU UKSETEHASE AKTSIASELTS"},{"id":"KUNDA SADAM AS"},{"id":"NORDECON AS"},{"id":"NORDIC MILK O"},{"id":"NORDKALK AS"},{"id":"NORD MEDIA GROUP O"},{"id":"NORTHPOLE O"},{"id":"ORCHIS O"},{"id":"OPERAIL HOLDING O"},{"id":"OPTIMERA ESTONIA AS"},{"id":"NPM SILMET O"},{"id":"NTN EST OSAHING"},{"id":"NMME ERAHARIDUSE SIHTASUTUS"},{"id":"MT EESTI PAGULASABI"},{"id":"MONDAY MEDIA O"},{"id":"MONEMON AS"},{"id":"MOVEO O"},{"id":"NESTE EESTI AKTSIASELTS"},{"id":"NEW YORKER ESTONIA O"},{"id":"MUUGA STORAGE TERMINAL O"},{"id":"MULGI TURVAS AKTSIASELTS"},{"id":"OSAHING LINDEX EESTI"},{"id":"OSAHING LUMAN JA POJAD"},{"id":"OSAHING MARE CATERING"},{"id":"LOHUSALU SADAM O"},{"id":"LUNA GROUP ESTONIA AS"},{"id":"MANAGETRADE O"},{"id":"MANN LINES O"},{"id":"MAGNETIC MRO AS"},{"id":"LIVEN AS"},{"id":"LIVEN KODU 17 O"},{"id":"MAJOREL ESTONIA O"},{"id":"MAAELU EDENDAMISE SIHTASUTUS"},{"id":"MAAG FOOD O"},{"id":"MAAG HORECA O"},{"id":"MAAG KINNISVARA O"},{"id":"MAAKRI HOLDING O"},{"id":"METSAMAAHALDUSE AKTSIASELTS"},{"id":"METS FOREST EESTI AS"},{"id":"METS WOOD EESTI AS"},{"id":"MG PIIMA INVEST O"},{"id":"MERCK SERONO O"},{"id":"MBR METALS O"},{"id":"MCF GROUP ESTONIA O"},{"id":"MEDIQ EESTI O"},{"id":"MARKIT HOLDING AKTSIASELTS"},{"id":"HS KAARI O"},{"id":"HS KAATA O"},{"id":"HS KADRI O"},{"id":"HS KAIE O"},{"id":"HS KAILEEN O"},{"id":"HS KAILI O"},{"id":"HS KAIRIT O"},{"id":"HS KAISA O"},{"id":"HS KAJA O"},{"id":"HS KAMELIA O"},{"id":"HS KAREN O"},{"id":"HS KARESSA O"},{"id":"HS KARITA O"},{"id":"HS KARMEL O"},{"id":"HS KAROLIINA O"},{"id":"HS KAROLI O"},{"id":"HS KATARIINA O"},{"id":"HS KATI O"},{"id":"HS KATRE O"},{"id":"HS KATRIN O"},{"id":"HS KAURI O"},{"id":"HS KEIT O"},{"id":"HS KELLY O"},{"id":"HS KERLI O"},{"id":"HS KERSTI O"},{"id":"HS KERTU O"},{"id":"HS KESSU O"},{"id":"HS KETHI O"},{"id":"HS KETLIN O"},{"id":"HS KETTER O"},{"id":"HS KILLU O"},{"id":"HS KIMBERLY O"},{"id":"HS KIRKE O"},{"id":"HS KIRSI O"},{"id":"HS KLARA O"},{"id":"HS KLARIKA O"},{"id":"HS KREETE O"},{"id":"HS KRISLIN O"},{"id":"HS KRIS O"},{"id":"HS KRISTA O"},{"id":"HS KRISTELLA O"},{"id":"HS KRISTEL O"},{"id":"HS KRISTIINA O"},{"id":"HW ASSETS O"},{"id":"HPOTEEKLAEN AS"},{"id":"HYDRO EXTRUSION BALTICS O"},{"id":"IDEAL GROUP AS"},{"id":"INSPECTA ESTONIA O"},{"id":"INDOOR GROUP AS"},{"id":"INFOTARK AS"},{"id":"KIRDE VARAD AS"},{"id":"KLARUS FINANCE O"},{"id":"KLICK EESTI AS"},{"id":"KERESE KESKUS O"},{"id":"KINNISVARAVALDUSE AS"},{"id":"KATANA TECHNOLOGIES O"},{"id":"KODULAHE KVARTAL O"},{"id":"MITTETULUNDUSHING INTERNATIONAL EDUCATIONAL ASSOCIATION OF ESTONIA"},{"id":"MILREM AS"},{"id":"SBRA RIKESKUS O"},{"id":"STIVIS O"},{"id":"SUNLY AS"},{"id":"SUNLY ASSETS O"},{"id":"TAKEDA PHARMA O"},{"id":"TAMMSAARE RIMAJA O"},{"id":"TANASSILMA O"},{"id":"TOFTANI METSANDUSE O"},{"id":"TOMRA HOLDING O"},{"id":"TOMRA SERVICE O"},{"id":"TASMO RIGRUPI AKTSIASELTS"},{"id":"TERE AKTSIASELTS"},{"id":"UNIVERSAL CONSULTING BUREAU O"},{"id":"UNIVERSAL INDUSTRIES OSAHING"},{"id":"UP CATALYST O"},{"id":"TC MAJAD AS"},{"id":"TECHNOPOLIS BALTIC HOLDING O"},{"id":"TEEKEY INVEST OSAHING"},{"id":"TEXTMAGIC AS"},{"id":"TRANSOCEAN EESTI O"},{"id":"WALLESTER AS"},{"id":"VKG OIL AS"},{"id":"VMF ESTONIA O"},{"id":"TIMBERSTOCK O"},{"id":"UNIFIEDPOST AS"},{"id":"UNILEVER EESTI AKTSIASELTS"},{"id":"VERSTON O"},{"id":"VANA-POSTI KINNISVARA O"},{"id":"VEDRU ST 8 O"},{"id":"VEGELOG O"},{"id":"VIRU KEEMIA GRUPP AS"},{"id":"VIRU ELEKTRIVRGUD O"},{"id":"WEBINFLUENCE GROUP AS"},{"id":"YOOK PRODUCTION AS"},{"id":"JRVI KIM JOHAN"},{"id":"ANTONEN KIMMO PETTERI"},{"id":"TLLI ILMAR"},{"id":"LUNDIN ANDERS EDVARD"},{"id":"KAILIALA ESA JAAKKO"},{"id":"PUNNONEN VESA SAKARI"},{"id":"NINEPU-ROOSAAR KATRINA"},{"id":"PAISTE MAIRI"},{"id":"DIDRICHSEN HANS GUNNAR"},{"id":"O VIA 3L"},{"id":"AKTSIASELTS MAARDU KAUBANDUSKESKUS"},{"id":"AUDEST AUDIITORTEENUSTE OSAHING"},{"id":"NEDAKOVSKI JURI"},{"id":"POPOV ROMAN"},{"id":"IZRAELJAN IGOR"},{"id":"TOLOKOV ANDREI"},{"id":"DIETENBERG OLGA"},{"id":"MAJANDUS- JA KOMMUNIKATSIOONIMINISTEERIUM"},{"id":"KULDME IVO"},{"id":"KALVIK MARTTI"},{"id":"JRVAN AARE"},{"id":"RHESOO SIGNE"},{"id":"O ERMITEX INVESTEERINGUD"},{"id":"NMMISTE MATI"},{"id":"SDERSTRM LARS JOHAN"},{"id":"GRANT THORNTON BALTIC O"},{"id":"SDERSTRM JAN ANTON LUDWIG"},{"id":"KULLAMAA MARIKA"},{"id":"AKTSIASELTS BELMOT ESTONIA"},{"id":"DECOM HOLDINGS LTD"},{"id":"LOIDE KAREL-DANIIL"},{"id":"KALLE ANTI"},{"id":"ALTRAJA ARE"},{"id":"VOROBJOVA IRINA"},{"id":"ARULA HELEN"},{"id":"BORTNIK INGA"},{"id":"SKYWIND O"},{"id":"KOTKAS ERLEND"},{"id":"ALAS MARE"},{"id":"ALAS RIHO"},{"id":"ALAS SULEV"},{"id":"RAPLA TURVAS O"},{"id":"KISEL MARGUS"},{"id":"PIIBELEHT HALJE"},{"id":"PIHLAK MONICA"},{"id":"TAMM PRIIT"},{"id":"MAVROMARIS ANDREAS"},{"id":"SHETLER-JONES ROBERT MICHAEL TOBIAS"},{"id":"BABALAROV SERHII"},{"id":"OSTCHEM RESOURCES LIMITED"},{"id":"FIRTASH DMYTRO"},{"id":"DELTA ADVISORY O"},{"id":"DELTA INVESTMENTS O"},{"id":"FINANCE GRUPP O"},{"id":"AKTSIASELTS TALLINNA SOOJUS"},{"id":"PRESA O"},{"id":"BOOMERANG DISTRIBUTION O"},{"id":"BOOMERANG LOGISTIC GROUP O"},{"id":"BOOMERANG RETURN MANAGEMENT O"},{"id":"FIM METS SPV1 O"},{"id":"ESSE INVEST OSAHING"},{"id":"SPITHAM KV O"},{"id":"SPITHAM O"},{"id":"ARCO VARA KINNISVARABROO O"},{"id":"BOMIN BALTIC AS"},{"id":"OSAHING UP HELLING"},{"id":"AKTSIASELTS MAINOR"},{"id":"AKTSIASELTS PRINTON"},{"id":"AKTSIASELTS RAIT"},{"id":"AS FORT AERO"},{"id":"OSAHING LE"},{"id":"NORTH ASSETS O"},{"id":"NORTH CAPITAL O"},{"id":"O LERRAG"},{"id":"O HARTON"},{"id":"MONERE O"},{"id":"OSAHING CONTINENTAL MANAGEMENT"},{"id":"AS EXPRESS POST"},{"id":"O HCM INVESTMENTS"},{"id":"O CM KINNISVARA"},{"id":"FITTURNER O"},{"id":"IZRAELJAN ANTON"},{"id":"SAVI KATRIN"},{"id":"KELDO ERKKI"},{"id":"AS GO3 BALTICS"},{"id":"OSAHING ELUX VARA"},{"id":"E-DOK O"},{"id":"O JONGERT"},{"id":"SIHTASUTUS HEATEGEVUSFOND MINU UNISTUSTE PEV"},{"id":"OPERAIL REPAIRS O"},{"id":"STUDIO MODERNA O"},{"id":"TRIALTO LOGISTIKA O"},{"id":"GRANDVILLE KAUBANDUSE O"},{"id":"A3 ARENDUS O"},{"id":"LAULASMAA INVEST O"},{"id":"SALVA KAHJUKSITLUSE OSAHING"},{"id":"OMEGA LAEN AS"},{"id":"AKTSIASELTS HANSA CANDLE"},{"id":"AS BALTIC MARINE GROUP"},{"id":"AS PCT ARVUTID"},{"id":"ASSA ABLOY OPENING SOLUTION BALTIC AS"},{"id":"BAUROC AS"},{"id":"CITY MOTORS AKTSIASELTS"},{"id":"EMG KARJRID O"},{"id":"OSAHING RAGLOR"},{"id":"O INF KALDASE"},{"id":"O INF MUSTAKIVI"},{"id":"O INF TENNISEKESKUS"},{"id":"O SCHMIDT & SONS"},{"id":"RAGN-SELLS AS"},{"id":"SIHTASUTUS EESTI-HOLLANDI HEATEGEVUSFOND"},{"id":"KV1 O"},{"id":"OEM EESTI OSAHING"},{"id":"MY FITNESS AS"},{"id":"OSAHING METROPRINT SYSTEMS"},{"id":"LIVIKO KAUBANDUSE O"},{"id":"MERITON HOTELS O"},{"id":"SDRA FOREST ESTONIA O"},{"id":"TERMAK REAL ESTATE O"},{"id":"VALLIN BALTIC AS"},{"id":"YAICO AS"},{"id":"O SWISSOTEL ESTONIA"},{"id":"RIIGI KINNISVARA AKTSIASELTS"},{"id":"KREENHOLMI VALDUSE AKTSIASELTS"},{"id":"LUNDBECK EESTI AKTSIASELTS"},{"id":"TAMRO EESTI O"},{"id":"TSCHUDI SHIP MANAGEMENT AS"}]'),IS=JSON.parse('[{"source":"KPMG BALTICS O","target":"OSAHING KPMG RAAMATUPIDAMISTEENUSED"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS KAUPMEES & KO"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS MAREN INVEST"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS MARSTEN MARKETING"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS MATUREKS"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS MIKSKAAR"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS MISTRA-AUTEX"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS NITROFERT"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS OLEREX"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS PAFER"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS PAULIG BALTIC"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS PEPSICO EESTI"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS PINUS"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS PLUSPLUS CAPITAL"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS PRIKE"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS PURMO GROUP ESTONIA"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS REPO VABRIKUD"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS SAARTE LIINID"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS SALUTAGUSE PRMITEHAS"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS SANTA MARIA"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS SCHLSSLE HOTEL GROUP"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS SKINEST RAIL"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS SORBES ESTONIA"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TALLINK"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TALLINK DUTY FREE"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TALLINK GRUPP"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TALLINK SCANDINAVIAN"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TALLINK TAKSO"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TALLINNA ARENDUSED"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TALLINNA JTMETE TAASKASUTUSKESKUS"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TALLINNA LINNATRANSPORT"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TARA-TORF"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TECHNOMAR & ADREM"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TIKKURILA"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TOFTAN"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TOODE"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TOOTSI TURVAS"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS TRIDENS"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS VABA MAA"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS VESTMAN ENERGIA"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS VTSA PRGILA"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS ANTISTA"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS BALTEM"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS BALTFLEX"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS BALTIKA"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS BARRUS"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS ECE EUROPEAN CITY ESTATES"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS EKSPRESS GRUPP"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS ESTIKO - PLASTAR"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS ESTONIAN CELL"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS FARMI PIIMATSTUS"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS FEB"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS FIFAA"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS GASTROLINK"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS GLASSENSE"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS H.T. VALUUTA"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS INFORTAR"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS JALAJLG"},{"source":"KPMG BALTICS O","target":"AKTSIASELTS KAGU-EESTI TURVAS"},{"source":"KPMG BALTICS O","target":"AGAPICS AS"},{"source":"KPMG BALTICS O","target":"ALLEPAL O"},{"source":"KPMG BALTICS O","target":"AQ LASERTOOL O"},{"source":"KPMG BALTICS O","target":"AQ TRAFOTEK AS"},{"source":"KPMG BALTICS O","target":"ALTEAMS EESTI O"},{"source":"KPMG BALTICS O","target":"AMBIENT SOUND INVESTMENTS O"},{"source":"KPMG BALTICS O","target":"CREDIT CAPITAL O"},{"source":"KPMG BALTICS O","target":"CREDITSTAR GROUP AS"},{"source":"KPMG BALTICS O","target":"COMPENSA LIFE VIENNA INSURANCE GROUP SE"},{"source":"KPMG BALTICS O","target":"DELFI MEEDIA AS"},{"source":"KPMG BALTICS O","target":"DENISSI APTEEGID O"},{"source":"KPMG BALTICS O","target":"AS ALFONS HAKANS"},{"source":"KPMG BALTICS O","target":"AS AREALIS"},{"source":"KPMG BALTICS O","target":"AS ARSTIKESKUS CONFIDO"},{"source":"KPMG BALTICS O","target":"AS ATEA"},{"source":"KPMG BALTICS O","target":"AS AVARON ASSET MANAGEMENT"},{"source":"KPMG BALTICS O","target":"AS BIRDEYE CAPITAL"},{"source":"KPMG BALTICS O","target":"AS CONNECTO EESTI"},{"source":"KPMG BALTICS O","target":"AS DAGPLAST"},{"source":"KPMG BALTICS O","target":"AS EESTI GAAS"},{"source":"KPMG BALTICS O","target":"AS EESTI VARUDE KESKUS"},{"source":"KPMG BALTICS O","target":"AS EG EHITUS"},{"source":"KPMG BALTICS O","target":"AS E-PIIM TOOTMINE"},{"source":"KPMG BALTICS O","target":"AS GAASIVRK"},{"source":"KPMG BALTICS O","target":"AS GLAMOX"},{"source":"KPMG BALTICS O","target":"AS HOOLEKANDETEENUSED"},{"source":"KPMG BALTICS O","target":"AS KAUPMEES GRUPP"},{"source":"KPMG BALTICS O","target":"AS KAUPMEES INVESTEERINGUD"},{"source":"KPMG BALTICS O","target":"AS KAWE"},{"source":"KPMG BALTICS O","target":"AS KAWE PLAZA"},{"source":"KPMG BALTICS O","target":"AS KUUSAKOSKI"},{"source":"KPMG BALTICS O","target":"AS LANDCREDIT"},{"source":"KPMG BALTICS O","target":"AS LHV PAYTECH"},{"source":"KPMG BALTICS O","target":"AS MAAG EESTI"},{"source":"KPMG BALTICS O","target":"AS MAAG GRUPP"},{"source":"KPMG BALTICS O","target":"AS NORDIC CONTRACTORS"},{"source":"KPMG BALTICS O","target":"AS NYNAS"},{"source":"KPMG BALTICS O","target":"AS OPERAIL"},{"source":"KPMG BALTICS O","target":"AS OPERAIL LEASING"},{"source":"KPMG BALTICS O","target":"AS PALMAKO"},{"source":"KPMG BALTICS O","target":"AS PAROC"},{"source":"KPMG BALTICS O","target":"AS POCOPAY"},{"source":"KPMG BALTICS O","target":"AS POSTIMEES GRUPP"},{"source":"KPMG BALTICS O","target":"AS PRFOODS"},{"source":"KPMG BALTICS O","target":"AS PRISMA PEREMARKET"},{"source":"KPMG BALTICS O","target":"AS RANNAROOTSI LIHATSTUS"},{"source":"KPMG BALTICS O","target":"AS SAAREMAA PIIMATSTUS"},{"source":"KPMG BALTICS O","target":"AS SHNELLI RIMAJA"},{"source":"KPMG BALTICS O","target":"AS SKINEST GRUPP"},{"source":"KPMG BALTICS O","target":"AS SMARTCAP"},{"source":"KPMG BALTICS O","target":"AS SOKOTEL"},{"source":"KPMG BALTICS O","target":"AS SOLARIS KESKUS"},{"source":"KPMG BALTICS O","target":"AS TARISTON"},{"source":"KPMG BALTICS O","target":"AS TRI KVARTAL"},{"source":"KPMG BALTICS O","target":"AUTOLINK GROUP AS"},{"source":"KPMG BALTICS O","target":"AUTOLINK PALDISKI O"},{"source":"KPMG BALTICS O","target":"AVARON ARENEVA EUROOPA VIKEETTEVTETE FOND MASF"},{"source":"KPMG BALTICS O","target":"ARCO VARA AS"},{"source":"KPMG BALTICS O","target":"AREALIS HOLDING AS"},{"source":"KPMG BALTICS O","target":"ARTEKNO EESTI O"},{"source":"KPMG BALTICS O","target":"BALTI AUTOOSAD AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"BALTIC MARITIME LOGISTICS GROUP AS"},{"source":"KPMG BALTICS O","target":"BALTIC RCC O"},{"source":"KPMG BALTICS O","target":"BALTIC WORKBOATS AS"},{"source":"KPMG BALTICS O","target":"BH CC PLAZA O"},{"source":"KPMG BALTICS O","target":"BESTAIR GROUP O"},{"source":"KPMG BALTICS O","target":"CLEVON AS"},{"source":"KPMG BALTICS O","target":"CERE CODE AS"},{"source":"KPMG BALTICS O","target":"CF&S ESTONIA AS"},{"source":"KPMG BALTICS O","target":"BONAVENTURA SALES ESTONIA O"},{"source":"KPMG BALTICS O","target":"BONDORA AS"},{"source":"KPMG BALTICS O","target":"BONDORA FINANCE AS"},{"source":"KPMG BALTICS O","target":"BONDORA GROUP AS"},{"source":"KPMG BALTICS O","target":"CARPENTER ENGINEERED FOAMS O"},{"source":"KPMG BALTICS O","target":"CASEMET O"},{"source":"KPMG BALTICS O","target":"BUREAU VERITAS EESTI OSAHING"},{"source":"KPMG BALTICS O","target":"BRITISH AMERICAN TOBACCO ESTONIA AS"},{"source":"KPMG BALTICS O","target":"EAST CAPITAL REAL ESTATE AS"},{"source":"KPMG BALTICS O","target":"DPD EESTI AS"},{"source":"KPMG BALTICS O","target":"DSV ESTONIA AS"},{"source":"KPMG BALTICS O","target":"ADIDAS BALTICS SIA EESTI FILIAAL"},{"source":"KPMG BALTICS O","target":"ABB AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"EESTI KAUBANDUS-TSTUSKODA"},{"source":"KPMG BALTICS O","target":"ELENGER MARINE O"},{"source":"KPMG BALTICS O","target":"ELISA EESTI AS"},{"source":"KPMG BALTICS O","target":"ESTEVE AS"},{"source":"KPMG BALTICS O","target":"ESTO AS"},{"source":"KPMG BALTICS O","target":"ETRA BALTI AS"},{"source":"KPMG BALTICS O","target":"ETTEVTLUSE JA INNOVATSIOONI SIHTASUTUS"},{"source":"KPMG BALTICS O","target":"EPF PORTUS O"},{"source":"KPMG BALTICS O","target":"E-RIIGI AKADEEMIA SIHTASUTUS"},{"source":"KPMG BALTICS O","target":"ESSVE ESTONIA AS"},{"source":"KPMG BALTICS O","target":"ENERGATE O"},{"source":"KPMG BALTICS O","target":"ENERSENSE AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"FRESH FINANCE O"},{"source":"KPMG BALTICS O","target":"FRICTAPE NET O"},{"source":"KPMG BALTICS O","target":"FUSION VARAHALDUSE AS"},{"source":"KPMG BALTICS O","target":"FAST BUNKERING AS"},{"source":"KPMG BALTICS O","target":"FISKARS ESTONIA AS"},{"source":"KPMG BALTICS O","target":"FIVE WIND ENERGY O"},{"source":"KPMG BALTICS O","target":"FLEXA EESTI AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"FLIR SYSTEMS ESTONIA O"},{"source":"KPMG BALTICS O","target":"GPI ESTONIA AS"},{"source":"KPMG BALTICS O","target":"GPV ESTONIA AS"},{"source":"KPMG BALTICS O","target":"GREENERGY DATA CENTERS O"},{"source":"KPMG BALTICS O","target":"GREN VIRU AS"},{"source":"KPMG BALTICS O","target":"GARDEST O"},{"source":"KPMG BALTICS O","target":"INTERNA INVEST O"},{"source":"KPMG BALTICS O","target":"IONISOS BALTICS O"},{"source":"KPMG BALTICS O","target":"JEWE KESKUSE O"},{"source":"KPMG BALTICS O","target":"JCDECAUX EESTI O"},{"source":"KPMG BALTICS O","target":"JAHELOGISTIKA O"},{"source":"KPMG BALTICS O","target":"JOBBATICAL O"},{"source":"KPMG BALTICS O","target":"KANTAURO O"},{"source":"KPMG BALTICS O","target":"KARISMA FOOD O"},{"source":"KPMG BALTICS O","target":"JTH EESTI O"},{"source":"KPMG BALTICS O","target":"JYSK LINNEN`N FURNITURE OSAHING"},{"source":"KPMG BALTICS O","target":"JHVI TSENTRAAL O"},{"source":"KPMG BALTICS O","target":"LAGEDI KODU O"},{"source":"KPMG BALTICS O","target":"LENNULIIKLUSTEENINDUSE AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"LEONES INC O"},{"source":"KPMG BALTICS O","target":"LARS NORDIC O"},{"source":"KPMG BALTICS O","target":"LECTRA BALTIC O"},{"source":"KPMG BALTICS O","target":"LEINONEN GROUP AS"},{"source":"KPMG BALTICS O","target":"OSAHING HANSALIIN"},{"source":"KPMG BALTICS O","target":"OSAHING HANSATEE KINNISVARA"},{"source":"KPMG BALTICS O","target":"OSAHING HERA SALONGID"},{"source":"KPMG BALTICS O","target":"OSAHING HIIRTE JUUST"},{"source":"KPMG BALTICS O","target":"OSAHING HT LAEVATEENINDUS"},{"source":"KPMG BALTICS O","target":"OSAHING HT MEELELAHUTUS"},{"source":"KPMG BALTICS O","target":"OSAHING ALMARO TRANS"},{"source":"KPMG BALTICS O","target":"OSAHING ESTOVER"},{"source":"KPMG BALTICS O","target":"OSAHING ESTOVER PIIMATSTUS"},{"source":"KPMG BALTICS O","target":"OSAHING EU GIG"},{"source":"KPMG BALTICS O","target":"OSAHING PRIMOS"},{"source":"KPMG BALTICS O","target":"OSAHING TLG HOTELL"},{"source":"KPMG BALTICS O","target":"OSAHING TRANSPORDI VARAHALDUS"},{"source":"KPMG BALTICS O","target":"OSAHING VKG ENERGIA"},{"source":"KPMG BALTICS O","target":"OSAHING VKG KAEVANDUSED"},{"source":"KPMG BALTICS O","target":"OSAHING UNITED ESTOVER GROUP"},{"source":"KPMG BALTICS O","target":"OSAHING VARA HTG"},{"source":"KPMG BALTICS O","target":"OSAHING VELLERAND"},{"source":"KPMG BALTICS O","target":"O BALTIC RETAIL PROPERTIES ESTONIA"},{"source":"KPMG BALTICS O","target":"O BESTAIR"},{"source":"KPMG BALTICS O","target":"O BOOMERANG CABLE"},{"source":"KPMG BALTICS O","target":"O DUARTE GROUP"},{"source":"KPMG BALTICS O","target":"O EESTI PANDIPAKEND"},{"source":"KPMG BALTICS O","target":"O EG BIOFOND"},{"source":"KPMG BALTICS O","target":"O EUROCON"},{"source":"KPMG BALTICS O","target":"O FAIRFIELD HOLDING"},{"source":"KPMG BALTICS O","target":"O FINANCIAL AUTOMATION SOLUTIONS"},{"source":"KPMG BALTICS O","target":"O CITADELE FACTORING"},{"source":"KPMG BALTICS O","target":"O 3 STEP IT"},{"source":"KPMG BALTICS O","target":"O AQUABENE"},{"source":"KPMG BALTICS O","target":"O KALDA KODU"},{"source":"KPMG BALTICS O","target":"O KAWE CITY"},{"source":"KPMG BALTICS O","target":"O KAWE CLUB"},{"source":"KPMG BALTICS O","target":"O KAWE INVEST"},{"source":"KPMG BALTICS O","target":"O KAWE KODU"},{"source":"KPMG BALTICS O","target":"O KAWE LOGISTIKA"},{"source":"KPMG BALTICS O","target":"O KAWE PUIT"},{"source":"KPMG BALTICS O","target":"O KAWE TOWER"},{"source":"KPMG BALTICS O","target":"O KAWE RIKESKUS"},{"source":"KPMG BALTICS O","target":"O INF LIIVALAIA"},{"source":"KPMG BALTICS O","target":"O INF SADAMA 11"},{"source":"KPMG BALTICS O","target":"O INF SADAMA 579"},{"source":"KPMG BALTICS O","target":"O FUTBOL"},{"source":"KPMG BALTICS O","target":"O GLOBALREADER"},{"source":"KPMG BALTICS O","target":"O JUVEEL"},{"source":"KPMG BALTICS O","target":"O KONUVERE MIS"},{"source":"KPMG BALTICS O","target":"O NOBE"},{"source":"KPMG BALTICS O","target":"O RTLI MAJAD"},{"source":"KPMG BALTICS O","target":"O ONOFF EESTI"},{"source":"KPMG BALTICS O","target":"O PANDIPAKENDI AUTOMATISEERITUD KITLUSSSTEEM"},{"source":"KPMG BALTICS O","target":"O METSAVEOD GROUP"},{"source":"KPMG BALTICS O","target":"O TEKNOS"},{"source":"KPMG BALTICS O","target":"PIXMILL ESTONIA O"},{"source":"KPMG BALTICS O","target":"PHARMA HOLDING O"},{"source":"KPMG BALTICS O","target":"PRIKE GROUP O"},{"source":"KPMG BALTICS O","target":"QUANT ESTONIA O"},{"source":"KPMG BALTICS O","target":"PROLIS GRUPP O"},{"source":"KPMG BALTICS O","target":"SIHTASUTUS JRVSELJA PPE- JA KATSEMETSKOND"},{"source":"KPMG BALTICS O","target":"SIHTASUTUS TALLINNA KULTUURIKATEL"},{"source":"KPMG BALTICS O","target":"SIHTASUTUS TALLINNA LASTEHAIGLA"},{"source":"KPMG BALTICS O","target":"SCANFIL OSAHING"},{"source":"KPMG BALTICS O","target":"SCHCO EESTI O"},{"source":"KPMG BALTICS O","target":"SCORO SOFTWARE O"},{"source":"KPMG BALTICS O","target":"SD WORX ESTONIA O"},{"source":"KPMG BALTICS O","target":"SELECT SERVICE PARTNER EESTI AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"SANDMANI GRUPI AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"SATEBA ESTONIA O"},{"source":"KPMG BALTICS O","target":"SAINT-GOBAIN GLASS ESTONIA SE"},{"source":"KPMG BALTICS O","target":"SAJAS GROUP ESTONIA O"},{"source":"KPMG BALTICS O","target":"SALVA KINDLUSTUSE AS"},{"source":"KPMG BALTICS O","target":"SETIS CAPITAL O"},{"source":"KPMG BALTICS O","target":"SAUE PRODUCTION OSAHING"},{"source":"KPMG BALTICS O","target":"O TOOMPUIESTEE BROOHOONE"},{"source":"KPMG BALTICS O","target":"O SKINEST VEEREMI"},{"source":"KPMG BALTICS O","target":"O TAE FASHION"},{"source":"KPMG BALTICS O","target":"O TALLINK TRAVEL CLUB"},{"source":"KPMG BALTICS O","target":"O TALLINNA OPTIKA"},{"source":"KPMG BALTICS O","target":"O VIRU RMT"},{"source":"KPMG BALTICS O","target":"RENTOKIL O"},{"source":"KPMG BALTICS O","target":"REVELLIS INVEST O"},{"source":"KPMG BALTICS O","target":"RAMIRENT BALTIC AS"},{"source":"KPMG BALTICS O","target":"RAMIRENT MODULAR FACTORY AS"},{"source":"KPMG BALTICS O","target":"RAMIRENT SHARED SERVICES AS"},{"source":"KPMG BALTICS O","target":"RAKVERE FARMID AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"SAAREMERE KALA AS"},{"source":"KPMG BALTICS O","target":"SAARE KALA TOOTMINE O"},{"source":"KPMG BALTICS O","target":"SAAREMAA PIIMAHISTU"},{"source":"KPMG BALTICS O","target":"ROCHE EESTI OSAHING"},{"source":"KPMG BALTICS O","target":"ROOSA TURVAS AS"},{"source":"KPMG BALTICS O","target":"RIMI EESTI FOOD AS"},{"source":"KPMG BALTICS O","target":"SK ID SOLUTIONS AS"},{"source":"KPMG BALTICS O","target":"SKINEST CONNECT O"},{"source":"KPMG BALTICS O","target":"SKINEST INVESTEERINGUTE OSAHING"},{"source":"KPMG BALTICS O","target":"SMARTMATIC-CYBERNETICA CENTRE OF EXCELLENCE FOR INTERNET VOTING O"},{"source":"KPMG BALTICS O","target":"SONEPAR EESTI AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"SPORTLAND EESTI AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"SPORTLAND INTERNATIONAL GROUP AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"SOL BALTICS O"},{"source":"KPMG BALTICS O","target":"HEA APTEEK O"},{"source":"KPMG BALTICS O","target":"HEIDELBERG BALTIC FINLAND O"},{"source":"KPMG BALTICS O","target":"HEIDELBERG MATERIALS BETOON AS"},{"source":"KPMG BALTICS O","target":"HANSA SHIP MANAGEMENT O"},{"source":"KPMG BALTICS O","target":"HANSA SHIPPING AS"},{"source":"KPMG BALTICS O","target":"HAAPSALU UKSETEHASE AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"KUNDA SADAM AS"},{"source":"KPMG BALTICS O","target":"NORDECON AS"},{"source":"KPMG BALTICS O","target":"NORDIC MILK O"},{"source":"KPMG BALTICS O","target":"NORDKALK AS"},{"source":"KPMG BALTICS O","target":"NORD MEDIA GROUP O"},{"source":"KPMG BALTICS O","target":"NORTHPOLE O"},{"source":"KPMG BALTICS O","target":"ORCHIS O"},{"source":"KPMG BALTICS O","target":"OPERAIL HOLDING O"},{"source":"KPMG BALTICS O","target":"OPTIMERA ESTONIA AS"},{"source":"KPMG BALTICS O","target":"NPM SILMET O"},{"source":"KPMG BALTICS O","target":"NTN EST OSAHING"},{"source":"KPMG BALTICS O","target":"NMME ERAHARIDUSE SIHTASUTUS"},{"source":"KPMG BALTICS O","target":"MT EESTI PAGULASABI"},{"source":"KPMG BALTICS O","target":"MONDAY MEDIA O"},{"source":"KPMG BALTICS O","target":"MONEMON AS"},{"source":"KPMG BALTICS O","target":"MOVEO O"},{"source":"KPMG BALTICS O","target":"NESTE EESTI AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"NEW YORKER ESTONIA O"},{"source":"KPMG BALTICS O","target":"MUUGA STORAGE TERMINAL O"},{"source":"KPMG BALTICS O","target":"MULGI TURVAS AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"OSAHING LINDEX EESTI"},{"source":"KPMG BALTICS O","target":"OSAHING LUMAN JA POJAD"},{"source":"KPMG BALTICS O","target":"OSAHING MARE CATERING"},{"source":"KPMG BALTICS O","target":"LOHUSALU SADAM O"},{"source":"KPMG BALTICS O","target":"LUNA GROUP ESTONIA AS"},{"source":"KPMG BALTICS O","target":"MANAGETRADE O"},{"source":"KPMG BALTICS O","target":"MANN LINES O"},{"source":"KPMG BALTICS O","target":"MAGNETIC MRO AS"},{"source":"KPMG BALTICS O","target":"LIVEN AS"},{"source":"KPMG BALTICS O","target":"LIVEN KODU 17 O"},{"source":"KPMG BALTICS O","target":"MAJOREL ESTONIA O"},{"source":"KPMG BALTICS O","target":"MAAELU EDENDAMISE SIHTASUTUS"},{"source":"KPMG BALTICS O","target":"MAAG FOOD O"},{"source":"KPMG BALTICS O","target":"MAAG HORECA O"},{"source":"KPMG BALTICS O","target":"MAAG KINNISVARA O"},{"source":"KPMG BALTICS O","target":"MAAKRI HOLDING O"},{"source":"KPMG BALTICS O","target":"METSAMAAHALDUSE AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"METS FOREST EESTI AS"},{"source":"KPMG BALTICS O","target":"METS WOOD EESTI AS"},{"source":"KPMG BALTICS O","target":"MG PIIMA INVEST O"},{"source":"KPMG BALTICS O","target":"MERCK SERONO O"},{"source":"KPMG BALTICS O","target":"MBR METALS O"},{"source":"KPMG BALTICS O","target":"MCF GROUP ESTONIA O"},{"source":"KPMG BALTICS O","target":"MEDIQ EESTI O"},{"source":"KPMG BALTICS O","target":"MARKIT HOLDING AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"HS KAARI O"},{"source":"KPMG BALTICS O","target":"HS KAATA O"},{"source":"KPMG BALTICS O","target":"HS KADRI O"},{"source":"KPMG BALTICS O","target":"HS KAIE O"},{"source":"KPMG BALTICS O","target":"HS KAILEEN O"},{"source":"KPMG BALTICS O","target":"HS KAILI O"},{"source":"KPMG BALTICS O","target":"HS KAIRIT O"},{"source":"KPMG BALTICS O","target":"HS KAISA O"},{"source":"KPMG BALTICS O","target":"HS KAJA O"},{"source":"KPMG BALTICS O","target":"HS KAMELIA O"},{"source":"KPMG BALTICS O","target":"HS KAREN O"},{"source":"KPMG BALTICS O","target":"HS KARESSA O"},{"source":"KPMG BALTICS O","target":"HS KARITA O"},{"source":"KPMG BALTICS O","target":"HS KARMEL O"},{"source":"KPMG BALTICS O","target":"HS KAROLIINA O"},{"source":"KPMG BALTICS O","target":"HS KAROLI O"},{"source":"KPMG BALTICS O","target":"HS KATARIINA O"},{"source":"KPMG BALTICS O","target":"HS KATI O"},{"source":"KPMG BALTICS O","target":"HS KATRE O"},{"source":"KPMG BALTICS O","target":"HS KATRIN O"},{"source":"KPMG BALTICS O","target":"HS KAURI O"},{"source":"KPMG BALTICS O","target":"HS KEIT O"},{"source":"KPMG BALTICS O","target":"HS KELLY O"},{"source":"KPMG BALTICS O","target":"HS KERLI O"},{"source":"KPMG BALTICS O","target":"HS KERSTI O"},{"source":"KPMG BALTICS O","target":"HS KERTU O"},{"source":"KPMG BALTICS O","target":"HS KESSU O"},{"source":"KPMG BALTICS O","target":"HS KETHI O"},{"source":"KPMG BALTICS O","target":"HS KETLIN O"},{"source":"KPMG BALTICS O","target":"HS KETTER O"},{"source":"KPMG BALTICS O","target":"HS KILLU O"},{"source":"KPMG BALTICS O","target":"HS KIMBERLY O"},{"source":"KPMG BALTICS O","target":"HS KIRKE O"},{"source":"KPMG BALTICS O","target":"HS KIRSI O"},{"source":"KPMG BALTICS O","target":"HS KLARA O"},{"source":"KPMG BALTICS O","target":"HS KLARIKA O"},{"source":"KPMG BALTICS O","target":"HS KREETE O"},{"source":"KPMG BALTICS O","target":"HS KRISLIN O"},{"source":"KPMG BALTICS O","target":"HS KRIS O"},{"source":"KPMG BALTICS O","target":"HS KRISTA O"},{"source":"KPMG BALTICS O","target":"HS KRISTELLA O"},{"source":"KPMG BALTICS O","target":"HS KRISTEL O"},{"source":"KPMG BALTICS O","target":"HS KRISTIINA O"},{"source":"KPMG BALTICS O","target":"HW ASSETS O"},{"source":"KPMG BALTICS O","target":"HPOTEEKLAEN AS"},{"source":"KPMG BALTICS O","target":"HYDRO EXTRUSION BALTICS O"},{"source":"KPMG BALTICS O","target":"IDEAL GROUP AS"},{"source":"KPMG BALTICS O","target":"INSPECTA ESTONIA O"},{"source":"KPMG BALTICS O","target":"INDOOR GROUP AS"},{"source":"KPMG BALTICS O","target":"INFOTARK AS"},{"source":"KPMG BALTICS O","target":"KIRDE VARAD AS"},{"source":"KPMG BALTICS O","target":"KLARUS FINANCE O"},{"source":"KPMG BALTICS O","target":"KLICK EESTI AS"},{"source":"KPMG BALTICS O","target":"KERESE KESKUS O"},{"source":"KPMG BALTICS O","target":"KINNISVARAVALDUSE AS"},{"source":"KPMG BALTICS O","target":"KATANA TECHNOLOGIES O"},{"source":"KPMG BALTICS O","target":"KODULAHE KVARTAL O"},{"source":"KPMG BALTICS O","target":"MITTETULUNDUSHING INTERNATIONAL EDUCATIONAL ASSOCIATION OF ESTONIA"},{"source":"KPMG BALTICS O","target":"MILREM AS"},{"source":"KPMG BALTICS O","target":"SBRA RIKESKUS O"},{"source":"KPMG BALTICS O","target":"STIVIS O"},{"source":"KPMG BALTICS O","target":"SUNLY AS"},{"source":"KPMG BALTICS O","target":"SUNLY ASSETS O"},{"source":"KPMG BALTICS O","target":"TAKEDA PHARMA O"},{"source":"KPMG BALTICS O","target":"TAMMSAARE RIMAJA O"},{"source":"KPMG BALTICS O","target":"TANASSILMA O"},{"source":"KPMG BALTICS O","target":"TOFTANI METSANDUSE O"},{"source":"KPMG BALTICS O","target":"TOMRA HOLDING O"},{"source":"KPMG BALTICS O","target":"TOMRA SERVICE O"},{"source":"KPMG BALTICS O","target":"TASMO RIGRUPI AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"TERE AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"UNIVERSAL CONSULTING BUREAU O"},{"source":"KPMG BALTICS O","target":"UNIVERSAL INDUSTRIES OSAHING"},{"source":"KPMG BALTICS O","target":"UP CATALYST O"},{"source":"KPMG BALTICS O","target":"TC MAJAD AS"},{"source":"KPMG BALTICS O","target":"TECHNOPOLIS BALTIC HOLDING O"},{"source":"KPMG BALTICS O","target":"TEEKEY INVEST OSAHING"},{"source":"KPMG BALTICS O","target":"TEXTMAGIC AS"},{"source":"KPMG BALTICS O","target":"TRANSOCEAN EESTI O"},{"source":"KPMG BALTICS O","target":"WALLESTER AS"},{"source":"KPMG BALTICS O","target":"VKG OIL AS"},{"source":"KPMG BALTICS O","target":"VMF ESTONIA O"},{"source":"KPMG BALTICS O","target":"TIMBERSTOCK O"},{"source":"KPMG BALTICS O","target":"UNIFIEDPOST AS"},{"source":"KPMG BALTICS O","target":"UNILEVER EESTI AKTSIASELTS"},{"source":"KPMG BALTICS O","target":"VERSTON O"},{"source":"KPMG BALTICS O","target":"VANA-POSTI KINNISVARA O"},{"source":"KPMG BALTICS O","target":"VEDRU ST 8 O"},{"source":"KPMG BALTICS O","target":"VEGELOG O"},{"source":"KPMG BALTICS O","target":"VIRU KEEMIA GRUPP AS"},{"source":"KPMG BALTICS O","target":"VIRU ELEKTRIVRGUD O"},{"source":"KPMG BALTICS O","target":"WEBINFLUENCE GROUP AS"},{"source":"KPMG BALTICS O","target":"YOOK PRODUCTION AS"},{"source":"AKTSIASELTS KAUPMEES & KO","target":"O VIA 3L"},{"source":"AKTSIASELTS MIKSKAAR","target":"AKTSIASELTS TARA-TORF"},{"source":"AKTSIASELTS MIKSKAAR","target":"RAPLA TURVAS O"},{"source":"KPMG OY AB","target":"KPMG BALTICS O"},{"source":"ALLIKSAAR INDREK","target":"KPMG BALTICS O"},{"source":"ALLIKSAAR INDREK","target":"AKTSIASELTS MARSTEN MARKETING"},{"source":"ALLIKSAAR INDREK","target":"DELTA ADVISORY O"},{"source":"ALLIKSAAR INDREK","target":"DELTA INVESTMENTS O"},{"source":"ALLIKSAAR INDREK","target":"FINANCE GRUPP O"},{"source":"ALLIKSAAR INDREK","target":"AKTSIASELTS PRIKE"},{"source":"ALLIKSAAR INDREK","target":"AKTSIASELTS PURMO GROUP ESTONIA"},{"source":"ALLIKSAAR INDREK","target":"AKTSIASELTS SORBES ESTONIA"},{"source":"ALLIKSAAR INDREK","target":"AKTSIASELTS TALLINNA SOOJUS"},{"source":"ALLIKSAAR INDREK","target":"AKTSIASELTS TARA-TORF"},{"source":"ALLIKSAAR INDREK","target":"AKTSIASELTS TIKKURILA"},{"source":"ALLIKSAAR INDREK","target":"AKTSIASELTS TOOTSI TURVAS"},{"source":"ALLIKSAAR INDREK","target":"AKTSIASELTS BALTEM"},{"source":"ALLIKSAAR INDREK","target":"AKTSIASELTS EKSPRESS GRUPP"},{"source":"ALLIKSAAR INDREK","target":"AGAPICS AS"},{"source":"ALLIKSAAR INDREK","target":"DELFI MEEDIA AS"},{"source":"ALLIKSAAR INDREK","target":"DELTA ADVISORY O"},{"source":"ALLIKSAAR INDREK","target":"DELTA INVESTMENTS O"},{"source":"ALLIKSAAR INDREK","target":"AS GO3 BALTICS"},{"source":"ALLIKSAAR INDREK","target":"AS OPERAIL"},{"source":"ALLIKSAAR INDREK","target":"AS OPERAIL LEASING"},{"source":"ALLIKSAAR INDREK","target":"AUTOLINK GROUP AS"},{"source":"ALLIKSAAR INDREK","target":"AUTOLINK PALDISKI O"},{"source":"ALLIKSAAR INDREK","target":"BALTIC MARITIME LOGISTICS GROUP AS"},{"source":"ALLIKSAAR INDREK","target":"CF&S ESTONIA AS"},{"source":"ALLIKSAAR INDREK","target":"EAST CAPITAL REAL ESTATE AS"},{"source":"ALLIKSAAR INDREK","target":"ABB AKTSIASELTS"},{"source":"ALLIKSAAR INDREK","target":"ELISA EESTI AS"},{"source":"ALLIKSAAR INDREK","target":"ESTEVE AS"},{"source":"ALLIKSAAR INDREK","target":"FLIR SYSTEMS ESTONIA O"},{"source":"ALLIKSAAR INDREK","target":"FINANCE GRUPP O"},{"source":"ALLIKSAAR INDREK","target":"GREN VIRU AS"},{"source":"ALLIKSAAR INDREK","target":"OSAHING ELUX VARA"},{"source":"ALLIKSAAR INDREK","target":"DELTA ADVISORY O"},{"source":"ALLIKSAAR INDREK","target":"DELTA INVESTMENTS O"},{"source":"ALLIKSAAR INDREK","target":"FINANCE GRUPP O"},{"source":"ALLIKSAAR INDREK","target":"E-DOK O"},{"source":"ALLIKSAAR INDREK","target":"JTH EESTI O"},{"source":"ALLIKSAAR INDREK","target":"OSAHING ALMARO TRANS"},{"source":"ALLIKSAAR INDREK","target":"O FINANCIAL AUTOMATION SOLUTIONS"},{"source":"ALLIKSAAR INDREK","target":"O FUTBOL"},{"source":"ALLIKSAAR INDREK","target":"O JONGERT"},{"source":"ALLIKSAAR INDREK","target":"O TEKNOS"},{"source":"ALLIKSAAR INDREK","target":"PRIKE GROUP O"},{"source":"ALLIKSAAR INDREK","target":"PROLIS GRUPP O"},{"source":"ALLIKSAAR INDREK","target":"SIHTASUTUS HEATEGEVUSFOND MINU UNISTUSTE PEV"},{"source":"ALLIKSAAR INDREK","target":"SCORO SOFTWARE O"},{"source":"ALLIKSAAR INDREK","target":"SAUE PRODUCTION OSAHING"},{"source":"ALLIKSAAR INDREK","target":"O TALLINNA OPTIKA"},{"source":"ALLIKSAAR INDREK","target":"REVELLIS INVEST O"},{"source":"ALLIKSAAR INDREK","target":"RIMI EESTI FOOD AS"},{"source":"ALLIKSAAR INDREK","target":"SKINEST CONNECT O"},{"source":"ALLIKSAAR INDREK","target":"SPORTLAND INTERNATIONAL GROUP AKTSIASELTS"},{"source":"ALLIKSAAR INDREK","target":"SOL BALTICS O"},{"source":"ALLIKSAAR INDREK","target":"HANSA SHIP MANAGEMENT O"},{"source":"ALLIKSAAR INDREK","target":"HANSA SHIPPING AS"},{"source":"ALLIKSAAR INDREK","target":"KUNDA SADAM AS"},{"source":"ALLIKSAAR INDREK","target":"OPERAIL HOLDING O"},{"source":"ALLIKSAAR INDREK","target":"OPERAIL REPAIRS O"},{"source":"ALLIKSAAR INDREK","target":"NPM SILMET O"},{"source":"ALLIKSAAR INDREK","target":"MOVEO O"},{"source":"ALLIKSAAR INDREK","target":"NEW YORKER ESTONIA O"},{"source":"ALLIKSAAR INDREK","target":"MANN LINES O"},{"source":"ALLIKSAAR INDREK","target":"HS KAATA O"},{"source":"ALLIKSAAR INDREK","target":"HS KADRI O"},{"source":"ALLIKSAAR INDREK","target":"HS KAIE O"},{"source":"ALLIKSAAR INDREK","target":"HS KAILEEN O"},{"source":"ALLIKSAAR INDREK","target":"HS KAILI O"},{"source":"ALLIKSAAR INDREK","target":"HS KAIRIT O"},{"source":"ALLIKSAAR INDREK","target":"HS KAISA O"},{"source":"ALLIKSAAR INDREK","target":"HS KAJA O"},{"source":"ALLIKSAAR INDREK","target":"HS KAMELIA O"},{"source":"ALLIKSAAR INDREK","target":"HS KAREN O"},{"source":"ALLIKSAAR INDREK","target":"HS KARESSA O"},{"source":"ALLIKSAAR INDREK","target":"HS KARITA O"},{"source":"ALLIKSAAR INDREK","target":"HS KARMEL O"},{"source":"ALLIKSAAR INDREK","target":"HS KAROLI O"},{"source":"ALLIKSAAR INDREK","target":"HS KATI O"},{"source":"ALLIKSAAR INDREK","target":"HS KATRE O"},{"source":"ALLIKSAAR INDREK","target":"HS KATRIN O"},{"source":"ALLIKSAAR INDREK","target":"HS KAURI O"},{"source":"ALLIKSAAR INDREK","target":"HS KEIT O"},{"source":"ALLIKSAAR INDREK","target":"HS KELLY O"},{"source":"ALLIKSAAR INDREK","target":"HS KERLI O"},{"source":"ALLIKSAAR INDREK","target":"HS KERSTI O"},{"source":"ALLIKSAAR INDREK","target":"HS KERTU O"},{"source":"ALLIKSAAR INDREK","target":"HS KESSU O"},{"source":"ALLIKSAAR INDREK","target":"HS KETHI O"},{"source":"ALLIKSAAR INDREK","target":"HS KETLIN O"},{"source":"ALLIKSAAR INDREK","target":"HS KETTER O"},{"source":"ALLIKSAAR INDREK","target":"HS KLARA O"},{"source":"ALLIKSAAR INDREK","target":"HS KLARIKA O"},{"source":"ALLIKSAAR INDREK","target":"HS KREETE O"},{"source":"ALLIKSAAR INDREK","target":"HS KRISLIN O"},{"source":"ALLIKSAAR INDREK","target":"HS KRISTELLA O"},{"source":"ALLIKSAAR INDREK","target":"HS KRISTEL O"},{"source":"ALLIKSAAR INDREK","target":"HS KRISTIINA O"},{"source":"ALLIKSAAR INDREK","target":"KINNISVARAVALDUSE AS"},{"source":"ALLIKSAAR INDREK","target":"SBRA RIKESKUS O"},{"source":"ALLIKSAAR INDREK","target":"STUDIO MODERNA O"},{"source":"ALLIKSAAR INDREK","target":"STIVIS O"},{"source":"ALLIKSAAR INDREK","target":"TOMRA HOLDING O"},{"source":"ALLIKSAAR INDREK","target":"UNIVERSAL CONSULTING BUREAU O"},{"source":"ALLIKSAAR INDREK","target":"UNIVERSAL INDUSTRIES OSAHING"},{"source":"ALLIKSAAR INDREK","target":"TC MAJAD AS"},{"source":"ALLIKSAAR INDREK","target":"TECHNOPOLIS BALTIC HOLDING O"},{"source":"ALLIKSAAR INDREK","target":"TRANSOCEAN EESTI O"},{"source":"ALLIKSAAR INDREK","target":"TRIALTO LOGISTIKA O"},{"source":"ALLIKSAAR INDREK","target":"UNIFIEDPOST AS"},{"source":"ALLIKSAAR INDREK","target":"UNILEVER EESTI AKTSIASELTS"},{"source":"ALLIKSAAR INDREK","target":"VIRU KEEMIA GRUPP AS"},{"source":"VEETAMM HELEN","target":"KPMG BALTICS O"},{"source":"VEETAMM HELEN","target":"PRESA O"},{"source":"VEETAMM HELEN","target":"AS KAWE"},{"source":"VEETAMM HELEN","target":"AS KAWE PLAZA"},{"source":"VEETAMM HELEN","target":"AS TRI KVARTAL"},{"source":"VEETAMM HELEN","target":"BALTI AUTOOSAD AKTSIASELTS"},{"source":"VEETAMM HELEN","target":"BOOMERANG DISTRIBUTION O"},{"source":"VEETAMM HELEN","target":"BOOMERANG LOGISTIC GROUP O"},{"source":"VEETAMM HELEN","target":"BOOMERANG RETURN MANAGEMENT O"},{"source":"VEETAMM HELEN","target":"FIM METS SPV1 O"},{"source":"VEETAMM HELEN","target":"GRANDVILLE KAUBANDUSE O"},{"source":"VEETAMM HELEN","target":"PRESA O"},{"source":"VEETAMM HELEN","target":"IONISOS BALTICS O"},{"source":"VEETAMM HELEN","target":"O DUARTE GROUP"},{"source":"VEETAMM HELEN","target":"O AQUABENE"},{"source":"VEETAMM HELEN","target":"O KAWE CITY"},{"source":"VEETAMM HELEN","target":"O KAWE CLUB"},{"source":"VEETAMM HELEN","target":"O KAWE INVEST"},{"source":"VEETAMM HELEN","target":"O KAWE KODU"},{"source":"VEETAMM HELEN","target":"O KAWE LOGISTIKA"},{"source":"VEETAMM HELEN","target":"O KAWE PUIT"},{"source":"VEETAMM HELEN","target":"O KAWE TOWER"},{"source":"VEETAMM HELEN","target":"O KAWE RIKESKUS"},{"source":"VEETAMM HELEN","target":"PRESA O"},{"source":"VEETAMM HELEN","target":"O TOOMPUIESTEE BROOHOONE"},{"source":"VEETAMM HELEN","target":"TAMMSAARE RIMAJA O"},{"source":"KAUP EERO","target":"KPMG BALTICS O"},{"source":"KAUP EERO","target":"AKTSIASELTS NITROFERT"},{"source":"KAUP EERO","target":"ESSE INVEST OSAHING"},{"source":"KAUP EERO","target":"SPITHAM KV O"},{"source":"KAUP EERO","target":"SPITHAM O"},{"source":"KAUP EERO","target":"AKTSIASELTS TALLINK GRUPP"},{"source":"KAUP EERO","target":"AKTSIASELTS FEB"},{"source":"KAUP EERO","target":"AS AVARON ASSET MANAGEMENT"},{"source":"KAUP EERO","target":"ARCO VARA KINNISVARABROO O"},{"source":"KAUP EERO","target":"BOMIN BALTIC AS"},{"source":"KAUP EERO","target":"EAST CAPITAL REAL ESTATE AS"},{"source":"KAUP EERO","target":"A3 ARENDUS O"},{"source":"KAUP EERO","target":"EPF PORTUS O"},{"source":"KAUP EERO","target":"ESSE INVEST OSAHING"},{"source":"KAUP EERO","target":"FRESH FINANCE O"},{"source":"KAUP EERO","target":"GPI ESTONIA AS"},{"source":"KAUP EERO","target":"SPITHAM KV O"},{"source":"KAUP EERO","target":"ESSE INVEST OSAHING"},{"source":"KAUP EERO","target":"JHVI TSENTRAAL O"},{"source":"KAUP EERO","target":"LAULASMAA INVEST O"},{"source":"KAUP EERO","target":"OSAHING VKG ENERGIA"},{"source":"KAUP EERO","target":"OSAHING VKG KAEVANDUSED"},{"source":"KAUP EERO","target":"O CITADELE FACTORING"},{"source":"KAUP EERO","target":"SALVA KAHJUKSITLUSE OSAHING"},{"source":"KAUP EERO","target":"O VIRU RMT"},{"source":"KAUP EERO","target":"OMEGA LAEN AS"},{"source":"KAUP EERO","target":"OSAHING MARE CATERING"},{"source":"KAUP EERO","target":"MAAELU EDENDAMISE SIHTASUTUS"},{"source":"KAUP EERO","target":"KIRDE VARAD AS"},{"source":"KAUP EERO","target":"VKG OIL AS"},{"source":"KAUP EERO","target":"VEDRU ST 8 O"},{"source":"KAUP EERO","target":"VIRU ELEKTRIVRGUD O"},{"source":"JEGERS ANDRIS","target":"KPMG BALTICS O"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"JEGERS ANDRIS","target":"OSAHING UP HELLING"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS MAINOR"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS PINUS"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS PRINTON"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS RAIT"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS SCHLSSLE HOTEL GROUP"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS TALLINNA ARENDUSED"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS TECHNOMAR & ADREM"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS TIKKURILA"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS TOODE"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS VABA MAA"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS ECE EUROPEAN CITY ESTATES"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS ESTIKO - PLASTAR"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS FARMI PIIMATSTUS"},{"source":"JEGERS ANDRIS","target":"AKTSIASELTS HANSA CANDLE"},{"source":"JEGERS ANDRIS","target":"AMBIENT SOUND INVESTMENTS O"},{"source":"JEGERS ANDRIS","target":"AS AREALIS"},{"source":"JEGERS ANDRIS","target":"AS BALTIC MARINE GROUP"},{"source":"JEGERS ANDRIS","target":"AS EESTI GAAS"},{"source":"JEGERS ANDRIS","target":"AS EG EHITUS"},{"source":"JEGERS ANDRIS","target":"AS GAASIVRK"},{"source":"JEGERS ANDRIS","target":"AS GLAMOX"},{"source":"JEGERS ANDRIS","target":"AS HOOLEKANDETEENUSED"},{"source":"JEGERS ANDRIS","target":"AS PCT ARVUTID"},{"source":"JEGERS ANDRIS","target":"ASSA ABLOY OPENING SOLUTION BALTIC AS"},{"source":"JEGERS ANDRIS","target":"AS SHNELLI RIMAJA"},{"source":"JEGERS ANDRIS","target":"AS SOKOTEL"},{"source":"JEGERS ANDRIS","target":"AS TARISTON"},{"source":"JEGERS ANDRIS","target":"ARTEKNO EESTI O"},{"source":"JEGERS ANDRIS","target":"BAUROC AS"},{"source":"JEGERS ANDRIS","target":"CITY MOTORS AKTSIASELTS"},{"source":"JEGERS ANDRIS","target":"ELENGER MARINE O"},{"source":"JEGERS ANDRIS","target":"EMG KARJRID O"},{"source":"JEGERS ANDRIS","target":"ETRA BALTI AS"},{"source":"JEGERS ANDRIS","target":"OSAHING UP HELLING"},{"source":"JEGERS ANDRIS","target":"INTERNA INVEST O"},{"source":"JEGERS ANDRIS","target":"LECTRA BALTIC O"},{"source":"JEGERS ANDRIS","target":"OSAHING HIIRTE JUUST"},{"source":"JEGERS ANDRIS","target":"OSAHING ESTOVER"},{"source":"JEGERS ANDRIS","target":"OSAHING ESTOVER PIIMATSTUS"},{"source":"JEGERS ANDRIS","target":"OSAHING RAGLOR"},{"source":"JEGERS ANDRIS","target":"OSAHING UP HELLING"},{"source":"JEGERS ANDRIS","target":"OSAHING VARA HTG"},{"source":"JEGERS ANDRIS","target":"O EESTI PANDIPAKEND"},{"source":"JEGERS ANDRIS","target":"O EG BIOFOND"},{"source":"JEGERS ANDRIS","target":"O EUROCON"},{"source":"JEGERS ANDRIS","target":"O FAIRFIELD HOLDING"},{"source":"JEGERS ANDRIS","target":"O KALDA KODU"},{"source":"JEGERS ANDRIS","target":"O INF KALDASE"},{"source":"JEGERS ANDRIS","target":"O INF LIIVALAIA"},{"source":"JEGERS ANDRIS","target":"O INF MUSTAKIVI"},{"source":"JEGERS ANDRIS","target":"O INF SADAMA 11"},{"source":"JEGERS ANDRIS","target":"O INF SADAMA 579"},{"source":"JEGERS ANDRIS","target":"O INF TENNISEKESKUS"},{"source":"JEGERS ANDRIS","target":"O NOBE"},{"source":"JEGERS ANDRIS","target":"O SCHMIDT & SONS"},{"source":"JEGERS ANDRIS","target":"O PANDIPAKENDI AUTOMATISEERITUD KITLUSSSTEEM"},{"source":"JEGERS ANDRIS","target":"RAGN-SELLS AS"},{"source":"JEGERS ANDRIS","target":"SIHTASUTUS TALLINNA LASTEHAIGLA"},{"source":"JEGERS ANDRIS","target":"SIHTASUTUS EESTI-HOLLANDI HEATEGEVUSFOND"},{"source":"JEGERS ANDRIS","target":"SCHCO EESTI O"},{"source":"JEGERS ANDRIS","target":"SAINT-GOBAIN GLASS ESTONIA SE"},{"source":"JEGERS ANDRIS","target":"RAMIRENT BALTIC AS"},{"source":"JEGERS ANDRIS","target":"SAAREMAA PIIMAHISTU"},{"source":"JEGERS ANDRIS","target":"ROCHE EESTI OSAHING"},{"source":"JEGERS ANDRIS","target":"SK ID SOLUTIONS AS"},{"source":"JEGERS ANDRIS","target":"KV1 O"},{"source":"JEGERS ANDRIS","target":"ORCHIS O"},{"source":"JEGERS ANDRIS","target":"NMME ERAHARIDUSE SIHTASUTUS"},{"source":"JEGERS ANDRIS","target":"OEM EESTI OSAHING"},{"source":"JEGERS ANDRIS","target":"MY FITNESS AS"},{"source":"JEGERS ANDRIS","target":"OSAHING LUMAN JA POJAD"},{"source":"JEGERS ANDRIS","target":"OSAHING METROPRINT SYSTEMS"},{"source":"JEGERS ANDRIS","target":"MANAGETRADE O"},{"source":"JEGERS ANDRIS","target":"LIVIKO KAUBANDUSE O"},{"source":"JEGERS ANDRIS","target":"MAAG KINNISVARA O"},{"source":"JEGERS ANDRIS","target":"MERITON HOTELS O"},{"source":"JEGERS ANDRIS","target":"SDRA FOREST ESTONIA O"},{"source":"JEGERS ANDRIS","target":"SDRA FOREST ESTONIA O"},{"source":"JEGERS ANDRIS","target":"TERE AKTSIASELTS"},{"source":"JEGERS ANDRIS","target":"TERMAK REAL ESTATE O"},{"source":"JEGERS ANDRIS","target":"VANA-POSTI KINNISVARA O"},{"source":"JEGERS ANDRIS","target":"VALLIN BALTIC AS"},{"source":"JEGERS ANDRIS","target":"YAICO AS"},{"source":"RANDMANN LIINA","target":"KPMG BALTICS O"},{"source":"RANDMANN LIINA","target":"AS FORT AERO"},{"source":"RANDMANN LIINA","target":"OSAHING LE"},{"source":"ZERNASK JOEL","target":"KPMG BALTICS O"},{"source":"ZERNASK JOEL","target":"NORTH ASSETS O"},{"source":"ZERNASK JOEL","target":"NORTH CAPITAL O"},{"source":"ZERNASK JOEL","target":"NORTH ASSETS O"},{"source":"ZERNASK JOEL","target":"NORTH CAPITAL O"},{"source":"ZERNASK JOEL","target":"O LERRAG"},{"source":"ZERNASK JOEL","target":"O LERRAG"},{"source":"ZERNASK JOEL","target":"O HARTON"},{"source":"ZERNASK JOEL","target":"NORTH ASSETS O"},{"source":"ZERNASK JOEL","target":"NORTH CAPITAL O"},{"source":"TOIGER TARMO","target":"KPMG BALTICS O"},{"source":"TOIGER TARMO","target":"MONERE O"},{"source":"TOIGER TARMO","target":"MONERE O"},{"source":"TOIGER TARMO","target":"MONERE O"},{"source":"LINDPERE HANNO","target":"KPMG BALTICS O"},{"source":"LINDPERE HANNO","target":"OSAHING CONTINENTAL MANAGEMENT"},{"source":"LINDPERE HANNO","target":"AKTSIASELTS TALLINK"},{"source":"LINDPERE HANNO","target":"ALTEAMS EESTI O"},{"source":"LINDPERE HANNO","target":"AS EXPRESS POST"},{"source":"LINDPERE HANNO","target":"OSAHING CONTINENTAL MANAGEMENT"},{"source":"LINDPERE HANNO","target":"O HCM INVESTMENTS"},{"source":"LINDPERE HANNO","target":"O CM KINNISVARA"},{"source":"LINDPERE HANNO","target":"O CM KINNISVARA"},{"source":"LINDPERE HANNO","target":"FITTURNER O"},{"source":"LINDPERE HANNO","target":"OSAHING HT LAEVATEENINDUS"},{"source":"LINDPERE HANNO","target":"OSAHING HT MEELELAHUTUS"},{"source":"LINDPERE HANNO","target":"O CM KINNISVARA"},{"source":"LINDPERE HANNO","target":"O SWISSOTEL ESTONIA"},{"source":"LINDPERE HANNO","target":"RIIGI KINNISVARA AKTSIASELTS"},{"source":"LINDPERE HANNO","target":"RIIGI KINNISVARA AKTSIASELTS"},{"source":"LINDPERE HANNO","target":"RIIGI KINNISVARA AKTSIASELTS"},{"source":"LINDPERE HANNO","target":"RIIGI KINNISVARA AKTSIASELTS"},{"source":"LINDPERE HANNO","target":"RIIGI KINNISVARA AKTSIASELTS"},{"source":"LINDPERE HANNO","target":"RIIGI KINNISVARA AKTSIASELTS"},{"source":"LINDPERE HANNO","target":"RIIGI KINNISVARA AKTSIASELTS"},{"source":"LINDPERE HANNO","target":"KREENHOLMI VALDUSE AKTSIASELTS"},{"source":"LINDPERE HANNO","target":"LUNDBECK EESTI AKTSIASELTS"},{"source":"LINDPERE HANNO","target":"TAMRO EESTI O"},{"source":"LINDPERE HANNO","target":"TSCHUDI SHIP MANAGEMENT AS"},{"source":"LEPPIK MAIKE","target":"KPMG BALTICS O"},{"source":"AKTSIASELTS TECHNOMAR & ADREM","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"AKTSIASELTS FIFAA","target":"AKTSIASELTS MARSTEN MARKETING"},{"source":"AS KAUPMEES GRUPP","target":"AKTSIASELTS KAUPMEES & KO"},{"source":"ETTEVTLUSE JA INNOVATSIOONI SIHTASUTUS","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"ETTEVTLUSE JA INNOVATSIOONI SIHTASUTUS","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"O FAIRFIELD HOLDING","target":"AKTSIASELTS MISTRA-AUTEX"},{"source":"JRVI KIM JOHAN","target":"KPMG BALTICS O"},{"source":"ANTONEN KIMMO PETTERI","target":"KPMG BALTICS O"},{"source":"TLLI ILMAR","target":"KPMG BALTICS O"},{"source":"TLLI ILMAR","target":"OSAHING KPMG RAAMATUPIDAMISTEENUSED"},{"source":"LUNDIN ANDERS EDVARD","target":"OSAHING KPMG RAAMATUPIDAMISTEENUSED"},{"source":"KAILIALA ESA JAAKKO","target":"OSAHING KPMG RAAMATUPIDAMISTEENUSED"},{"source":"PUNNONEN VESA SAKARI","target":"AKTSIASELTS KAUPMEES & KO"},{"source":"NINEPU-ROOSAAR KATRINA","target":"AKTSIASELTS KAUPMEES & KO"},{"source":"PAISTE MAIRI","target":"AKTSIASELTS KAUPMEES & KO"},{"source":"DIDRICHSEN HANS GUNNAR","target":"AKTSIASELTS KAUPMEES & KO"},{"source":"AKTSIASELTS MAARDU KAUBANDUSKESKUS","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"AUDEST AUDIITORTEENUSTE OSAHING","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"NEDAKOVSKI JURI","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"POPOV ROMAN","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"POPOV ROMAN","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"IZRAELJAN IGOR","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"IZRAELJAN IGOR","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"TOLOKOV ANDREI","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"DIETENBERG OLGA","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"MAJANDUS- JA KOMMUNIKATSIOONIMINISTEERIUM","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"MAJANDUS- JA KOMMUNIKATSIOONIMINISTEERIUM","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"KULDME IVO","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"KULDME IVO","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"KALVIK MARTTI","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"KALVIK MARTTI","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"JRVAN AARE","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"JRVAN AARE","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"RHESOO SIGNE","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"O ERMITEX INVESTEERINGUD","target":"AKTSIASELTS MAREN INVEST"},{"source":"NMMISTE MATI","target":"AKTSIASELTS MAREN INVEST"},{"source":"SDERSTRM LARS JOHAN","target":"AKTSIASELTS MAREN INVEST"},{"source":"SDERSTRM LARS JOHAN","target":"AKTSIASELTS MAREN INVEST"},{"source":"GRANT THORNTON BALTIC O","target":"AKTSIASELTS MAREN INVEST"},{"source":"SDERSTRM JAN ANTON LUDWIG","target":"AKTSIASELTS MAREN INVEST"},{"source":"KULLAMAA MARIKA","target":"AKTSIASELTS MAREN INVEST"},{"source":"AKTSIASELTS BELMOT ESTONIA","target":"AKTSIASELTS MAREN INVEST"},{"source":"DECOM HOLDINGS LTD","target":"AKTSIASELTS MARSTEN MARKETING"},{"source":"LOIDE KAREL-DANIIL","target":"AKTSIASELTS MARSTEN MARKETING"},{"source":"KALLE ANTI","target":"AKTSIASELTS MARSTEN MARKETING"},{"source":"KALLE ANTI","target":"AKTSIASELTS MARSTEN MARKETING"},{"source":"ALTRAJA ARE","target":"AKTSIASELTS MARSTEN MARKETING"},{"source":"ALTRAJA ARE","target":"AKTSIASELTS MARSTEN MARKETING"},{"source":"VOROBJOVA IRINA","target":"AKTSIASELTS MATUREKS"},{"source":"ARULA HELEN","target":"AKTSIASELTS MATUREKS"},{"source":"BORTNIK INGA","target":"AKTSIASELTS MATUREKS"},{"source":"SKYWIND O","target":"AKTSIASELTS MATUREKS"},{"source":"KOTKAS ERLEND","target":"AKTSIASELTS MATUREKS"},{"source":"ALAS MARE","target":"AKTSIASELTS MIKSKAAR"},{"source":"ALAS RIHO","target":"AKTSIASELTS MIKSKAAR"},{"source":"ALAS RIHO","target":"AKTSIASELTS MIKSKAAR"},{"source":"ALAS RIHO","target":"AKTSIASELTS MIKSKAAR"},{"source":"ALAS SULEV","target":"AKTSIASELTS MIKSKAAR"},{"source":"KISEL MARGUS","target":"AKTSIASELTS MISTRA-AUTEX"},{"source":"PIIBELEHT HALJE","target":"AKTSIASELTS MISTRA-AUTEX"},{"source":"PIHLAK MONICA","target":"AKTSIASELTS MISTRA-AUTEX"},{"source":"TAMM PRIIT","target":"AKTSIASELTS MISTRA-AUTEX"},{"source":"MAVROMARIS ANDREAS","target":"AKTSIASELTS NITROFERT"},{"source":"SHETLER-JONES ROBERT MICHAEL TOBIAS","target":"AKTSIASELTS NITROFERT"},{"source":"BABALAROV SERHII","target":"AKTSIASELTS NITROFERT"},{"source":"OSTCHEM RESOURCES LIMITED","target":"AKTSIASELTS NITROFERT"},{"source":"FIRTASH DMYTRO","target":"AKTSIASELTS NITROFERT"},{"source":"IZRAELJAN ANTON","target":"AKTSIASELTS KEEMIAKAUBANDUS"},{"source":"SAVI KATRIN","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"},{"source":"KELDO ERKKI","target":"AKTSIASELTS KREDEX KREDIIDIKINDLUSTUS"}]'),Id={nodes:mS,links:IS},ES="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='100'%20height='100'%3e%3cpath%20fill='%23ffffff'%20fill-rule='evenodd'%20d='M18.685%2019.097A9.723%209.723%200%200%200%2021.75%2012c0-5.385-4.365-9.75-9.75-9.75S2.25%206.615%202.25%2012a9.723%209.723%200%200%200%203.065%207.097A9.716%209.716%200%200%200%2012%2021.75a9.716%209.716%200%200%200%206.685-2.653Zm-12.54-1.285A7.486%207.486%200%200%201%2012%2015a7.486%207.486%200%200%201%205.855%202.812A8.224%208.224%200%200%201%2012%2020.25a8.224%208.224%200%200%201-5.855-2.438ZM15.75%209a3.75%203.75%200%201%201-7.5%200%203.75%203.75%200%200%201%207.5%200Z'%20clip-rule='evenodd'%20/%3e%3c/svg%3e";window.trellis=Rd;console.log(gS);console.log(yS);const TS=Id.nodes;var gs=Id.links;gs=gs.map((i,r)=>({...i,id:r,style:{arrow:"forward"}}));const Ed={color:"#7CBBF3",labelSize:10,labelWordWrap:260,stroke:[{color:"#FFF",width:2}],icon:{type:"imageIcon",url:ES,scale:.3},badge:[{position:45,color:"#7CBBF3",stroke:"#FFF",icon:{type:"textIcon",family:"Helvetica",size:10,color:"#FFF",text:"8"}},{position:135,color:"#7CBBF3",stroke:"#FFF",icon:{type:"textIcon",family:"Helvetica",size:10,color:"#FFF",text:"8"}},{position:315,color:"#7CBBF3",stroke:"#FFF",icon:{type:"textIcon",family:"Helvetica",size:10,color:"#FFF",text:"8"}}]},_S=TS.map(i=>({...i,label:i.id,style:Ed,radius:18})),OS=Qs.Layout(),Li=document.getElementById("graph"),Hr=Zs.Renderer({container:Li});OS({nodes:_S,edges:gs,options:{nodePadding:40}}).then(({nodes:i,edges:r})=>{const{x:e,y:t,zoom:n}=Tn.boundsToViewport(Tn.getSelectionBounds(i,40),{width:Li.clientWidth,height:Li.clientHeight}),a={x:e,y:t,zoom:n,width:Li.clientWidth,height:Li.clientHeight,onViewportDrag:({viewportX:o,viewportY:s})=>{a.x=o,a.y=s,Hr({nodes:i,edges:r,options:a})},onViewportWheel:({viewportX:o,viewportY:s,viewportZoom:u})=>{a.x=o,a.y=s,a.zoom=u,Hr({nodes:i,edges:r,options:a})},onNodeDrag:({nodeX:o,nodeY:s,target:{id:u}})=>{i=i.map(h=>h.id===u?{...h,x:o,y:s}:h),Hr({nodes:i,edges:r,options:a})},onNodePointerEnter:({target:o})=>{i=i.map(s=>o.id===s.id?{...s,style:{...s.style,stroke:[...s.style.stroke,{color:"#ccc",width:2}]}}:s),Hr({nodes:i,edges:r,options:a})},onNodePointerLeave:({target:o})=>{i=i.map(s=>o.id===s.id?{...s,style:Ed}:s),Hr({nodes:i,edges:r,options:a})}};Hr({nodes:i,edges:r,options:a})});
